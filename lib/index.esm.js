/*!
 * mazey-wechat-launch-app v2.3.1-mini.0 https://www.npmjs.com/package/mazey-wechat-launch-app
 * (c) 2018-2025 Cheng
 * Released under the MIT License.
 */
import{genCustomConsole as t,addStyle as e,generateRndNum as n,getQueryParam as r}from"mazey";var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var a,c,u=function(t){return t&&t.Math==Math&&t},f=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof o&&o)||function(){return this}()||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},l=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),p=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),h=Function.prototype.call,d=p?h.bind(h):function(){return h.apply(h,arguments)},v={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,g=y&&!v.call({1:2},1)?function(t){var e=y(this,t);return!!e&&e.enumerable}:v,m={f:g},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=Function.prototype,S=w.call,A=p&&w.bind.bind(S,S),O=p?A:function(t){return function(){return S.apply(t,arguments)}},E=O({}.toString),P=O("".slice),T=function(t){return P(E(t),8,-1)},_=Object,L=O("".split),j=s((function(){return!_("z").propertyIsEnumerable(0)}))?function(t){return"String"==T(t)?L(t,""):_(t)}:_,x=function(t){return null==t},I=TypeError,C=function(t){if(x(t))throw I("Can't call method on "+t);return t},k=function(t){return j(C(t))},R="object"==typeof document&&document.all,N={all:R,IS_HTMLDDA:void 0===R&&void 0!==R},M=N.all,U=N.IS_HTMLDDA?function(t){return"function"==typeof t||t===M}:function(t){return"function"==typeof t},D=N.all,H=N.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:U(t)||t===D}:function(t){return"object"==typeof t?null!==t:U(t)},B=function(t,e){return arguments.length<2?(n=f[t],U(n)?n:void 0):f[t]&&f[t][e];var n},W=O({}.isPrototypeOf),F="undefined"!=typeof navigator&&String(navigator.userAgent)||"",z=f.process,G=f.Deno,q=z&&z.versions||G&&G.version,V=q&&q.v8;V&&(c=(a=V.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!c&&F&&(!(a=F.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=F.match(/Chrome\/(\d+)/))&&(c=+a[1]);var X=c,J=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&X&&X<41})),Y=J&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,K=Object,Q=Y?function(t){return"symbol"==typeof t}:function(t){var e=B("Symbol");return U(e)&&W(e.prototype,K(t))},$=String,Z=function(t){try{return $(t)}catch(t){return"Object"}},tt=TypeError,et=function(t){if(U(t))return t;throw tt(Z(t)+" is not a function")},nt=function(t,e){var n=t[e];return x(n)?void 0:et(n)},rt=TypeError,ot=Object.defineProperty,it=function(t,e){try{ot(f,t,{value:e,configurable:!0,writable:!0})}catch(n){f[t]=e}return e},at="__core-js_shared__",ct=f[at]||it(at,{}),ut=i((function(t){(t.exports=function(t,e){return ct[t]||(ct[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),ft=Object,st=function(t){return ft(C(t))},lt=O({}.hasOwnProperty),pt=Object.hasOwn||function(t,e){return lt(st(t),e)},ht=0,dt=Math.random(),vt=O(1..toString),yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+vt(++ht+dt,36)},gt=f.Symbol,mt=ut("wks"),bt=Y?gt.for||gt:gt&&gt.withoutSetter||yt,wt=function(t){return pt(mt,t)||(mt[t]=J&&pt(gt,t)?gt[t]:bt("Symbol."+t)),mt[t]},St=TypeError,At=wt("toPrimitive"),Ot=function(t,e){if(!H(t)||Q(t))return t;var n,r=nt(t,At);if(r){if(void 0===e&&(e="default"),n=d(r,t,e),!H(n)||Q(n))return n;throw St("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&U(n=t.toString)&&!H(r=d(n,t)))return r;if(U(n=t.valueOf)&&!H(r=d(n,t)))return r;if("string"!==e&&U(n=t.toString)&&!H(r=d(n,t)))return r;throw rt("Can't convert object to primitive value")}(t,e)},Et=function(t){var e=Ot(t,"string");return Q(e)?e:e+""},Pt=f.document,Tt=H(Pt)&&H(Pt.createElement),_t=function(t){return Tt?Pt.createElement(t):{}},Lt=!l&&!s((function(){return 7!=Object.defineProperty(_t("div"),"a",{get:function(){return 7}}).a})),jt=Object.getOwnPropertyDescriptor,xt={f:l?jt:function(t,e){if(t=k(t),e=Et(e),Lt)try{return jt(t,e)}catch(t){}if(pt(t,e))return b(!d(m.f,t,e),t[e])}},It=l&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ct=String,kt=TypeError,Rt=function(t){if(H(t))return t;throw kt(Ct(t)+" is not an object")},Nt=TypeError,Mt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,Dt="enumerable",Ht="configurable",Bt="writable",Wt={f:l?It?function(t,e,n){if(Rt(t),e=Et(e),Rt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Bt in n&&!n[Bt]){var r=Ut(t,e);r&&r[Bt]&&(t[e]=n.value,n={configurable:Ht in n?n[Ht]:r[Ht],enumerable:Dt in n?n[Dt]:r[Dt],writable:!1})}return Mt(t,e,n)}:Mt:function(t,e,n){if(Rt(t),e=Et(e),Rt(n),Lt)try{return Mt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Nt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ft=l?function(t,e,n){return Wt.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},zt=Function.prototype,Gt=l&&Object.getOwnPropertyDescriptor,qt=pt(zt,"name"),Vt={EXISTS:qt,PROPER:qt&&"something"===function(){}.name,CONFIGURABLE:qt&&(!l||l&&Gt(zt,"name").configurable)},Xt=O(Function.toString);U(ct.inspectSource)||(ct.inspectSource=function(t){return Xt(t)});var Jt,Yt,Kt,Qt=ct.inspectSource,$t=f.WeakMap,Zt=U($t)&&/native code/.test(String($t)),te=ut("keys"),ee=function(t){return te[t]||(te[t]=yt(t))},ne={},re="Object already initialized",oe=f.TypeError,ie=f.WeakMap;if(Zt||ct.state){var ae=ct.state||(ct.state=new ie);ae.get=ae.get,ae.has=ae.has,ae.set=ae.set,Jt=function(t,e){if(ae.has(t))throw oe(re);return e.facade=t,ae.set(t,e),e},Yt=function(t){return ae.get(t)||{}},Kt=function(t){return ae.has(t)}}else{var ce=ee("state");ne[ce]=!0,Jt=function(t,e){if(pt(t,ce))throw oe(re);return e.facade=t,Ft(t,ce,e),e},Yt=function(t){return pt(t,ce)?t[ce]:{}},Kt=function(t){return pt(t,ce)}}var ue={set:Jt,get:Yt,has:Kt,enforce:function(t){return Kt(t)?Yt(t):Jt(t,{})},getterFor:function(t){return function(e){var n;if(!H(e)||(n=Yt(e)).type!==t)throw oe("Incompatible receiver, "+t+" required");return n}}},fe=i((function(t){var e=Vt.CONFIGURABLE,n=ue.enforce,r=ue.get,o=String,i=Object.defineProperty,a=O("".slice),c=O("".replace),u=O([].join),f=l&&!s((function(){return 8!==i((function(){}),"length",{value:8}).length})),p=String(String).split("String"),h=t.exports=function(t,r,s){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(r="get "+r),s&&s.setter&&(r="set "+r),(!pt(t,"name")||e&&t.name!==r)&&(l?i(t,"name",{value:r,configurable:!0}):t.name=r),f&&s&&pt(s,"arity")&&t.length!==s.arity&&i(t,"length",{value:s.arity});try{s&&pt(s,"constructor")&&s.constructor?l&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var h=n(t);return pt(h,"source")||(h.source=u(p,"string"==typeof r?r:"")),t};Function.prototype.toString=h((function(){return U(this)&&r(this).source||Qt(this)}),"toString")})),se=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(U(n)&&fe(n,i,r),r.global)o?t[e]=n:it(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:Wt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},le=Math.ceil,pe=Math.floor,he=Math.trunc||function(t){var e=+t;return(e>0?pe:le)(e)},de=function(t){var e=+t;return e!=e||0===e?0:he(e)},ve=Math.max,ye=Math.min,ge=Math.min,me=function(t){return(e=t.length)>0?ge(de(e),9007199254740991):0;var e},be=function(t){return function(e,n,r){var o,i=k(e),a=me(i),c=function(t,e){var n=de(t);return n<0?ve(n+e,0):ye(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},we={includes:be(!0),indexOf:be(!1)}.indexOf,Se=O([].push),Ae=function(t,e){var n,r=k(t),o=0,i=[];for(n in r)!pt(ne,n)&&pt(r,n)&&Se(i,n);for(;e.length>o;)pt(r,n=e[o++])&&(~we(i,n)||Se(i,n));return i},Oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ee=Oe.concat("length","prototype"),Pe={f:Object.getOwnPropertyNames||function(t){return Ae(t,Ee)}},Te={f:Object.getOwnPropertySymbols},_e=O([].concat),Le=B("Reflect","ownKeys")||function(t){var e=Pe.f(Rt(t)),n=Te.f;return n?_e(e,n(t)):e},je=function(t,e,n){for(var r=Le(e),o=Wt.f,i=xt.f,a=0;a<r.length;a++){var c=r[a];pt(t,c)||n&&pt(n,c)||o(t,c,i(e,c))}},xe=/#|\.prototype\./,Ie=function(t,e){var n=ke[Ce(t)];return n==Ne||n!=Re&&(U(e)?s(e):!!e)},Ce=Ie.normalize=function(t){return String(t).replace(xe,".").toLowerCase()},ke=Ie.data={},Re=Ie.NATIVE="N",Ne=Ie.POLYFILL="P",Me=Ie,Ue=xt.f,De=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,s=t.stat;if(n=u?f:s?f[c]||it(c,{}):(f[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=Ue(n,r))&&a.value:n[r],!Me(u?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;je(i,o)}(t.sham||o&&o.sham)&&Ft(i,"sham",!0),se(n,r,i,t)}},He=Object.keys||function(t){return Ae(t,Oe)},Be=Object.assign,We=Object.defineProperty,Fe=O([].concat),ze=!Be||s((function(){if(l&&1!==Be({b:1},Be(We({},"a",{enumerable:!0,get:function(){We(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Be({},t)[n]||He(Be({},e)).join("")!=r}))?function(t,e){for(var n=st(t),r=arguments.length,o=1,i=Te.f,a=m.f;r>o;)for(var c,u=j(arguments[o++]),f=i?Fe(He(u),i(u)):He(u),s=f.length,p=0;s>p;)c=f[p++],l&&!d(a,u,c)||(n[c]=u[c]);return n}:Be;De({target:"Object",stat:!0,arity:2,forced:Object.assign!==ze},{assign:ze});var Ge=Array.isArray||function(t){return"Array"==T(t)},qe=TypeError,Ve=function(t){if(t>9007199254740991)throw qe("Maximum allowed index exceeded");return t},Xe=function(t,e,n){var r=Et(e);r in t?Wt.f(t,r,b(0,n)):t[r]=n},Je={};Je[wt("toStringTag")]="z";var Ye="[object z]"===String(Je),Ke=wt("toStringTag"),Qe=Object,$e="Arguments"==T(function(){return arguments}()),Ze=Ye?T:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Qe(t),Ke))?n:$e?T(e):"Object"==(r=T(e))&&U(e.callee)?"Arguments":r},tn=function(){},en=[],nn=B("Reflect","construct"),rn=/^\s*(?:class|function)\b/,on=O(rn.exec),an=!rn.exec(tn),cn=function(t){if(!U(t))return!1;try{return nn(tn,en,t),!0}catch(t){return!1}},un=function(t){if(!U(t))return!1;switch(Ze(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return an||!!on(rn,Qt(t))}catch(t){return!0}};un.sham=!0;var fn,sn=!nn||s((function(){var t;return cn(cn.call)||!cn(Object)||!cn((function(){t=!0}))||t}))?un:cn,ln=wt("species"),pn=Array,hn=function(t,e){return new(function(t){var e;return Ge(t)&&(e=t.constructor,(sn(e)&&(e===pn||Ge(e.prototype))||H(e)&&null===(e=e[ln]))&&(e=void 0)),void 0===e?pn:e}(t))(0===e?0:e)},dn=wt("species"),vn=wt("isConcatSpreadable"),yn=X>=51||!s((function(){var t=[];return t[vn]=!1,t.concat()[0]!==t})),gn=function(t){if(!H(t))return!1;var e=t[vn];return void 0!==e?!!e:Ge(t)},mn=!(yn&&(fn="concat",X>=51||!s((function(){var t=[];return(t.constructor={})[dn]=function(){return{foo:1}},1!==t[fn](Boolean).foo}))));De({target:"Array",proto:!0,arity:1,forced:mn},{concat:function(t){var e,n,r,o,i,a=st(this),c=hn(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(gn(i=-1===e?a:arguments[e]))for(o=me(i),Ve(u+o),n=0;n<o;n++,u++)n in i&&Xe(c,u,i[n]);else Ve(u+1),Xe(c,u++,i);return c.length=u,c}});var bn,wn=l&&!It?Object.defineProperties:function(t,e){Rt(t);for(var n,r=k(e),o=He(e),i=o.length,a=0;i>a;)Wt.f(t,n=o[a++],r[n]);return t},Sn={f:wn},An=B("document","documentElement"),On="prototype",En="script",Pn=ee("IE_PROTO"),Tn=function(){},_n=function(t){return"<"+En+">"+t+"</"+En+">"},Ln=function(t){t.write(_n("")),t.close();var e=t.parentWindow.Object;return t=null,e},jn=function(){try{bn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;jn="undefined"!=typeof document?document.domain&&bn?Ln(bn):(e=_t("iframe"),n="java"+En+":",e.style.display="none",An.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(_n("document.F=Object")),t.close(),t.F):Ln(bn);for(var r=Oe.length;r--;)delete jn[On][Oe[r]];return jn()};ne[Pn]=!0;var xn=Object.create||function(t,e){var n;return null!==t?(Tn[On]=Rt(t),n=new Tn,Tn[On]=null,n[Pn]=t):n=jn(),void 0===e?n:Sn.f(n,e)},In=Wt.f,Cn=wt("unscopables"),kn=Array.prototype;null==kn[Cn]&&In(kn,Cn,{configurable:!0,value:xn(null)});var Rn,Nn,Mn,Un=function(t){kn[Cn][t]=!0},Dn={},Hn=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Bn=ee("IE_PROTO"),Wn=Object,Fn=Wn.prototype,zn=Hn?Wn.getPrototypeOf:function(t){var e=st(t);if(pt(e,Bn))return e[Bn];var n=e.constructor;return U(n)&&e instanceof n?n.prototype:e instanceof Wn?Fn:null},Gn=wt("iterator"),qn=!1;[].keys&&("next"in(Mn=[].keys())?(Nn=zn(zn(Mn)))!==Object.prototype&&(Rn=Nn):qn=!0);var Vn=!H(Rn)||s((function(){var t={};return Rn[Gn].call(t)!==t}));Vn&&(Rn={}),U(Rn[Gn])||se(Rn,Gn,(function(){return this}));var Xn={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:qn},Jn=Wt.f,Yn=wt("toStringTag"),Kn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!pt(t,Yn)&&Jn(t,Yn,{configurable:!0,value:e})},Qn=Xn.IteratorPrototype,$n=function(){return this},Zn=String,tr=TypeError,er=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=function(t,e,n){try{return O(et(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Rt(n),function(t){if("object"==typeof t||U(t))return t;throw tr("Can't set "+Zn(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),nr=Vt.PROPER,rr=Vt.CONFIGURABLE,or=Xn.IteratorPrototype,ir=Xn.BUGGY_SAFARI_ITERATORS,ar=wt("iterator"),cr="keys",ur="values",fr="entries",sr=function(){return this},lr=function(t,e,n,r,o,i,a){!function(t,e,n,r){var o=e+" Iterator";t.prototype=xn(Qn,{next:b(+!r,n)}),Kn(t,o,!1),Dn[o]=$n}(n,e,r);var c,u,f,s=function(t){if(t===o&&y)return y;if(!ir&&t in h)return h[t];switch(t){case cr:case ur:case fr:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,h=t.prototype,v=h[ar]||h["@@iterator"]||o&&h[o],y=!ir&&v||s(o),g="Array"==e&&h.entries||v;if(g&&(c=zn(g.call(new t)))!==Object.prototype&&c.next&&(zn(c)!==or&&(er?er(c,or):U(c[ar])||se(c,ar,sr)),Kn(c,l,!0)),nr&&o==ur&&v&&v.name!==ur&&(rr?Ft(h,"name",ur):(p=!0,y=function(){return d(v,this)})),o)if(u={values:s(ur),keys:i?y:s(cr),entries:s(fr)},a)for(f in u)(ir||p||!(f in h))&&se(h,f,u[f]);else De({target:e,proto:!0,forced:ir||p},u);return h[ar]!==y&&se(h,ar,y,{name:o}),Dn[e]=y,u},pr=function(t,e){return{value:t,done:e}},hr=Wt.f,dr="Array Iterator",vr=ue.set,yr=ue.getterFor(dr),gr=lr(Array,"Array",(function(t,e){vr(this,{type:dr,target:k(t),index:0,kind:e})}),(function(){var t=yr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,pr(void 0,!0)):pr("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),mr=Dn.Arguments=Dn.Array;if(Un("keys"),Un("values"),Un("entries"),l&&"values"!==mr.name)try{hr(mr,"name",{value:"values"})}catch(t){}var br=Ye?{}.toString:function(){return"[object "+Ze(this)+"]"};Ye||se(Object.prototype,"toString",br,{unsafe:!0});var wr,Sr,Ar,Or,Er="undefined"!=typeof process&&"process"==T(process),Pr=wt("species"),Tr=TypeError,_r=TypeError,Lr=wt("species"),jr=function(t,e){var n,r=Rt(t).constructor;return void 0===r||x(n=Rt(r)[Lr])?e:function(t){if(sn(t))return t;throw _r(Z(t)+" is not a constructor")}(n)},xr=Function.prototype,Ir=xr.apply,Cr=xr.call,kr="object"==typeof Reflect&&Reflect.apply||(p?Cr.bind(Ir):function(){return Cr.apply(Ir,arguments)}),Rr=function(t){if("Function"===T(t))return O(t)},Nr=Rr(Rr.bind),Mr=function(t,e){return et(t),void 0===e?t:p?Nr(t,e):function(){return t.apply(e,arguments)}},Ur=O([].slice),Dr=TypeError,Hr=/(?:ipad|iphone|ipod).*applewebkit/i.test(F),Br=f.setImmediate,Wr=f.clearImmediate,Fr=f.process,zr=f.Dispatch,Gr=f.Function,qr=f.MessageChannel,Vr=f.String,Xr=0,Jr={},Yr="onreadystatechange";s((function(){wr=f.location}));var Kr=function(t){if(pt(Jr,t)){var e=Jr[t];delete Jr[t],e()}},Qr=function(t){return function(){Kr(t)}},$r=function(t){Kr(t.data)},Zr=function(t){f.postMessage(Vr(t),wr.protocol+"//"+wr.host)};Br&&Wr||(Br=function(t){!function(t,e){if(t<e)throw Dr("Not enough arguments")}(arguments.length,1);var e=U(t)?t:Gr(t),n=Ur(arguments,1);return Jr[++Xr]=function(){kr(e,void 0,n)},Sr(Xr),Xr},Wr=function(t){delete Jr[t]},Er?Sr=function(t){Fr.nextTick(Qr(t))}:zr&&zr.now?Sr=function(t){zr.now(Qr(t))}:qr&&!Hr?(Or=(Ar=new qr).port2,Ar.port1.onmessage=$r,Sr=Mr(Or.postMessage,Or)):f.addEventListener&&U(f.postMessage)&&!f.importScripts&&wr&&"file:"!==wr.protocol&&!s(Zr)?(Sr=Zr,f.addEventListener("message",$r,!1)):Sr=Yr in _t("script")?function(t){An.appendChild(_t("script"))[Yr]=function(){An.removeChild(this),Kr(t)}}:function(t){setTimeout(Qr(t),0)});var to={set:Br,clear:Wr},eo=function(){this.head=null,this.tail=null};eo.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var no,ro,oo,io,ao,co=eo,uo=/ipad|iphone|ipod/i.test(F)&&"undefined"!=typeof Pebble,fo=/web0s(?!.*chrome)/i.test(F),so=xt.f,lo=to.set,po=f.MutationObserver||f.WebKitMutationObserver,ho=f.document,vo=f.process,yo=f.Promise,go=so(f,"queueMicrotask"),mo=go&&go.value;if(!mo){var bo=new co,wo=function(){var t,e;for(Er&&(t=vo.domain)&&t.exit();e=bo.get();)try{e()}catch(t){throw bo.head&&no(),t}t&&t.enter()};Hr||Er||fo||!po||!ho?!uo&&yo&&yo.resolve?((io=yo.resolve(void 0)).constructor=yo,ao=Mr(io.then,io),no=function(){ao(wo)}):Er?no=function(){vo.nextTick(wo)}:(lo=Mr(lo,f),no=function(){lo(wo)}):(ro=!0,oo=ho.createTextNode(""),new po(wo).observe(oo,{characterData:!0}),no=function(){oo.data=ro=!ro}),mo=function(t){bo.head||no(),bo.add(t)}}var So=mo,Ao=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Oo=f.Promise,Eo="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Po=!Eo&&!Er&&"object"==typeof window&&"object"==typeof document;Oo&&Oo.prototype;var To,_o,Lo,jo,xo,Io,Co,ko=wt("species"),Ro=!1,No=U(f.PromiseRejectionEvent),Mo=Me("Promise",(function(){var t=Qt(Oo),e=t!==String(Oo);if(!e&&66===X)return!0;if(!X||X<51||!/native code/.test(t)){var n=new Oo((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[ko]=r,!(Ro=n.then((function(){}))instanceof r))return!0}return!e&&(Po||Eo)&&!No})),Uo={CONSTRUCTOR:Mo,REJECTION_EVENT:No,SUBCLASSING:Ro},Do=TypeError,Ho=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Do("Bad Promise constructor");e=t,n=r})),this.resolve=et(e),this.reject=et(n)},Bo={f:function(t){return new Ho(t)}},Wo=to.set,Fo="Promise",zo=Uo.CONSTRUCTOR,Go=Uo.REJECTION_EVENT,qo=Uo.SUBCLASSING,Vo=ue.getterFor(Fo),Xo=ue.set,Jo=Oo&&Oo.prototype,Yo=Oo,Ko=Jo,Qo=f.TypeError,$o=f.document,Zo=f.process,ti=Bo.f,ei=ti,ni=!!($o&&$o.createEvent&&f.dispatchEvent),ri="unhandledrejection",oi=function(t){var e;return!(!H(t)||!U(e=t.then))&&e},ii=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,s=t.domain;try{c?(a||(2===e.rejection&&si(e),e.rejection=1),!0===c?n=i:(s&&s.enter(),n=c(i),s&&(s.exit(),o=!0)),n===t.promise?f(Qo("Promise-chain cycle")):(r=oi(n))?d(r,n,u,f):u(n)):f(i)}catch(t){s&&!o&&s.exit(),f(t)}},ai=function(t,e){t.notified||(t.notified=!0,So((function(){for(var n,r=t.reactions;n=r.get();)ii(n,t);t.notified=!1,e&&!t.rejection&&ui(t)})))},ci=function(t,e,n){var r,o;ni?((r=$o.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),f.dispatchEvent(r)):r={promise:e,reason:n},!Go&&(o=f["on"+t])?o(r):t===ri&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},ui=function(t){d(Wo,f,(function(){var e,n=t.facade,r=t.value;if(fi(t)&&(e=Ao((function(){Er?Zo.emit("unhandledRejection",r,n):ci(ri,n,r)})),t.rejection=Er||fi(t)?2:1,e.error))throw e.value}))},fi=function(t){return 1!==t.rejection&&!t.parent},si=function(t){d(Wo,f,(function(){var e=t.facade;Er?Zo.emit("rejectionHandled",e):ci("rejectionhandled",e,t.value)}))},li=function(t,e,n){return function(r){t(e,r,n)}},pi=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ai(t,!0))},hi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Qo("Promise can't be resolved itself");var r=oi(e);r?So((function(){var n={done:!1};try{d(r,e,li(hi,n,t),li(pi,n,t))}catch(e){pi(n,e,t)}})):(t.value=e,t.state=1,ai(t,!1))}catch(e){pi({done:!1},e,t)}}};if(zo&&(Ko=(Yo=function(t){!function(t,e){if(W(e,t))return t;throw Tr("Incorrect invocation")}(this,Ko),et(t),d(To,this);var e=Vo(this);try{t(li(hi,e),li(pi,e))}catch(t){pi(e,t)}}).prototype,(To=function(t){Xo(this,{type:Fo,done:!1,notified:!1,parent:!1,reactions:new co,rejection:!1,state:0,value:void 0})}).prototype=se(Ko,"then",(function(t,e){var n=Vo(this),r=ti(jr(this,Yo));return n.parent=!0,r.ok=!U(t)||t,r.fail=U(e)&&e,r.domain=Er?Zo.domain:void 0,0==n.state?n.reactions.add(r):So((function(){ii(r,n)})),r.promise})),_o=function(){var t=new To,e=Vo(t);this.promise=t,this.resolve=li(hi,e),this.reject=li(pi,e)},Bo.f=ti=function(t){return t===Yo||undefined===t?new _o(t):ei(t)},U(Oo)&&Jo!==Object.prototype)){Lo=Jo.then,qo||se(Jo,"then",(function(t,e){var n=this;return new Yo((function(t,e){d(Lo,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Jo.constructor}catch(t){}er&&er(Jo,Ko)}De({global:!0,constructor:!0,wrap:!0,forced:zo},{Promise:Yo}),Kn(Yo,Fo,!1),Co=B(Fo),l&&Co&&!Co[Pr]&&(jo=Co,xo=Pr,(Io={configurable:!0,get:function(){return this}}).get&&fe(Io.get,xo,{getter:!0}),Io.set&&fe(Io.set,xo,{setter:!0}),Wt.f(jo,xo,Io));var di=wt("iterator"),vi=Array.prototype,yi=wt("iterator"),gi=function(t){if(!x(t))return nt(t,yi)||nt(t,"@@iterator")||Dn[Ze(t)]},mi=TypeError,bi=function(t,e,n){var r,o;Rt(t);try{if(!(r=nt(t,"return"))){if("throw"===e)throw n;return n}r=d(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Rt(r),n},wi=TypeError,Si=function(t,e){this.stopped=t,this.result=e},Ai=Si.prototype,Oi=function(t,e,n){var r,o,i,a,c,u,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),v=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=Mr(e,l),m=function(t){return r&&bi(r,"normal",t),new Si(!0,t)},b=function(t){return p?(Rt(t),y?g(t[0],t[1],m):g(t[0],t[1])):y?g(t,m):g(t)};if(h)r=t.iterator;else if(v)r=t;else{if(!(o=gi(t)))throw wi(Z(t)+" is not iterable");if(void 0!==(s=o)&&(Dn.Array===s||vi[di]===s)){for(i=0,a=me(t);a>i;i++)if((c=b(t[i]))&&W(Ai,c))return c;return new Si(!1)}r=function(t,e){var n=arguments.length<2?gi(t):e;if(et(n))return Rt(d(n,t));throw mi(Z(t)+" is not iterable")}(t,o)}for(u=h?t.next:r.next;!(f=d(u,r)).done;){try{c=b(f.value)}catch(t){bi(r,"throw",t)}if("object"==typeof c&&c&&W(Ai,c))return c}return new Si(!1)},Ei=wt("iterator"),Pi=!1;try{var Ti=0,_i={next:function(){return{done:!!Ti++}},return:function(){Pi=!0}};_i[Ei]=function(){return this},Array.from(_i,(function(){throw 2}))}catch(t){}var Li=Uo.CONSTRUCTOR||!function(t,e){if(!e&&!Pi)return!1;var n=!1;try{var r={};r[Ei]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Oo.all(t).then(void 0,(function(){}))}));De({target:"Promise",stat:!0,forced:Li},{all:function(t){var e=this,n=Bo.f(e),r=n.resolve,o=n.reject,i=Ao((function(){var n=et(e.resolve),i=[],a=0,c=1;Oi(t,(function(t){var u=a++,f=!1;c++,d(n,e,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var ji=Uo.CONSTRUCTOR,xi=Oo&&Oo.prototype;if(De({target:"Promise",proto:!0,forced:ji,real:!0},{catch:function(t){return this.then(void 0,t)}}),U(Oo)){var Ii=B("Promise").prototype.catch;xi.catch!==Ii&&se(xi,"catch",Ii,{unsafe:!0})}De({target:"Promise",stat:!0,forced:Li},{race:function(t){var e=this,n=Bo.f(e),r=n.reject,o=Ao((function(){var o=et(e.resolve);Oi(t,(function(t){d(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),De({target:"Promise",stat:!0,forced:Uo.CONSTRUCTOR},{reject:function(t){var e=Bo.f(this);return d(e.reject,void 0,t),e.promise}});var Ci=Uo.CONSTRUCTOR;B("Promise"),De({target:"Promise",stat:!0,forced:Ci},{resolve:function(t){return function(t,e){if(Rt(t),H(e)&&e.constructor===t)return e;var n=Bo.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var ki=String,Ri=function(t){if("Symbol"===Ze(t))throw TypeError("Cannot convert a Symbol value to a string");return ki(t)},Ni=O("".charAt),Mi=O("".charCodeAt),Ui=O("".slice),Di=function(t){return function(e,n){var r,o,i=Ri(C(e)),a=de(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=Mi(i,a))<55296||r>56319||a+1===c||(o=Mi(i,a+1))<56320||o>57343?t?Ni(i,a):r:t?Ui(i,a,a+2):o-56320+(r-55296<<10)+65536}},Hi={codeAt:Di(!1),charAt:Di(!0)}.charAt,Bi="String Iterator",Wi=ue.set,Fi=ue.getterFor(Bi);lr(String,"String",(function(t){Wi(this,{type:Bi,string:Ri(t),index:0})}),(function(){var t,e=Fi(this),n=e.string,r=e.index;return r>=n.length?pr(void 0,!0):(t=Hi(n,r),e.index+=t.length,pr(t,!1))}));var zi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gi=_t("span").classList,qi=Gi&&Gi.constructor&&Gi.constructor.prototype,Vi=qi===Object.prototype?void 0:qi,Xi=wt("iterator"),Ji=wt("toStringTag"),Yi=gr.values,Ki=function(t,e){if(t){if(t[Xi]!==Yi)try{Ft(t,Xi,Yi)}catch(e){t[Xi]=Yi}if(t[Ji]||Ft(t,Ji,e),zi[e])for(var n in gr)if(t[n]!==gr[n])try{Ft(t,n,gr[n])}catch(e){t[n]=gr[n]}}};for(var Qi in zi)Ki(f[Qi]&&f[Qi].prototype,Qi);Ki(Vi,"DOMTokenList");var $i=function(){return $i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$i.apply(this,arguments)},Zi={weixinJsSdkTicket:"",launchContainerQuery:".mazey-launch-app-selector",launchShowWeixinToBrowserImgUrl:"",canShowWeixinToBrowser:!1,extInfo:"",serviceAccountAppId:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App <br /><br /><br />",launchErrorLink:"",canContinuousUpdating:!1,onMenuShareTimelineOptions:void 0,onMenuShareAppMessageOptions:void 0,isConClosed:!0,isWxDebug:!1,openTagList:["wx-open-launch-app"],canLaunchApp:function(){return!0},canFireErrorLinkDirectly:function(){return!1},launchBtnClick:function(){},launchReady:function(){}},ta=function(o){void 0===o&&(o=Zi);var i=Object.assign(Zi,o),a=i.weixinJsSdkTicket,c=i.launchContainerQuery,u=i.genTagPrefixStr,f=i.launchShowWeixinToBrowserImgUrl,s=i.canShowWeixinToBrowser,l=i.launchShowWeixinToBrowserClassName,p=i.launchBtnClassName,h=i.launchBtnStyle,d=i.launchBtnText,v=i.launchErrorLink,y=i.wexinServiceAccountAppId,g=i.openPlatformMobileAppId,m=i.canContinuousUpdating,b=i.onMenuShareTimelineOptions,w=i.onMenuShareAppMessageOptions,S=i.isConClosed,A=i.isWxDebug,O=i.openTagList,E=i.canLaunchApp,P=i.canFireErrorLinkDirectly,T=i.launchBtnClick,_=i.launchReady,L=i.serviceAccountAppId,j=i.extInfo,x=window.wx;x||console.error("Launch App: wx is not found");var I=window.$||window.jQuery;I||console.error("Launch App: $ is not found");var C=window.sha1;C||console.error("Launch App: sha1 is not found");var k=function(){},R=t("LaunchCon:",{isClosed:S});R.log("Launch App");var N={title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}},M={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},U={title:document.title,link:location.href};N=$i($i({},N),U),M=$i($i({},M),U);var D=function(t,e,n){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="button"),"<style>.".concat(p,"{")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+h+e+"}</style>"+"<".concat(n,' class="').concat(p,'"')+(t&&"button"===n?' onclick="'.concat(t,'"'):"")+(t&&"a"===n?' target="_self" href="'.concat(t,'"'):"")+">"+d+"</".concat(n,">")},H=D();function B(){e('.mazey-launch-app-mask{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, .5);text-align:right;font-size:0;white-space:nowrap;overflow:auto;z-index:999;}.mazey-launch-app-img{display:inline-block;vertical-align:middle;text-align:left;font-size:14px;white-space:normal;width:50vw;margin:0.5rem 0.5rem 0 0;}.mazey-launch-app-img:after{content:"";display:inline-block;height:100%;vertical-align:middle;}',{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){I(".mazey-launch-app-mask").hide()}),0===I(".mazey-launch-app-mask").length?I("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'><img "+"class='mazey-launch-app-img ".concat(l,"' ")+"src='".concat(f,"' ")+"alt='Launch App' /></div>"):I(".mazey-launch-app-mask").show()}function W(){R.log("renderWeixinLaunchTemplate"),!L&&y&&(console.warn("wexinServiceAccountAppId will be deprecated, use serviceAccountAppId instead."),L=y),function(t,e){void 0===t&&(t=""),void 0===e&&(e=""),R.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(a||window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET||r("weixinJsSdkTicket")||""),Promise.resolve(C)]).then((function(r){R.log("allRes",r);var o=r[0];if(o){var i=r[1];if(i){var a=n(7),f=o,l=(new Date).getTime(),p=i("jsapi_ticket="+f+"&noncestr="+a+"&timestamp="+l+"&url="+location.href);return x.config({debug:A,appId:t,timestamp:l,nonceStr:a,signature:p,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"],openTagList:O}),x.ready((function(){if(w&&(R.log("onMenuShareAppMessageOptions",w),x.onMenuShareAppMessage(w)),window.LAUNCH_APP_SHARE_APP_MESSAGE=function(t){t=$i($i({},M),t),R.log("window LAUNCH_APP_SHARE_APP_MESSAGE",t),x.onMenuShareAppMessage(t)},b&&(R.log("onMenuShareTimelineOptions",b),x.onMenuShareTimeline(b)),window.LAUNCH_APP_SHARE_TIMELINE=function(t){t=$i($i({},N),t),R.log("window LAUNCH_APP_SHARE_TIMELINE",t),x.onMenuShareTimeline(t)},e){window.LAUNCH_APP_READY=!0,_&&_();var t=function(){var t=I(c);R.log("containers",c,t,t.length),t.length>0&&t.each((function(t,n){var r=I(n).attr("data-launch-app-key");if(!r){var o=I(n).parents("[data-launch-app-key]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-key"),R.log("keyEle",o,r))}r||(r=String(t));var i="mazey-launch-app-tag-".concat(r),a=I(".".concat(i," wx-open-launch-app")),c=I(n).attr("data-launch-app-ext-info");if(!c){var f=I(n).parents("[data-launch-app-ext-info]:eq(0)");f.length>0&&(c=f.attr("data-launch-app-ext-info"),R.log("eleExtInfoEle parents",f,c))}c&&(j=c);var l=I(n).attr("data-launch-app-error-link");if(!l){var p=I(n).parents("[data-launch-app-error-link]:eq(0)");p.length>0&&(l=p.attr("data-launch-app-error-link"),R.log("eleErrorLinkEle parents",p,l))}var h=v;l&&(h=l),0===a.length&&(I(n).addClass(i),R.log("success:",i),function(t){var n=u,r=n+t,o="<wx-open-launch-app id='"+r+"' appid='"+e+"' extinfo='".concat(j)+"' style='z-index:99;position:absolute;width:100%;height:100%;opacity:1;background:transparent;overflow:hidden;left:0;'><script type='text/wxtag-template'>"+H+"<\/script></wx-open-launch-app>";I("."+t+":eq(0)").append(o);var i=document.getElementById(r);i&&(i.addEventListener("ready",(function(t){R.log("ready event",t)})),i.addEventListener("launch",(function(t){R.log("launch event",t),t.detail&&t.detail.extInfo&&R.log("launch extInfo",t.detail.extInfo)})),i.addEventListener("error",(function(t){R.error(t.detail),I("[id^='"+n+"']").hide(),s&&B(),h&&(R.log("realErrorLink",h),location.href=h)})),i.addEventListener("click",(function(t){R.log("click event",t),T&&T()})))}(i))}))};t(),k=t}else R.log("openPlatformMobileAppId is required for weixin launch app")})),x.error((function(t){R.error(t)})),"success:launch_app"}R.error("sha1 is required")}else R.error("weixinJsSdkTicket is required")})).catch((function(t){R.error(t)}))}(L,g)}function F(t){if(R.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&E(t)&&(W(),window.LAUNCH_APP_LOAD=!0),m&&window.LAUNCH_APP_LOAD&&E(t)&&k(),P()){var e=I(c);e.length>0&&e.each((function(t,e){var n=I(e).children("."+p);if(!n||!n.length){var r=I(e).attr("data-launch-app-error-link");if(!r){var o=I(e).parents("[data-launch-app-error-link]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-error-link"))}if(r&&"string"==typeof r&&r.length){var i=D(r,"position:absolute;left:0;z-index:999;","a");I(e).append(i)}}}))}}function z(){R.log("appBeforeDestroy",z),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return window.LAUNCH_APP_UPDATE=F,window.LAUNCH_APP_BEFORE_DESTROY=z,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=B,{LAUNCH_APP_UPDATE:F,LAUNCH_APP_BEFORE_DESTROY:z,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:B,LAUNCH_APP_SHARE_TIMELINE:function(t){R.log("opt",t)},LAUNCH_APP_SHARE_APP_MESSAGE:function(t){R.log("opt",t)},start:F,update:F,destroy:z}};export{ta as default};
