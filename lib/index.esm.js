/*!
 * mazey-wechat-launch-app v2.2.0 https://www.npmjs.com/package/mazey-wechat-launch-app
 * (c) 2018-2023 Mazey Chu
 * Released under the MIT License.
 */
import{genCustomConsole as t,addStyle as e,generateRndNum as n}from"mazey";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var i,a,c=function(t){return t&&t.Math==Math&&t},u=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof r&&r)||function(){return this}()||Function("return this")(),f=function(t){try{return!!t()}catch(t){return!0}},s=!f((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l=!f((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),p=Function.prototype.call,h=l?p.bind(p):function(){return p.apply(p,arguments)},d={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,y=v&&!d.call({1:2},1)?function(t){var e=v(this,t);return!!e&&e.enumerable}:d,g={f:y},m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},b=Function.prototype,w=b.call,S=l&&b.bind.bind(w,w),A=l?S:function(t){return function(){return w.apply(t,arguments)}},O=A({}.toString),E=A("".slice),P=function(t){return E(O(t),8,-1)},T=Object,_=A("".split),L=f((function(){return!T("z").propertyIsEnumerable(0)}))?function(t){return"String"==P(t)?_(t,""):T(t)}:T,j=function(t){return null==t},x=TypeError,C=function(t){if(j(t))throw x("Can't call method on "+t);return t},I=function(t){return L(C(t))},R="object"==typeof document&&document.all,k={all:R,IS_HTMLDDA:void 0===R&&void 0!==R},N=k.all,M=k.IS_HTMLDDA?function(t){return"function"==typeof t||t===N}:function(t){return"function"==typeof t},U=k.all,D=k.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:M(t)||t===U}:function(t){return"object"==typeof t?null!==t:M(t)},H=function(t,e){return arguments.length<2?(n=u[t],M(n)?n:void 0):u[t]&&u[t][e];var n},B=A({}.isPrototypeOf),W="undefined"!=typeof navigator&&String(navigator.userAgent)||"",F=u.process,z=u.Deno,G=F&&F.versions||z&&z.version,V=G&&G.v8;V&&(a=(i=V.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&W&&(!(i=W.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=W.match(/Chrome\/(\d+)/))&&(a=+i[1]);var X=a,q=!!Object.getOwnPropertySymbols&&!f((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&X&&X<41})),Y=q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=Object,K=Y?function(t){return"symbol"==typeof t}:function(t){var e=H("Symbol");return M(e)&&B(e.prototype,J(t))},Q=String,$=function(t){try{return Q(t)}catch(t){return"Object"}},Z=TypeError,tt=function(t){if(M(t))return t;throw Z($(t)+" is not a function")},et=function(t,e){var n=t[e];return j(n)?void 0:tt(n)},nt=TypeError,rt=Object.defineProperty,ot=function(t,e){try{rt(u,t,{value:e,configurable:!0,writable:!0})}catch(n){u[t]=e}return e},it="__core-js_shared__",at=u[it]||ot(it,{}),ct=o((function(t){(t.exports=function(t,e){return at[t]||(at[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),ut=Object,ft=function(t){return ut(C(t))},st=A({}.hasOwnProperty),lt=Object.hasOwn||function(t,e){return st(ft(t),e)},pt=0,ht=Math.random(),dt=A(1..toString),vt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+dt(++pt+ht,36)},yt=u.Symbol,gt=ct("wks"),mt=Y?yt.for||yt:yt&&yt.withoutSetter||vt,bt=function(t){return lt(gt,t)||(gt[t]=q&&lt(yt,t)?yt[t]:mt("Symbol."+t)),gt[t]},wt=TypeError,St=bt("toPrimitive"),At=function(t,e){if(!D(t)||K(t))return t;var n,r=et(t,St);if(r){if(void 0===e&&(e="default"),n=h(r,t,e),!D(n)||K(n))return n;throw wt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&M(n=t.toString)&&!D(r=h(n,t)))return r;if(M(n=t.valueOf)&&!D(r=h(n,t)))return r;if("string"!==e&&M(n=t.toString)&&!D(r=h(n,t)))return r;throw nt("Can't convert object to primitive value")}(t,e)},Ot=function(t){var e=At(t,"string");return K(e)?e:e+""},Et=u.document,Pt=D(Et)&&D(Et.createElement),Tt=function(t){return Pt?Et.createElement(t):{}},_t=!s&&!f((function(){return 7!=Object.defineProperty(Tt("div"),"a",{get:function(){return 7}}).a})),Lt=Object.getOwnPropertyDescriptor,jt={f:s?Lt:function(t,e){if(t=I(t),e=Ot(e),_t)try{return Lt(t,e)}catch(t){}if(lt(t,e))return m(!h(g.f,t,e),t[e])}},xt=s&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ct=String,It=TypeError,Rt=function(t){if(D(t))return t;throw It(Ct(t)+" is not an object")},kt=TypeError,Nt=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,Ut="enumerable",Dt="configurable",Ht="writable",Bt={f:s?xt?function(t,e,n){if(Rt(t),e=Ot(e),Rt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ht in n&&!n[Ht]){var r=Mt(t,e);r&&r[Ht]&&(t[e]=n.value,n={configurable:Dt in n?n[Dt]:r[Dt],enumerable:Ut in n?n[Ut]:r[Ut],writable:!1})}return Nt(t,e,n)}:Nt:function(t,e,n){if(Rt(t),e=Ot(e),Rt(n),_t)try{return Nt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw kt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Wt=s?function(t,e,n){return Bt.f(t,e,m(1,n))}:function(t,e,n){return t[e]=n,t},Ft=Function.prototype,zt=s&&Object.getOwnPropertyDescriptor,Gt=lt(Ft,"name"),Vt={EXISTS:Gt,PROPER:Gt&&"something"===function(){}.name,CONFIGURABLE:Gt&&(!s||s&&zt(Ft,"name").configurable)},Xt=A(Function.toString);M(at.inspectSource)||(at.inspectSource=function(t){return Xt(t)});var qt,Yt,Jt,Kt=at.inspectSource,Qt=u.WeakMap,$t=M(Qt)&&/native code/.test(String(Qt)),Zt=ct("keys"),te=function(t){return Zt[t]||(Zt[t]=vt(t))},ee={},ne="Object already initialized",re=u.TypeError,oe=u.WeakMap;if($t||at.state){var ie=at.state||(at.state=new oe);ie.get=ie.get,ie.has=ie.has,ie.set=ie.set,qt=function(t,e){if(ie.has(t))throw re(ne);return e.facade=t,ie.set(t,e),e},Yt=function(t){return ie.get(t)||{}},Jt=function(t){return ie.has(t)}}else{var ae=te("state");ee[ae]=!0,qt=function(t,e){if(lt(t,ae))throw re(ne);return e.facade=t,Wt(t,ae,e),e},Yt=function(t){return lt(t,ae)?t[ae]:{}},Jt=function(t){return lt(t,ae)}}var ce={set:qt,get:Yt,has:Jt,enforce:function(t){return Jt(t)?Yt(t):qt(t,{})},getterFor:function(t){return function(e){var n;if(!D(e)||(n=Yt(e)).type!==t)throw re("Incompatible receiver, "+t+" required");return n}}},ue=o((function(t){var e=Vt.CONFIGURABLE,n=ce.enforce,r=ce.get,o=String,i=Object.defineProperty,a=A("".slice),c=A("".replace),u=A([].join),l=s&&!f((function(){return 8!==i((function(){}),"length",{value:8}).length})),p=String(String).split("String"),h=t.exports=function(t,r,f){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!lt(t,"name")||e&&t.name!==r)&&(s?i(t,"name",{value:r,configurable:!0}):t.name=r),l&&f&&lt(f,"arity")&&t.length!==f.arity&&i(t,"length",{value:f.arity});try{f&&lt(f,"constructor")&&f.constructor?s&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var h=n(t);return lt(h,"source")||(h.source=u(p,"string"==typeof r?r:"")),t};Function.prototype.toString=h((function(){return M(this)&&r(this).source||Kt(this)}),"toString")})),fe=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(M(n)&&ue(n,i,r),r.global)o?t[e]=n:ot(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:Bt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},se=Math.ceil,le=Math.floor,pe=Math.trunc||function(t){var e=+t;return(e>0?le:se)(e)},he=function(t){var e=+t;return e!=e||0===e?0:pe(e)},de=Math.max,ve=Math.min,ye=Math.min,ge=function(t){return(e=t.length)>0?ye(he(e),9007199254740991):0;var e},me=function(t){return function(e,n,r){var o,i=I(e),a=ge(i),c=function(t,e){var n=he(t);return n<0?de(n+e,0):ve(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},be={includes:me(!0),indexOf:me(!1)}.indexOf,we=A([].push),Se=function(t,e){var n,r=I(t),o=0,i=[];for(n in r)!lt(ee,n)&&lt(r,n)&&we(i,n);for(;e.length>o;)lt(r,n=e[o++])&&(~be(i,n)||we(i,n));return i},Ae=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Oe=Ae.concat("length","prototype"),Ee={f:Object.getOwnPropertyNames||function(t){return Se(t,Oe)}},Pe={f:Object.getOwnPropertySymbols},Te=A([].concat),_e=H("Reflect","ownKeys")||function(t){var e=Ee.f(Rt(t)),n=Pe.f;return n?Te(e,n(t)):e},Le=function(t,e,n){for(var r=_e(e),o=Bt.f,i=jt.f,a=0;a<r.length;a++){var c=r[a];lt(t,c)||n&&lt(n,c)||o(t,c,i(e,c))}},je=/#|\.prototype\./,xe=function(t,e){var n=Ie[Ce(t)];return n==ke||n!=Re&&(M(e)?f(e):!!e)},Ce=xe.normalize=function(t){return String(t).replace(je,".").toLowerCase()},Ie=xe.data={},Re=xe.NATIVE="N",ke=xe.POLYFILL="P",Ne=xe,Me=jt.f,Ue=function(t,e){var n,r,o,i,a,c=t.target,f=t.global,s=t.stat;if(n=f?u:s?u[c]||ot(c,{}):(u[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=Me(n,r))&&a.value:n[r],!Ne(f?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Le(i,o)}(t.sham||o&&o.sham)&&Wt(i,"sham",!0),fe(n,r,i,t)}},De=Object.keys||function(t){return Se(t,Ae)},He=Object.assign,Be=Object.defineProperty,We=A([].concat),Fe=!He||f((function(){if(s&&1!==He({b:1},He(Be({},"a",{enumerable:!0,get:function(){Be(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=He({},t)[n]||De(He({},e)).join("")!=r}))?function(t,e){for(var n=ft(t),r=arguments.length,o=1,i=Pe.f,a=g.f;r>o;)for(var c,u=L(arguments[o++]),f=i?We(De(u),i(u)):De(u),l=f.length,p=0;l>p;)c=f[p++],s&&!h(a,u,c)||(n[c]=u[c]);return n}:He;Ue({target:"Object",stat:!0,arity:2,forced:Object.assign!==Fe},{assign:Fe});var ze=Array.isArray||function(t){return"Array"==P(t)},Ge=TypeError,Ve=function(t){if(t>9007199254740991)throw Ge("Maximum allowed index exceeded");return t},Xe=function(t,e,n){var r=Ot(e);r in t?Bt.f(t,r,m(0,n)):t[r]=n},qe={};qe[bt("toStringTag")]="z";var Ye="[object z]"===String(qe),Je=bt("toStringTag"),Ke=Object,Qe="Arguments"==P(function(){return arguments}()),$e=Ye?P:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ke(t),Je))?n:Qe?P(e):"Object"==(r=P(e))&&M(e.callee)?"Arguments":r},Ze=function(){},tn=[],en=H("Reflect","construct"),nn=/^\s*(?:class|function)\b/,rn=A(nn.exec),on=!nn.exec(Ze),an=function(t){if(!M(t))return!1;try{return en(Ze,tn,t),!0}catch(t){return!1}},cn=function(t){if(!M(t))return!1;switch($e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return on||!!rn(nn,Kt(t))}catch(t){return!0}};cn.sham=!0;var un,fn=!en||f((function(){var t;return an(an.call)||!an(Object)||!an((function(){t=!0}))||t}))?cn:an,sn=bt("species"),ln=Array,pn=function(t,e){return new(function(t){var e;return ze(t)&&(e=t.constructor,(fn(e)&&(e===ln||ze(e.prototype))||D(e)&&null===(e=e[sn]))&&(e=void 0)),void 0===e?ln:e}(t))(0===e?0:e)},hn=bt("species"),dn=bt("isConcatSpreadable"),vn=X>=51||!f((function(){var t=[];return t[dn]=!1,t.concat()[0]!==t})),yn=function(t){if(!D(t))return!1;var e=t[dn];return void 0!==e?!!e:ze(t)},gn=!(vn&&(un="concat",X>=51||!f((function(){var t=[];return(t.constructor={})[hn]=function(){return{foo:1}},1!==t[un](Boolean).foo}))));Ue({target:"Array",proto:!0,arity:1,forced:gn},{concat:function(t){var e,n,r,o,i,a=ft(this),c=pn(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(yn(i=-1===e?a:arguments[e]))for(o=ge(i),Ve(u+o),n=0;n<o;n++,u++)n in i&&Xe(c,u,i[n]);else Ve(u+1),Xe(c,u++,i);return c.length=u,c}});var mn,bn=s&&!xt?Object.defineProperties:function(t,e){Rt(t);for(var n,r=I(e),o=De(e),i=o.length,a=0;i>a;)Bt.f(t,n=o[a++],r[n]);return t},wn={f:bn},Sn=H("document","documentElement"),An="prototype",On="script",En=te("IE_PROTO"),Pn=function(){},Tn=function(t){return"<"+On+">"+t+"</"+On+">"},_n=function(t){t.write(Tn("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ln=function(){try{mn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Ln="undefined"!=typeof document?document.domain&&mn?_n(mn):(e=Tt("iframe"),n="java"+On+":",e.style.display="none",Sn.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Tn("document.F=Object")),t.close(),t.F):_n(mn);for(var r=Ae.length;r--;)delete Ln[An][Ae[r]];return Ln()};ee[En]=!0;var jn=Object.create||function(t,e){var n;return null!==t?(Pn[An]=Rt(t),n=new Pn,Pn[An]=null,n[En]=t):n=Ln(),void 0===e?n:wn.f(n,e)},xn=Bt.f,Cn=bt("unscopables"),In=Array.prototype;null==In[Cn]&&xn(In,Cn,{configurable:!0,value:jn(null)});var Rn,kn,Nn,Mn=function(t){In[Cn][t]=!0},Un={},Dn=!f((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Hn=te("IE_PROTO"),Bn=Object,Wn=Bn.prototype,Fn=Dn?Bn.getPrototypeOf:function(t){var e=ft(t);if(lt(e,Hn))return e[Hn];var n=e.constructor;return M(n)&&e instanceof n?n.prototype:e instanceof Bn?Wn:null},zn=bt("iterator"),Gn=!1;[].keys&&("next"in(Nn=[].keys())?(kn=Fn(Fn(Nn)))!==Object.prototype&&(Rn=kn):Gn=!0);var Vn=!D(Rn)||f((function(){var t={};return Rn[zn].call(t)!==t}));Vn&&(Rn={}),M(Rn[zn])||fe(Rn,zn,(function(){return this}));var Xn={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:Gn},qn=Bt.f,Yn=bt("toStringTag"),Jn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!lt(t,Yn)&&qn(t,Yn,{configurable:!0,value:e})},Kn=Xn.IteratorPrototype,Qn=function(){return this},$n=String,Zn=TypeError,tr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=function(t,e,n){try{return A(tt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Rt(n),function(t){if("object"==typeof t||M(t))return t;throw Zn("Can't set "+$n(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),er=Vt.PROPER,nr=Vt.CONFIGURABLE,rr=Xn.IteratorPrototype,or=Xn.BUGGY_SAFARI_ITERATORS,ir=bt("iterator"),ar="keys",cr="values",ur="entries",fr=function(){return this},sr=function(t,e,n,r,o,i,a){!function(t,e,n,r){var o=e+" Iterator";t.prototype=jn(Kn,{next:m(+!r,n)}),Jn(t,o,!1),Un[o]=Qn}(n,e,r);var c,u,f,s=function(t){if(t===o&&y)return y;if(!or&&t in d)return d[t];switch(t){case ar:case cr:case ur:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,d=t.prototype,v=d[ir]||d["@@iterator"]||o&&d[o],y=!or&&v||s(o),g="Array"==e&&d.entries||v;if(g&&(c=Fn(g.call(new t)))!==Object.prototype&&c.next&&(Fn(c)!==rr&&(tr?tr(c,rr):M(c[ir])||fe(c,ir,fr)),Jn(c,l,!0)),er&&o==cr&&v&&v.name!==cr&&(nr?Wt(d,"name",cr):(p=!0,y=function(){return h(v,this)})),o)if(u={values:s(cr),keys:i?y:s(ar),entries:s(ur)},a)for(f in u)(or||p||!(f in d))&&fe(d,f,u[f]);else Ue({target:e,proto:!0,forced:or||p},u);return d[ir]!==y&&fe(d,ir,y,{name:o}),Un[e]=y,u},lr=function(t,e){return{value:t,done:e}},pr=Bt.f,hr="Array Iterator",dr=ce.set,vr=ce.getterFor(hr),yr=sr(Array,"Array",(function(t,e){dr(this,{type:hr,target:I(t),index:0,kind:e})}),(function(){var t=vr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,lr(void 0,!0)):lr("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),gr=Un.Arguments=Un.Array;if(Mn("keys"),Mn("values"),Mn("entries"),s&&"values"!==gr.name)try{pr(gr,"name",{value:"values"})}catch(t){}var mr=Ye?{}.toString:function(){return"[object "+$e(this)+"]"};Ye||fe(Object.prototype,"toString",mr,{unsafe:!0});var br,wr,Sr,Ar,Or="undefined"!=typeof process&&"process"==P(process),Er=bt("species"),Pr=TypeError,Tr=TypeError,_r=bt("species"),Lr=function(t,e){var n,r=Rt(t).constructor;return void 0===r||j(n=Rt(r)[_r])?e:function(t){if(fn(t))return t;throw Tr($(t)+" is not a constructor")}(n)},jr=Function.prototype,xr=jr.apply,Cr=jr.call,Ir="object"==typeof Reflect&&Reflect.apply||(l?Cr.bind(xr):function(){return Cr.apply(xr,arguments)}),Rr=function(t){if("Function"===P(t))return A(t)},kr=Rr(Rr.bind),Nr=function(t,e){return tt(t),void 0===e?t:l?kr(t,e):function(){return t.apply(e,arguments)}},Mr=A([].slice),Ur=TypeError,Dr=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Hr=u.setImmediate,Br=u.clearImmediate,Wr=u.process,Fr=u.Dispatch,zr=u.Function,Gr=u.MessageChannel,Vr=u.String,Xr=0,qr={},Yr="onreadystatechange";f((function(){br=u.location}));var Jr=function(t){if(lt(qr,t)){var e=qr[t];delete qr[t],e()}},Kr=function(t){return function(){Jr(t)}},Qr=function(t){Jr(t.data)},$r=function(t){u.postMessage(Vr(t),br.protocol+"//"+br.host)};Hr&&Br||(Hr=function(t){!function(t,e){if(t<e)throw Ur("Not enough arguments")}(arguments.length,1);var e=M(t)?t:zr(t),n=Mr(arguments,1);return qr[++Xr]=function(){Ir(e,void 0,n)},wr(Xr),Xr},Br=function(t){delete qr[t]},Or?wr=function(t){Wr.nextTick(Kr(t))}:Fr&&Fr.now?wr=function(t){Fr.now(Kr(t))}:Gr&&!Dr?(Ar=(Sr=new Gr).port2,Sr.port1.onmessage=Qr,wr=Nr(Ar.postMessage,Ar)):u.addEventListener&&M(u.postMessage)&&!u.importScripts&&br&&"file:"!==br.protocol&&!f($r)?(wr=$r,u.addEventListener("message",Qr,!1)):wr=Yr in Tt("script")?function(t){Sn.appendChild(Tt("script"))[Yr]=function(){Sn.removeChild(this),Jr(t)}}:function(t){setTimeout(Kr(t),0)});var Zr={set:Hr,clear:Br},to=function(){this.head=null,this.tail=null};to.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var eo,no,ro,oo,io,ao=to,co=/ipad|iphone|ipod/i.test(W)&&"undefined"!=typeof Pebble,uo=/web0s(?!.*chrome)/i.test(W),fo=jt.f,so=Zr.set,lo=u.MutationObserver||u.WebKitMutationObserver,po=u.document,ho=u.process,vo=u.Promise,yo=fo(u,"queueMicrotask"),go=yo&&yo.value;if(!go){var mo=new ao,bo=function(){var t,e;for(Or&&(t=ho.domain)&&t.exit();e=mo.get();)try{e()}catch(t){throw mo.head&&eo(),t}t&&t.enter()};Dr||Or||uo||!lo||!po?!co&&vo&&vo.resolve?((oo=vo.resolve(void 0)).constructor=vo,io=Nr(oo.then,oo),eo=function(){io(bo)}):Or?eo=function(){ho.nextTick(bo)}:(so=Nr(so,u),eo=function(){so(bo)}):(no=!0,ro=po.createTextNode(""),new lo(bo).observe(ro,{characterData:!0}),eo=function(){ro.data=no=!no}),go=function(t){mo.head||eo(),mo.add(t)}}var wo=go,So=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ao=u.Promise,Oo="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Eo=!Oo&&!Or&&"object"==typeof window&&"object"==typeof document;Ao&&Ao.prototype;var Po,To,_o,Lo,jo,xo,Co,Io=bt("species"),Ro=!1,ko=M(u.PromiseRejectionEvent),No=Ne("Promise",(function(){var t=Kt(Ao),e=t!==String(Ao);if(!e&&66===X)return!0;if(!X||X<51||!/native code/.test(t)){var n=new Ao((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Io]=r,!(Ro=n.then((function(){}))instanceof r))return!0}return!e&&(Eo||Oo)&&!ko})),Mo={CONSTRUCTOR:No,REJECTION_EVENT:ko,SUBCLASSING:Ro},Uo=TypeError,Do=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Uo("Bad Promise constructor");e=t,n=r})),this.resolve=tt(e),this.reject=tt(n)},Ho={f:function(t){return new Do(t)}},Bo=Zr.set,Wo="Promise",Fo=Mo.CONSTRUCTOR,zo=Mo.REJECTION_EVENT,Go=Mo.SUBCLASSING,Vo=ce.getterFor(Wo),Xo=ce.set,qo=Ao&&Ao.prototype,Yo=Ao,Jo=qo,Ko=u.TypeError,Qo=u.document,$o=u.process,Zo=Ho.f,ti=Zo,ei=!!(Qo&&Qo.createEvent&&u.dispatchEvent),ni="unhandledrejection",ri=function(t){var e;return!(!D(t)||!M(e=t.then))&&e},oi=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,s=t.domain;try{c?(a||(2===e.rejection&&fi(e),e.rejection=1),!0===c?n=i:(s&&s.enter(),n=c(i),s&&(s.exit(),o=!0)),n===t.promise?f(Ko("Promise-chain cycle")):(r=ri(n))?h(r,n,u,f):u(n)):f(i)}catch(t){s&&!o&&s.exit(),f(t)}},ii=function(t,e){t.notified||(t.notified=!0,wo((function(){for(var n,r=t.reactions;n=r.get();)oi(n,t);t.notified=!1,e&&!t.rejection&&ci(t)})))},ai=function(t,e,n){var r,o;ei?((r=Qo.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!zo&&(o=u["on"+t])?o(r):t===ni&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},ci=function(t){h(Bo,u,(function(){var e,n=t.facade,r=t.value;if(ui(t)&&(e=So((function(){Or?$o.emit("unhandledRejection",r,n):ai(ni,n,r)})),t.rejection=Or||ui(t)?2:1,e.error))throw e.value}))},ui=function(t){return 1!==t.rejection&&!t.parent},fi=function(t){h(Bo,u,(function(){var e=t.facade;Or?$o.emit("rejectionHandled",e):ai("rejectionhandled",e,t.value)}))},si=function(t,e,n){return function(r){t(e,r,n)}},li=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ii(t,!0))},pi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Ko("Promise can't be resolved itself");var r=ri(e);r?wo((function(){var n={done:!1};try{h(r,e,si(pi,n,t),si(li,n,t))}catch(e){li(n,e,t)}})):(t.value=e,t.state=1,ii(t,!1))}catch(e){li({done:!1},e,t)}}};if(Fo&&(Jo=(Yo=function(t){!function(t,e){if(B(e,t))return t;throw Pr("Incorrect invocation")}(this,Jo),tt(t),h(Po,this);var e=Vo(this);try{t(si(pi,e),si(li,e))}catch(t){li(e,t)}}).prototype,(Po=function(t){Xo(this,{type:Wo,done:!1,notified:!1,parent:!1,reactions:new ao,rejection:!1,state:0,value:void 0})}).prototype=fe(Jo,"then",(function(t,e){var n=Vo(this),r=Zo(Lr(this,Yo));return n.parent=!0,r.ok=!M(t)||t,r.fail=M(e)&&e,r.domain=Or?$o.domain:void 0,0==n.state?n.reactions.add(r):wo((function(){oi(r,n)})),r.promise})),To=function(){var t=new Po,e=Vo(t);this.promise=t,this.resolve=si(pi,e),this.reject=si(li,e)},Ho.f=Zo=function(t){return t===Yo||undefined===t?new To(t):ti(t)},M(Ao)&&qo!==Object.prototype)){_o=qo.then,Go||fe(qo,"then",(function(t,e){var n=this;return new Yo((function(t,e){h(_o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete qo.constructor}catch(t){}tr&&tr(qo,Jo)}Ue({global:!0,constructor:!0,wrap:!0,forced:Fo},{Promise:Yo}),Jn(Yo,Wo,!1),Co=H(Wo),s&&Co&&!Co[Er]&&(Lo=Co,jo=Er,(xo={configurable:!0,get:function(){return this}}).get&&ue(xo.get,jo,{getter:!0}),xo.set&&ue(xo.set,jo,{setter:!0}),Bt.f(Lo,jo,xo));var hi=bt("iterator"),di=Array.prototype,vi=bt("iterator"),yi=function(t){if(!j(t))return et(t,vi)||et(t,"@@iterator")||Un[$e(t)]},gi=TypeError,mi=function(t,e,n){var r,o;Rt(t);try{if(!(r=et(t,"return"))){if("throw"===e)throw n;return n}r=h(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Rt(r),n},bi=TypeError,wi=function(t,e){this.stopped=t,this.result=e},Si=wi.prototype,Ai=function(t,e,n){var r,o,i,a,c,u,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),v=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=Nr(e,l),m=function(t){return r&&mi(r,"normal",t),new wi(!0,t)},b=function(t){return p?(Rt(t),y?g(t[0],t[1],m):g(t[0],t[1])):y?g(t,m):g(t)};if(d)r=t.iterator;else if(v)r=t;else{if(!(o=yi(t)))throw bi($(t)+" is not iterable");if(void 0!==(s=o)&&(Un.Array===s||di[hi]===s)){for(i=0,a=ge(t);a>i;i++)if((c=b(t[i]))&&B(Si,c))return c;return new wi(!1)}r=function(t,e){var n=arguments.length<2?yi(t):e;if(tt(n))return Rt(h(n,t));throw gi($(t)+" is not iterable")}(t,o)}for(u=d?t.next:r.next;!(f=h(u,r)).done;){try{c=b(f.value)}catch(t){mi(r,"throw",t)}if("object"==typeof c&&c&&B(Si,c))return c}return new wi(!1)},Oi=bt("iterator"),Ei=!1;try{var Pi=0,Ti={next:function(){return{done:!!Pi++}},return:function(){Ei=!0}};Ti[Oi]=function(){return this},Array.from(Ti,(function(){throw 2}))}catch(t){}var _i=Mo.CONSTRUCTOR||!function(t,e){if(!e&&!Ei)return!1;var n=!1;try{var r={};r[Oi]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Ao.all(t).then(void 0,(function(){}))}));Ue({target:"Promise",stat:!0,forced:_i},{all:function(t){var e=this,n=Ho.f(e),r=n.resolve,o=n.reject,i=So((function(){var n=tt(e.resolve),i=[],a=0,c=1;Ai(t,(function(t){var u=a++,f=!1;c++,h(n,e,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var Li=Mo.CONSTRUCTOR,ji=Ao&&Ao.prototype;if(Ue({target:"Promise",proto:!0,forced:Li,real:!0},{catch:function(t){return this.then(void 0,t)}}),M(Ao)){var xi=H("Promise").prototype.catch;ji.catch!==xi&&fe(ji,"catch",xi,{unsafe:!0})}Ue({target:"Promise",stat:!0,forced:_i},{race:function(t){var e=this,n=Ho.f(e),r=n.reject,o=So((function(){var o=tt(e.resolve);Ai(t,(function(t){h(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Ue({target:"Promise",stat:!0,forced:Mo.CONSTRUCTOR},{reject:function(t){var e=Ho.f(this);return h(e.reject,void 0,t),e.promise}});var Ci=Mo.CONSTRUCTOR;H("Promise"),Ue({target:"Promise",stat:!0,forced:Ci},{resolve:function(t){return function(t,e){if(Rt(t),D(e)&&e.constructor===t)return e;var n=Ho.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var Ii=String,Ri=function(t){if("Symbol"===$e(t))throw TypeError("Cannot convert a Symbol value to a string");return Ii(t)},ki=A("".charAt),Ni=A("".charCodeAt),Mi=A("".slice),Ui=function(t){return function(e,n){var r,o,i=Ri(C(e)),a=he(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=Ni(i,a))<55296||r>56319||a+1===c||(o=Ni(i,a+1))<56320||o>57343?t?ki(i,a):r:t?Mi(i,a,a+2):o-56320+(r-55296<<10)+65536}},Di={codeAt:Ui(!1),charAt:Ui(!0)}.charAt,Hi="String Iterator",Bi=ce.set,Wi=ce.getterFor(Hi);sr(String,"String",(function(t){Bi(this,{type:Hi,string:Ri(t),index:0})}),(function(){var t,e=Wi(this),n=e.string,r=e.index;return r>=n.length?lr(void 0,!0):(t=Di(n,r),e.index+=t.length,lr(t,!1))}));var Fi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},zi=Tt("span").classList,Gi=zi&&zi.constructor&&zi.constructor.prototype,Vi=Gi===Object.prototype?void 0:Gi,Xi=bt("iterator"),qi=bt("toStringTag"),Yi=yr.values,Ji=function(t,e){if(t){if(t[Xi]!==Yi)try{Wt(t,Xi,Yi)}catch(e){t[Xi]=Yi}if(t[qi]||Wt(t,qi,e),Fi[e])for(var n in yr)if(t[n]!==yr[n])try{Wt(t,n,yr[n])}catch(e){t[n]=yr[n]}}};for(var Ki in Fi)Ji(u[Ki]&&u[Ki].prototype,Ki);Ji(Vi,"DOMTokenList");var Qi=function(){return Qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qi.apply(this,arguments)},$i={weixinJsSdkTicket:"",launchContainerQuery:".mazey-launch-app-selector",launchShowWeixinToBrowserImgUrl:"",canShowWeixinToBrowser:!1,extInfo:"",serviceAccountAppId:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App <br /><br /><br />",launchErrorLink:"",canContinuousUpdating:!1,onMenuShareTimelineOptions:void 0,onMenuShareAppMessageOptions:void 0,isConClosed:!0,isWxDebug:!1,canLaunchApp:function(){return!0},canFireErrorLinkDirectly:function(){return!1},launchBtnClick:function(){},launchReady:function(){}},Zi=function(r){void 0===r&&(r=$i);var o=Object.assign($i,r),i=o.weixinJsSdkTicket,a=o.launchContainerQuery,c=o.genTagPrefixStr,u=o.launchShowWeixinToBrowserImgUrl,f=o.canShowWeixinToBrowser,s=o.launchShowWeixinToBrowserClassName,l=o.launchBtnClassName,p=o.launchBtnStyle,h=o.launchBtnText,d=o.launchErrorLink,v=o.wexinServiceAccountAppId,y=o.openPlatformMobileAppId,g=o.canContinuousUpdating,m=o.onMenuShareTimelineOptions,b=o.onMenuShareAppMessageOptions,w=o.isConClosed,S=o.isWxDebug,A=o.canLaunchApp,O=o.canFireErrorLinkDirectly,E=o.launchBtnClick,P=o.launchReady,T=o.serviceAccountAppId,_=o.extInfo,L=window.sha1,j=window.wx,x=window.$||window.jQuery;L&&j&&x||console.error("Launch App: wx or sha1 or $ is not found");var C=function(){},I=t("LaunchCon:",{isClosed:w});I.log("Launch App");var R={title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}},k={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},N={title:document.title,link:location.href};R=Qi(Qi({},R),N),k=Qi(Qi({},k),N);var M=function(t,e,n){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="button"),"<style>.".concat(l,"{")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+p+e+"}</style>"+"<".concat(n,' class="').concat(l,'"')+(t&&"button"===n?' onclick="'.concat(t,'"'):"")+(t&&"a"===n?' target="_self" href="'.concat(t,'"'):"")+">"+h+"</".concat(n,">")},U=M();function D(){e('.mazey-launch-app-mask{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, .5);text-align:right;font-size:0;white-space:nowrap;overflow:auto;z-index:999;}.mazey-launch-app-img{display:inline-block;vertical-align:middle;text-align:left;font-size:14px;white-space:normal;width:50vw;margin:0.5rem 0.5rem 0 0;}.mazey-launch-app-img:after{content:"";display:inline-block;height:100%;vertical-align:middle;}',{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){x(".mazey-launch-app-mask").hide()}),0===x(".mazey-launch-app-mask").length?x("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'><img "+"class='mazey-launch-app-img ".concat(s,"' ")+"src='".concat(u,"' ")+"alt='Launch App' /></div>"):x(".mazey-launch-app-mask").show()}function H(){I.log("renderWeixinLaunchTemplate"),!T&&v&&(console.warn("wexinServiceAccountAppId will be deprecated, use serviceAccountAppId instead."),T=v),function(t,e){void 0===t&&(t=""),void 0===e&&(e=""),I.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(i||window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET),Promise.resolve(L)]).then((function(r){I.log("allRes",r);var o=r[0],i=r[1],u=n(7),s=o,l=(new Date).getTime(),p=i("jsapi_ticket="+s+"&noncestr="+u+"&timestamp="+l+"&url="+location.href);return j.config({debug:S,appId:t,timestamp:l,nonceStr:u,signature:p,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"],openTagList:["wx-open-launch-app"]}),j.ready((function(){m&&(I.log("onMenuShareTimelineOptions",m),j.onMenuShareTimeline(m)),window.LAUNCH_APP_SHARE_TIMELINE=function(t){t=Qi(Qi({},R),t),I.log("window LAUNCH_APP_SHARE_TIMELINE",t),j.onMenuShareTimeline(t)},b&&(I.log("onMenuShareAppMessageOptions",b),j.onMenuShareAppMessage(b)),window.LAUNCH_APP_SHARE_APP_MESSAGE=function(t){t=Qi(Qi({},k),t),I.log("window LAUNCH_APP_SHARE_APP_MESSAGE",t),j.onMenuShareAppMessage(t)},window.LAUNCH_APP_READY=!0,P&&P();var t=function(){var t=x(a);I.log("containers",a,t,t.length),t.length>0&&t.each((function(t,n){var r=x(n).attr("data-launch-app-key");if(!r){var o=x(n).parents("[data-launch-app-key]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-key"),I.log("keyEle",o,r))}r||(r=t);var i="mazey-launch-app-tag-".concat(r),a=x(".".concat(i," wx-open-launch-app")),u=x(n).attr("data-launch-app-ext-info");if(!u){var s=x(n).parents("[data-launch-app-ext-info]:eq(0)");s.length>0&&(u=s.attr("data-launch-app-ext-info"),I.log("eleExtInfoEle parents",s,u))}u&&(_=u);var l=x(n).attr("data-launch-app-error-link");if(!l){var p=x(n).parents("[data-launch-app-error-link]:eq(0)");p.length>0&&(l=p.attr("data-launch-app-error-link"),I.log("eleErrorLinkEle parents",p,l))}var h=d;l&&(h=l),0===a.length&&(x(n).addClass(i),I.log("success:",i),function(t){var n=c,r=n+t,o="<wx-open-launch-app id='"+r+"' appid='"+e+"' extinfo='".concat(_)+"' style='z-index:99;position:absolute;width:100%;height:100%;opacity:1;background:transparent;overflow:hidden;left:0;'><script type='text/wxtag-template'>"+U+"<\/script></wx-open-launch-app>";x("."+t+":eq(0)").append(o);var i=document.getElementById(r);i&&(i.addEventListener("ready",(function(t){I.log("ready event",t)})),i.addEventListener("launch",(function(t){I.log("launch event",t),t.detail&&t.detail.extInfo&&I.log("launch extInfo",t.detail.extInfo)})),i.addEventListener("error",(function(t){I.error(t.detail),x("[id^='"+n+"']").hide(),f&&D(),h&&(I.log("realErrorLink",h),location.href=h)})),i.addEventListener("click",(function(t){I.log("click event",t),E&&E()})))}(i))}))};t(),C=t})),j.error((function(t){I.error(t)})),"success:launch_app"})).catch((function(t){I.error(t)}))}(T,y)}function B(t){if(I.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&A(t)&&(H(),window.LAUNCH_APP_LOAD=!0),g&&window.LAUNCH_APP_LOAD&&A(t)&&C(),O()){var e=x(a);e.length>0&&e.each((function(t,e){var n=x(e).children("."+l);if(!n||!n.length){var r=x(e).attr("data-launch-app-error-link");if(!r){var o=x(e).parents("[data-launch-app-error-link]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-error-link"))}if(r&&"string"==typeof r&&r.length){var i=M(r,"position:absolute;left:0;z-index:999;","a");x(e).append(i)}}}))}}function W(){I.log("appBeforeDestroy",W),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return window.LAUNCH_APP_UPDATE=B,window.LAUNCH_APP_BEFORE_DESTROY=W,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=D,{LAUNCH_APP_UPDATE:B,LAUNCH_APP_BEFORE_DESTROY:W,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:D,LAUNCH_APP_SHARE_TIMELINE:function(t){I.log("opt",t)},LAUNCH_APP_SHARE_APP_MESSAGE:function(t){I.log("opt",t)},start:B,update:B,destroy:W}};export{Zi as default};
