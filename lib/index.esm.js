/*!
 * mazey-wechat-launch-app v2.3.2 https://www.npmjs.com/package/mazey-wechat-launch-app
 * (c) 2018-2025 Cheng
 * Released under the MIT License.
 */
import{genCustomConsole as t,addStyle as e,generateRndNum as n,getQueryParam as r}from"mazey";import o from"jquery";import i from"js-sha1";var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e){return t(e={exports:{}},e.exports),e.exports}var u,f,s=function(t){return t&&t.Math==Math&&t},l=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof a&&a)||function(){return this}()||Function("return this")(),p=function(t){try{return!!t()}catch(t){return!0}},h=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=!p((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),v=Function.prototype.call,y=d?v.bind(v):function(){return v.apply(v,arguments)},g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,b=m&&!g.call({1:2},1)?function(t){var e=m(this,t);return!!e&&e.enumerable}:g,w={f:b},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=Function.prototype,O=A.call,E=d&&A.bind.bind(O,O),P=d?E:function(t){return function(){return O.apply(t,arguments)}},T=P({}.toString),_=P("".slice),L=function(t){return _(T(t),8,-1)},j=Object,x=P("".split),I=p((function(){return!j("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?x(t,""):j(t)}:j,C=function(t){return null==t},k=TypeError,R=function(t){if(C(t))throw k("Can't call method on "+t);return t},N=function(t){return I(R(t))},M="object"==typeof document&&document.all,U={all:M,IS_HTMLDDA:void 0===M&&void 0!==M},D=U.all,H=U.IS_HTMLDDA?function(t){return"function"==typeof t||t===D}:function(t){return"function"==typeof t},B=U.all,W=U.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:H(t)||t===B}:function(t){return"object"==typeof t?null!==t:H(t)},F=function(t,e){return arguments.length<2?(n=l[t],H(n)?n:void 0):l[t]&&l[t][e];var n},z=P({}.isPrototypeOf),G="undefined"!=typeof navigator&&String(navigator.userAgent)||"",q=l.process,V=l.Deno,X=q&&q.versions||V&&V.version,J=X&&X.v8;J&&(f=(u=J.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!f&&G&&(!(u=G.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=G.match(/Chrome\/(\d+)/))&&(f=+u[1]);var Y=f,K=!!Object.getOwnPropertySymbols&&!p((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),Q=K&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$=Object,Z=Q?function(t){return"symbol"==typeof t}:function(t){var e=F("Symbol");return H(e)&&z(e.prototype,$(t))},tt=String,et=function(t){try{return tt(t)}catch(t){return"Object"}},nt=TypeError,rt=function(t){if(H(t))return t;throw nt(et(t)+" is not a function")},ot=function(t,e){var n=t[e];return C(n)?void 0:rt(n)},it=TypeError,at=Object.defineProperty,ct=function(t,e){try{at(l,t,{value:e,configurable:!0,writable:!0})}catch(n){l[t]=e}return e},ut="__core-js_shared__",ft=l[ut]||ct(ut,{}),st=c((function(t){(t.exports=function(t,e){return ft[t]||(ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),lt=Object,pt=function(t){return lt(R(t))},ht=P({}.hasOwnProperty),dt=Object.hasOwn||function(t,e){return ht(pt(t),e)},vt=0,yt=Math.random(),gt=P(1..toString),mt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+gt(++vt+yt,36)},bt=l.Symbol,wt=st("wks"),St=Q?bt.for||bt:bt&&bt.withoutSetter||mt,At=function(t){return dt(wt,t)||(wt[t]=K&&dt(bt,t)?bt[t]:St("Symbol."+t)),wt[t]},Ot=TypeError,Et=At("toPrimitive"),Pt=function(t,e){if(!W(t)||Z(t))return t;var n,r=ot(t,Et);if(r){if(void 0===e&&(e="default"),n=y(r,t,e),!W(n)||Z(n))return n;throw Ot("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&H(n=t.toString)&&!W(r=y(n,t)))return r;if(H(n=t.valueOf)&&!W(r=y(n,t)))return r;if("string"!==e&&H(n=t.toString)&&!W(r=y(n,t)))return r;throw it("Can't convert object to primitive value")}(t,e)},Tt=function(t){var e=Pt(t,"string");return Z(e)?e:e+""},_t=l.document,Lt=W(_t)&&W(_t.createElement),jt=function(t){return Lt?_t.createElement(t):{}},xt=!h&&!p((function(){return 7!=Object.defineProperty(jt("div"),"a",{get:function(){return 7}}).a})),It=Object.getOwnPropertyDescriptor,Ct={f:h?It:function(t,e){if(t=N(t),e=Tt(e),xt)try{return It(t,e)}catch(t){}if(dt(t,e))return S(!y(w.f,t,e),t[e])}},kt=h&&p((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Rt=String,Nt=TypeError,Mt=function(t){if(W(t))return t;throw Nt(Rt(t)+" is not an object")},Ut=TypeError,Dt=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,Bt="enumerable",Wt="configurable",Ft="writable",zt={f:h?kt?function(t,e,n){if(Mt(t),e=Tt(e),Mt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ft in n&&!n[Ft]){var r=Ht(t,e);r&&r[Ft]&&(t[e]=n.value,n={configurable:Wt in n?n[Wt]:r[Wt],enumerable:Bt in n?n[Bt]:r[Bt],writable:!1})}return Dt(t,e,n)}:Dt:function(t,e,n){if(Mt(t),e=Tt(e),Mt(n),xt)try{return Dt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ut("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Gt=h?function(t,e,n){return zt.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},qt=Function.prototype,Vt=h&&Object.getOwnPropertyDescriptor,Xt=dt(qt,"name"),Jt={EXISTS:Xt,PROPER:Xt&&"something"===function(){}.name,CONFIGURABLE:Xt&&(!h||h&&Vt(qt,"name").configurable)},Yt=P(Function.toString);H(ft.inspectSource)||(ft.inspectSource=function(t){return Yt(t)});var Kt,Qt,$t,Zt=ft.inspectSource,te=l.WeakMap,ee=H(te)&&/native code/.test(String(te)),ne=st("keys"),re=function(t){return ne[t]||(ne[t]=mt(t))},oe={},ie="Object already initialized",ae=l.TypeError,ce=l.WeakMap;if(ee||ft.state){var ue=ft.state||(ft.state=new ce);ue.get=ue.get,ue.has=ue.has,ue.set=ue.set,Kt=function(t,e){if(ue.has(t))throw ae(ie);return e.facade=t,ue.set(t,e),e},Qt=function(t){return ue.get(t)||{}},$t=function(t){return ue.has(t)}}else{var fe=re("state");oe[fe]=!0,Kt=function(t,e){if(dt(t,fe))throw ae(ie);return e.facade=t,Gt(t,fe,e),e},Qt=function(t){return dt(t,fe)?t[fe]:{}},$t=function(t){return dt(t,fe)}}var se={set:Kt,get:Qt,has:$t,enforce:function(t){return $t(t)?Qt(t):Kt(t,{})},getterFor:function(t){return function(e){var n;if(!W(e)||(n=Qt(e)).type!==t)throw ae("Incompatible receiver, "+t+" required");return n}}},le=c((function(t){var e=Jt.CONFIGURABLE,n=se.enforce,r=se.get,o=String,i=Object.defineProperty,a=P("".slice),c=P("".replace),u=P([].join),f=h&&!p((function(){return 8!==i((function(){}),"length",{value:8}).length})),s=String(String).split("String"),l=t.exports=function(t,r,l){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),l&&l.getter&&(r="get "+r),l&&l.setter&&(r="set "+r),(!dt(t,"name")||e&&t.name!==r)&&(h?i(t,"name",{value:r,configurable:!0}):t.name=r),f&&l&&dt(l,"arity")&&t.length!==l.arity&&i(t,"length",{value:l.arity});try{l&&dt(l,"constructor")&&l.constructor?h&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var p=n(t);return dt(p,"source")||(p.source=u(s,"string"==typeof r?r:"")),t};Function.prototype.toString=l((function(){return H(this)&&r(this).source||Zt(this)}),"toString")})),pe=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(H(n)&&le(n,i,r),r.global)o?t[e]=n:ct(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:zt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},he=Math.ceil,de=Math.floor,ve=Math.trunc||function(t){var e=+t;return(e>0?de:he)(e)},ye=function(t){var e=+t;return e!=e||0===e?0:ve(e)},ge=Math.max,me=Math.min,be=Math.min,we=function(t){return(e=t.length)>0?be(ye(e),9007199254740991):0;var e},Se=function(t){return function(e,n,r){var o,i=N(e),a=we(i),c=function(t,e){var n=ye(t);return n<0?ge(n+e,0):me(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},Ae={includes:Se(!0),indexOf:Se(!1)}.indexOf,Oe=P([].push),Ee=function(t,e){var n,r=N(t),o=0,i=[];for(n in r)!dt(oe,n)&&dt(r,n)&&Oe(i,n);for(;e.length>o;)dt(r,n=e[o++])&&(~Ae(i,n)||Oe(i,n));return i},Pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Te=Pe.concat("length","prototype"),_e={f:Object.getOwnPropertyNames||function(t){return Ee(t,Te)}},Le={f:Object.getOwnPropertySymbols},je=P([].concat),xe=F("Reflect","ownKeys")||function(t){var e=_e.f(Mt(t)),n=Le.f;return n?je(e,n(t)):e},Ie=function(t,e,n){for(var r=xe(e),o=zt.f,i=Ct.f,a=0;a<r.length;a++){var c=r[a];dt(t,c)||n&&dt(n,c)||o(t,c,i(e,c))}},Ce=/#|\.prototype\./,ke=function(t,e){var n=Ne[Re(t)];return n==Ue||n!=Me&&(H(e)?p(e):!!e)},Re=ke.normalize=function(t){return String(t).replace(Ce,".").toLowerCase()},Ne=ke.data={},Me=ke.NATIVE="N",Ue=ke.POLYFILL="P",De=ke,He=Ct.f,Be=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,f=t.stat;if(n=u?l:f?l[c]||ct(c,{}):(l[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=He(n,r))&&a.value:n[r],!De(u?r:c+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ie(i,o)}(t.sham||o&&o.sham)&&Gt(i,"sham",!0),pe(n,r,i,t)}},We=Object.keys||function(t){return Ee(t,Pe)},Fe=Object.assign,ze=Object.defineProperty,Ge=P([].concat),qe=!Fe||p((function(){if(h&&1!==Fe({b:1},Fe(ze({},"a",{enumerable:!0,get:function(){ze(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Fe({},t)[n]||We(Fe({},e)).join("")!=r}))?function(t,e){for(var n=pt(t),r=arguments.length,o=1,i=Le.f,a=w.f;r>o;)for(var c,u=I(arguments[o++]),f=i?Ge(We(u),i(u)):We(u),s=f.length,l=0;s>l;)c=f[l++],h&&!y(a,u,c)||(n[c]=u[c]);return n}:Fe;Be({target:"Object",stat:!0,arity:2,forced:Object.assign!==qe},{assign:qe});var Ve=Array.isArray||function(t){return"Array"==L(t)},Xe=TypeError,Je=function(t){if(t>9007199254740991)throw Xe("Maximum allowed index exceeded");return t},Ye=function(t,e,n){var r=Tt(e);r in t?zt.f(t,r,S(0,n)):t[r]=n},Ke={};Ke[At("toStringTag")]="z";var Qe="[object z]"===String(Ke),$e=At("toStringTag"),Ze=Object,tn="Arguments"==L(function(){return arguments}()),en=Qe?L:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ze(t),$e))?n:tn?L(e):"Object"==(r=L(e))&&H(e.callee)?"Arguments":r},nn=function(){},rn=[],on=F("Reflect","construct"),an=/^\s*(?:class|function)\b/,cn=P(an.exec),un=!an.exec(nn),fn=function(t){if(!H(t))return!1;try{return on(nn,rn,t),!0}catch(t){return!1}},sn=function(t){if(!H(t))return!1;switch(en(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return un||!!cn(an,Zt(t))}catch(t){return!0}};sn.sham=!0;var ln,pn=!on||p((function(){var t;return fn(fn.call)||!fn(Object)||!fn((function(){t=!0}))||t}))?sn:fn,hn=At("species"),dn=Array,vn=function(t,e){return new(function(t){var e;return Ve(t)&&(e=t.constructor,(pn(e)&&(e===dn||Ve(e.prototype))||W(e)&&null===(e=e[hn]))&&(e=void 0)),void 0===e?dn:e}(t))(0===e?0:e)},yn=At("species"),gn=At("isConcatSpreadable"),mn=Y>=51||!p((function(){var t=[];return t[gn]=!1,t.concat()[0]!==t})),bn=function(t){if(!W(t))return!1;var e=t[gn];return void 0!==e?!!e:Ve(t)},wn=!(mn&&(ln="concat",Y>=51||!p((function(){var t=[];return(t.constructor={})[yn]=function(){return{foo:1}},1!==t[ln](Boolean).foo}))));Be({target:"Array",proto:!0,arity:1,forced:wn},{concat:function(t){var e,n,r,o,i,a=pt(this),c=vn(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(bn(i=-1===e?a:arguments[e]))for(o=we(i),Je(u+o),n=0;n<o;n++,u++)n in i&&Ye(c,u,i[n]);else Je(u+1),Ye(c,u++,i);return c.length=u,c}});var Sn,An=h&&!kt?Object.defineProperties:function(t,e){Mt(t);for(var n,r=N(e),o=We(e),i=o.length,a=0;i>a;)zt.f(t,n=o[a++],r[n]);return t},On={f:An},En=F("document","documentElement"),Pn="prototype",Tn="script",_n=re("IE_PROTO"),Ln=function(){},jn=function(t){return"<"+Tn+">"+t+"</"+Tn+">"},xn=function(t){t.write(jn("")),t.close();var e=t.parentWindow.Object;return t=null,e},In=function(){try{Sn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;In="undefined"!=typeof document?document.domain&&Sn?xn(Sn):(e=jt("iframe"),n="java"+Tn+":",e.style.display="none",En.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(jn("document.F=Object")),t.close(),t.F):xn(Sn);for(var r=Pe.length;r--;)delete In[Pn][Pe[r]];return In()};oe[_n]=!0;var Cn=Object.create||function(t,e){var n;return null!==t?(Ln[Pn]=Mt(t),n=new Ln,Ln[Pn]=null,n[_n]=t):n=In(),void 0===e?n:On.f(n,e)},kn=zt.f,Rn=At("unscopables"),Nn=Array.prototype;null==Nn[Rn]&&kn(Nn,Rn,{configurable:!0,value:Cn(null)});var Mn,Un,Dn,Hn=function(t){Nn[Rn][t]=!0},Bn={},Wn=!p((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Fn=re("IE_PROTO"),zn=Object,Gn=zn.prototype,qn=Wn?zn.getPrototypeOf:function(t){var e=pt(t);if(dt(e,Fn))return e[Fn];var n=e.constructor;return H(n)&&e instanceof n?n.prototype:e instanceof zn?Gn:null},Vn=At("iterator"),Xn=!1;[].keys&&("next"in(Dn=[].keys())?(Un=qn(qn(Dn)))!==Object.prototype&&(Mn=Un):Xn=!0);var Jn=!W(Mn)||p((function(){var t={};return Mn[Vn].call(t)!==t}));Jn&&(Mn={}),H(Mn[Vn])||pe(Mn,Vn,(function(){return this}));var Yn={IteratorPrototype:Mn,BUGGY_SAFARI_ITERATORS:Xn},Kn=zt.f,Qn=At("toStringTag"),$n=function(t,e,n){t&&!n&&(t=t.prototype),t&&!dt(t,Qn)&&Kn(t,Qn,{configurable:!0,value:e})},Zn=Yn.IteratorPrototype,tr=function(){return this},er=String,nr=TypeError,rr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=function(t,e,n){try{return P(rt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Mt(n),function(t){if("object"==typeof t||H(t))return t;throw nr("Can't set "+er(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),or=Jt.PROPER,ir=Jt.CONFIGURABLE,ar=Yn.IteratorPrototype,cr=Yn.BUGGY_SAFARI_ITERATORS,ur=At("iterator"),fr="keys",sr="values",lr="entries",pr=function(){return this},hr=function(t,e,n,r,o,i,a){!function(t,e,n,r){var o=e+" Iterator";t.prototype=Cn(Zn,{next:S(+!r,n)}),$n(t,o,!1),Bn[o]=tr}(n,e,r);var c,u,f,s=function(t){if(t===o&&v)return v;if(!cr&&t in h)return h[t];switch(t){case fr:case sr:case lr:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,h=t.prototype,d=h[ur]||h["@@iterator"]||o&&h[o],v=!cr&&d||s(o),g="Array"==e&&h.entries||d;if(g&&(c=qn(g.call(new t)))!==Object.prototype&&c.next&&(qn(c)!==ar&&(rr?rr(c,ar):H(c[ur])||pe(c,ur,pr)),$n(c,l,!0)),or&&o==sr&&d&&d.name!==sr&&(ir?Gt(h,"name",sr):(p=!0,v=function(){return y(d,this)})),o)if(u={values:s(sr),keys:i?v:s(fr),entries:s(lr)},a)for(f in u)(cr||p||!(f in h))&&pe(h,f,u[f]);else Be({target:e,proto:!0,forced:cr||p},u);return h[ur]!==v&&pe(h,ur,v,{name:o}),Bn[e]=v,u},dr=function(t,e){return{value:t,done:e}},vr=zt.f,yr="Array Iterator",gr=se.set,mr=se.getterFor(yr),br=hr(Array,"Array",(function(t,e){gr(this,{type:yr,target:N(t),index:0,kind:e})}),(function(){var t=mr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,dr(void 0,!0)):dr("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),wr=Bn.Arguments=Bn.Array;if(Hn("keys"),Hn("values"),Hn("entries"),h&&"values"!==wr.name)try{vr(wr,"name",{value:"values"})}catch(t){}var Sr=Qe?{}.toString:function(){return"[object "+en(this)+"]"};Qe||pe(Object.prototype,"toString",Sr,{unsafe:!0});var Ar,Or,Er,Pr,Tr="undefined"!=typeof process&&"process"==L(process),_r=At("species"),Lr=TypeError,jr=TypeError,xr=At("species"),Ir=function(t,e){var n,r=Mt(t).constructor;return void 0===r||C(n=Mt(r)[xr])?e:function(t){if(pn(t))return t;throw jr(et(t)+" is not a constructor")}(n)},Cr=Function.prototype,kr=Cr.apply,Rr=Cr.call,Nr="object"==typeof Reflect&&Reflect.apply||(d?Rr.bind(kr):function(){return Rr.apply(kr,arguments)}),Mr=function(t){if("Function"===L(t))return P(t)},Ur=Mr(Mr.bind),Dr=function(t,e){return rt(t),void 0===e?t:d?Ur(t,e):function(){return t.apply(e,arguments)}},Hr=P([].slice),Br=TypeError,Wr=/(?:ipad|iphone|ipod).*applewebkit/i.test(G),Fr=l.setImmediate,zr=l.clearImmediate,Gr=l.process,qr=l.Dispatch,Vr=l.Function,Xr=l.MessageChannel,Jr=l.String,Yr=0,Kr={},Qr="onreadystatechange";p((function(){Ar=l.location}));var $r=function(t){if(dt(Kr,t)){var e=Kr[t];delete Kr[t],e()}},Zr=function(t){return function(){$r(t)}},to=function(t){$r(t.data)},eo=function(t){l.postMessage(Jr(t),Ar.protocol+"//"+Ar.host)};Fr&&zr||(Fr=function(t){!function(t,e){if(t<e)throw Br("Not enough arguments")}(arguments.length,1);var e=H(t)?t:Vr(t),n=Hr(arguments,1);return Kr[++Yr]=function(){Nr(e,void 0,n)},Or(Yr),Yr},zr=function(t){delete Kr[t]},Tr?Or=function(t){Gr.nextTick(Zr(t))}:qr&&qr.now?Or=function(t){qr.now(Zr(t))}:Xr&&!Wr?(Pr=(Er=new Xr).port2,Er.port1.onmessage=to,Or=Dr(Pr.postMessage,Pr)):l.addEventListener&&H(l.postMessage)&&!l.importScripts&&Ar&&"file:"!==Ar.protocol&&!p(eo)?(Or=eo,l.addEventListener("message",to,!1)):Or=Qr in jt("script")?function(t){En.appendChild(jt("script"))[Qr]=function(){En.removeChild(this),$r(t)}}:function(t){setTimeout(Zr(t),0)});var no={set:Fr,clear:zr},ro=function(){this.head=null,this.tail=null};ro.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var oo,io,ao,co,uo,fo=ro,so=/ipad|iphone|ipod/i.test(G)&&"undefined"!=typeof Pebble,lo=/web0s(?!.*chrome)/i.test(G),po=Ct.f,ho=no.set,vo=l.MutationObserver||l.WebKitMutationObserver,yo=l.document,go=l.process,mo=l.Promise,bo=po(l,"queueMicrotask"),wo=bo&&bo.value;if(!wo){var So=new fo,Ao=function(){var t,e;for(Tr&&(t=go.domain)&&t.exit();e=So.get();)try{e()}catch(t){throw So.head&&oo(),t}t&&t.enter()};Wr||Tr||lo||!vo||!yo?!so&&mo&&mo.resolve?((co=mo.resolve(void 0)).constructor=mo,uo=Dr(co.then,co),oo=function(){uo(Ao)}):Tr?oo=function(){go.nextTick(Ao)}:(ho=Dr(ho,l),oo=function(){ho(Ao)}):(io=!0,ao=yo.createTextNode(""),new vo(Ao).observe(ao,{characterData:!0}),oo=function(){ao.data=io=!io}),wo=function(t){So.head||oo(),So.add(t)}}var Oo=wo,Eo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Po=l.Promise,To="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,_o=!To&&!Tr&&"object"==typeof window&&"object"==typeof document;Po&&Po.prototype;var Lo,jo,xo,Io,Co,ko,Ro,No=At("species"),Mo=!1,Uo=H(l.PromiseRejectionEvent),Do=De("Promise",(function(){var t=Zt(Po),e=t!==String(Po);if(!e&&66===Y)return!0;if(!Y||Y<51||!/native code/.test(t)){var n=new Po((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[No]=r,!(Mo=n.then((function(){}))instanceof r))return!0}return!e&&(_o||To)&&!Uo})),Ho={CONSTRUCTOR:Do,REJECTION_EVENT:Uo,SUBCLASSING:Mo},Bo=TypeError,Wo=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Bo("Bad Promise constructor");e=t,n=r})),this.resolve=rt(e),this.reject=rt(n)},Fo={f:function(t){return new Wo(t)}},zo=no.set,Go="Promise",qo=Ho.CONSTRUCTOR,Vo=Ho.REJECTION_EVENT,Xo=Ho.SUBCLASSING,Jo=se.getterFor(Go),Yo=se.set,Ko=Po&&Po.prototype,Qo=Po,$o=Ko,Zo=l.TypeError,ti=l.document,ei=l.process,ni=Fo.f,ri=ni,oi=!!(ti&&ti.createEvent&&l.dispatchEvent),ii="unhandledrejection",ai=function(t){var e;return!(!W(t)||!H(e=t.then))&&e},ci=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,s=t.domain;try{c?(a||(2===e.rejection&&pi(e),e.rejection=1),!0===c?n=i:(s&&s.enter(),n=c(i),s&&(s.exit(),o=!0)),n===t.promise?f(Zo("Promise-chain cycle")):(r=ai(n))?y(r,n,u,f):u(n)):f(i)}catch(t){s&&!o&&s.exit(),f(t)}},ui=function(t,e){t.notified||(t.notified=!0,Oo((function(){for(var n,r=t.reactions;n=r.get();)ci(n,t);t.notified=!1,e&&!t.rejection&&si(t)})))},fi=function(t,e,n){var r,o;oi?((r=ti.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!Vo&&(o=l["on"+t])?o(r):t===ii&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},si=function(t){y(zo,l,(function(){var e,n=t.facade,r=t.value;if(li(t)&&(e=Eo((function(){Tr?ei.emit("unhandledRejection",r,n):fi(ii,n,r)})),t.rejection=Tr||li(t)?2:1,e.error))throw e.value}))},li=function(t){return 1!==t.rejection&&!t.parent},pi=function(t){y(zo,l,(function(){var e=t.facade;Tr?ei.emit("rejectionHandled",e):fi("rejectionhandled",e,t.value)}))},hi=function(t,e,n){return function(r){t(e,r,n)}},di=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ui(t,!0))},vi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Zo("Promise can't be resolved itself");var r=ai(e);r?Oo((function(){var n={done:!1};try{y(r,e,hi(vi,n,t),hi(di,n,t))}catch(e){di(n,e,t)}})):(t.value=e,t.state=1,ui(t,!1))}catch(e){di({done:!1},e,t)}}};if(qo&&($o=(Qo=function(t){!function(t,e){if(z(e,t))return t;throw Lr("Incorrect invocation")}(this,$o),rt(t),y(Lo,this);var e=Jo(this);try{t(hi(vi,e),hi(di,e))}catch(t){di(e,t)}}).prototype,(Lo=function(t){Yo(this,{type:Go,done:!1,notified:!1,parent:!1,reactions:new fo,rejection:!1,state:0,value:void 0})}).prototype=pe($o,"then",(function(t,e){var n=Jo(this),r=ni(Ir(this,Qo));return n.parent=!0,r.ok=!H(t)||t,r.fail=H(e)&&e,r.domain=Tr?ei.domain:void 0,0==n.state?n.reactions.add(r):Oo((function(){ci(r,n)})),r.promise})),jo=function(){var t=new Lo,e=Jo(t);this.promise=t,this.resolve=hi(vi,e),this.reject=hi(di,e)},Fo.f=ni=function(t){return t===Qo||undefined===t?new jo(t):ri(t)},H(Po)&&Ko!==Object.prototype)){xo=Ko.then,Xo||pe(Ko,"then",(function(t,e){var n=this;return new Qo((function(t,e){y(xo,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Ko.constructor}catch(t){}rr&&rr(Ko,$o)}Be({global:!0,constructor:!0,wrap:!0,forced:qo},{Promise:Qo}),$n(Qo,Go,!1),Ro=F(Go),h&&Ro&&!Ro[_r]&&(Io=Ro,Co=_r,(ko={configurable:!0,get:function(){return this}}).get&&le(ko.get,Co,{getter:!0}),ko.set&&le(ko.set,Co,{setter:!0}),zt.f(Io,Co,ko));var yi=At("iterator"),gi=Array.prototype,mi=At("iterator"),bi=function(t){if(!C(t))return ot(t,mi)||ot(t,"@@iterator")||Bn[en(t)]},wi=TypeError,Si=function(t,e,n){var r,o;Mt(t);try{if(!(r=ot(t,"return"))){if("throw"===e)throw n;return n}r=y(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Mt(r),n},Ai=TypeError,Oi=function(t,e){this.stopped=t,this.result=e},Ei=Oi.prototype,Pi=function(t,e,n){var r,o,i,a,c,u,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=Dr(e,l),m=function(t){return r&&Si(r,"normal",t),new Oi(!0,t)},b=function(t){return p?(Mt(t),v?g(t[0],t[1],m):g(t[0],t[1])):v?g(t,m):g(t)};if(h)r=t.iterator;else if(d)r=t;else{if(!(o=bi(t)))throw Ai(et(t)+" is not iterable");if(void 0!==(s=o)&&(Bn.Array===s||gi[yi]===s)){for(i=0,a=we(t);a>i;i++)if((c=b(t[i]))&&z(Ei,c))return c;return new Oi(!1)}r=function(t,e){var n=arguments.length<2?bi(t):e;if(rt(n))return Mt(y(n,t));throw wi(et(t)+" is not iterable")}(t,o)}for(u=h?t.next:r.next;!(f=y(u,r)).done;){try{c=b(f.value)}catch(t){Si(r,"throw",t)}if("object"==typeof c&&c&&z(Ei,c))return c}return new Oi(!1)},Ti=At("iterator"),_i=!1;try{var Li=0,ji={next:function(){return{done:!!Li++}},return:function(){_i=!0}};ji[Ti]=function(){return this},Array.from(ji,(function(){throw 2}))}catch(t){}var xi=Ho.CONSTRUCTOR||!function(t,e){if(!e&&!_i)return!1;var n=!1;try{var r={};r[Ti]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Po.all(t).then(void 0,(function(){}))}));Be({target:"Promise",stat:!0,forced:xi},{all:function(t){var e=this,n=Fo.f(e),r=n.resolve,o=n.reject,i=Eo((function(){var n=rt(e.resolve),i=[],a=0,c=1;Pi(t,(function(t){var u=a++,f=!1;c++,y(n,e,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var Ii=Ho.CONSTRUCTOR,Ci=Po&&Po.prototype;if(Be({target:"Promise",proto:!0,forced:Ii,real:!0},{catch:function(t){return this.then(void 0,t)}}),H(Po)){var ki=F("Promise").prototype.catch;Ci.catch!==ki&&pe(Ci,"catch",ki,{unsafe:!0})}Be({target:"Promise",stat:!0,forced:xi},{race:function(t){var e=this,n=Fo.f(e),r=n.reject,o=Eo((function(){var o=rt(e.resolve);Pi(t,(function(t){y(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Be({target:"Promise",stat:!0,forced:Ho.CONSTRUCTOR},{reject:function(t){var e=Fo.f(this);return y(e.reject,void 0,t),e.promise}});var Ri=Ho.CONSTRUCTOR;F("Promise"),Be({target:"Promise",stat:!0,forced:Ri},{resolve:function(t){return function(t,e){if(Mt(t),W(e)&&e.constructor===t)return e;var n=Fo.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var Ni=String,Mi=function(t){if("Symbol"===en(t))throw TypeError("Cannot convert a Symbol value to a string");return Ni(t)},Ui=P("".charAt),Di=P("".charCodeAt),Hi=P("".slice),Bi=function(t){return function(e,n){var r,o,i=Mi(R(e)),a=ye(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=Di(i,a))<55296||r>56319||a+1===c||(o=Di(i,a+1))<56320||o>57343?t?Ui(i,a):r:t?Hi(i,a,a+2):o-56320+(r-55296<<10)+65536}},Wi={codeAt:Bi(!1),charAt:Bi(!0)}.charAt,Fi="String Iterator",zi=se.set,Gi=se.getterFor(Fi);hr(String,"String",(function(t){zi(this,{type:Fi,string:Mi(t),index:0})}),(function(){var t,e=Gi(this),n=e.string,r=e.index;return r>=n.length?dr(void 0,!0):(t=Wi(n,r),e.index+=t.length,dr(t,!1))}));var qi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Vi=jt("span").classList,Xi=Vi&&Vi.constructor&&Vi.constructor.prototype,Ji=Xi===Object.prototype?void 0:Xi,Yi=At("iterator"),Ki=At("toStringTag"),Qi=br.values,$i=function(t,e){if(t){if(t[Yi]!==Qi)try{Gt(t,Yi,Qi)}catch(e){t[Yi]=Qi}if(t[Ki]||Gt(t,Ki,e),qi[e])for(var n in br)if(t[n]!==br[n])try{Gt(t,n,br[n])}catch(e){t[n]=br[n]}}};for(var Zi in qi)$i(l[Zi]&&l[Zi].prototype,Zi);$i(Ji,"DOMTokenList");var ta=function(){return ta=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ta.apply(this,arguments)},ea={weixinJsSdkTicket:"",launchContainerQuery:".mazey-launch-app-selector",launchShowWeixinToBrowserImgUrl:"",canShowWeixinToBrowser:!1,extInfo:"",serviceAccountAppId:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App <br /><br /><br />",launchErrorLink:"",canContinuousUpdating:!1,onMenuShareTimelineOptions:void 0,onMenuShareAppMessageOptions:void 0,isConClosed:!0,isWxDebug:!1,openTagList:["wx-open-launch-app"],canLaunchApp:function(){return!0},canFireErrorLinkDirectly:function(){return!1},launchBtnClick:function(){},launchReady:function(){}},na=function(a){void 0===a&&(a=ea);var c=Object.assign(ea,a),u=c.weixinJsSdkTicket,f=c.launchContainerQuery,s=c.genTagPrefixStr,l=c.launchShowWeixinToBrowserImgUrl,p=c.canShowWeixinToBrowser,h=c.launchShowWeixinToBrowserClassName,d=c.launchBtnClassName,v=c.launchBtnStyle,y=c.launchBtnText,g=c.launchErrorLink,m=c.wexinServiceAccountAppId,b=c.openPlatformMobileAppId,w=c.canContinuousUpdating,S=c.onMenuShareTimelineOptions,A=c.onMenuShareAppMessageOptions,O=c.isConClosed,E=c.isWxDebug,P=c.openTagList,T=c.canLaunchApp,_=c.canFireErrorLinkDirectly,L=c.launchBtnClick,j=c.launchReady,x=c.serviceAccountAppId,I=c.extInfo,C=window.wx;C||console.error("Launch App: wx is not found");var k=function(){},R=t("LaunchCon:",{isClosed:O});R.log("Launch App");var N={title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}},M={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},U={title:document.title,link:location.href};N=ta(ta({},N),U),M=ta(ta({},M),U);var D=function(t,e,n){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="button"),"<style>.".concat(d,"{")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+v+e+"}</style>"+"<".concat(n,' class="').concat(d,'"')+(t&&"button"===n?' onclick="'.concat(t,'"'):"")+(t&&"a"===n?' target="_self" href="'.concat(t,'"'):"")+">"+y+"</".concat(n,">")},H=D();function B(){e('.mazey-launch-app-mask{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, .5);text-align:right;font-size:0;white-space:nowrap;overflow:auto;z-index:999;}.mazey-launch-app-img{display:inline-block;vertical-align:middle;text-align:left;font-size:14px;white-space:normal;width:50vw;margin:0.5rem 0.5rem 0 0;}.mazey-launch-app-img:after{content:"";display:inline-block;height:100%;vertical-align:middle;}',{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){o(".mazey-launch-app-mask").hide()}),0===o(".mazey-launch-app-mask").length?o("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'><img "+"class='mazey-launch-app-img ".concat(h,"' ")+"src='".concat(l,"' ")+"alt='Launch App' /></div>"):o(".mazey-launch-app-mask").show()}function W(){R.log("renderWeixinLaunchTemplate"),!x&&m&&(console.warn("wexinServiceAccountAppId will be deprecated, use serviceAccountAppId instead."),x=m),function(t,e){void 0===t&&(t=""),void 0===e&&(e=""),R.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(u||window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET||r("weixinJsSdkTicket")||""),Promise.resolve(i)]).then((function(r){R.log("allRes",r);var i=r[0];if(i){var a=r[1];if(a){var c=n(7),u=i,l=(new Date).getTime(),h=a("jsapi_ticket="+u+"&noncestr="+c+"&timestamp="+l+"&url="+location.href);return C.config({debug:E,appId:t,timestamp:l,nonceStr:c,signature:h,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"],openTagList:P}),C.ready((function(){if(A&&(R.log("onMenuShareAppMessageOptions",A),C.onMenuShareAppMessage(A)),window.LAUNCH_APP_SHARE_APP_MESSAGE=function(t){t=ta(ta({},M),t),R.log("window LAUNCH_APP_SHARE_APP_MESSAGE",t),C.onMenuShareAppMessage(t)},S&&(R.log("onMenuShareTimelineOptions",S),C.onMenuShareTimeline(S)),window.LAUNCH_APP_SHARE_TIMELINE=function(t){t=ta(ta({},N),t),R.log("window LAUNCH_APP_SHARE_TIMELINE",t),C.onMenuShareTimeline(t)},e){window.LAUNCH_APP_READY=!0,j&&j();var t=function(){var t=o(f);R.log("containers",f,t,t.length),t.length>0&&t.each((function(t,n){var r=o(n).attr("data-launch-app-key");if(!r){var i=o(n).parents("[data-launch-app-key]:eq(0)");i.length>0&&(r=i.attr("data-launch-app-key"),R.log("keyEle",i,r))}r||(r=String(t));var a="mazey-launch-app-tag-".concat(r),c=o(".".concat(a," wx-open-launch-app")),u=o(n).attr("data-launch-app-ext-info");if(!u){var f=o(n).parents("[data-launch-app-ext-info]:eq(0)");f.length>0&&(u=f.attr("data-launch-app-ext-info"),R.log("eleExtInfoEle parents",f,u))}u&&(I=u);var l=o(n).attr("data-launch-app-error-link");if(!l){var h=o(n).parents("[data-launch-app-error-link]:eq(0)");h.length>0&&(l=h.attr("data-launch-app-error-link"),R.log("eleErrorLinkEle parents",h,l))}var d=g;l&&(d=l),0===c.length&&(o(n).addClass(a),R.log("success:",a),function(t){var n=s,r=n+t,i="<wx-open-launch-app id='"+r+"' appid='"+e+"' extinfo='".concat(I)+"' style='z-index:99;position:absolute;width:100%;height:100%;opacity:1;background:transparent;overflow:hidden;left:0;'><script type='text/wxtag-template'>"+H+"<\/script></wx-open-launch-app>";o("."+t+":eq(0)").append(i);var a=document.getElementById(r);a&&(a.addEventListener("ready",(function(t){R.log("ready event",t)})),a.addEventListener("launch",(function(t){R.log("launch event",t),t.detail&&t.detail.extInfo&&R.log("launch extInfo",t.detail.extInfo)})),a.addEventListener("error",(function(t){R.error(t.detail),o("[id^='"+n+"']").hide(),p&&B(),d&&(R.log("realErrorLink",d),location.href=d)})),a.addEventListener("click",(function(t){R.log("click event",t),L&&L()})))}(a))}))};t(),k=t}else R.log("openPlatformMobileAppId is required for weixin launch app")})),C.error((function(t){R.error(t)})),"success:launch_app"}R.error("sha1 is required")}else R.error("weixinJsSdkTicket is required")})).catch((function(t){R.error(t)}))}(x,b)}function F(t){if(R.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&T(t)&&(W(),window.LAUNCH_APP_LOAD=!0),w&&window.LAUNCH_APP_LOAD&&T(t)&&k(),_()){var e=o(f);e.length>0&&e.each((function(t,e){var n=o(e).children("."+d);if(!n||!n.length){var r=o(e).attr("data-launch-app-error-link");if(!r){var i=o(e).parents("[data-launch-app-error-link]:eq(0)");i.length>0&&(r=i.attr("data-launch-app-error-link"))}if(r&&"string"==typeof r&&r.length){var a=D(r,"position:absolute;left:0;z-index:999;","a");o(e).append(a)}}}))}}function z(){R.log("appBeforeDestroy",z),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return window.LAUNCH_APP_UPDATE=F,window.LAUNCH_APP_BEFORE_DESTROY=z,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=B,{LAUNCH_APP_UPDATE:F,LAUNCH_APP_BEFORE_DESTROY:z,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:B,LAUNCH_APP_SHARE_TIMELINE:function(t){R.log("opt",t)},LAUNCH_APP_SHARE_APP_MESSAGE:function(t){R.log("opt",t)},start:F,update:F,destroy:z}};export{na as default};
