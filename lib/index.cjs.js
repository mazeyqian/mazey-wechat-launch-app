/*!
 * mazey-wechat-launch-app v1.0.0
 * (c) 2018-2023 Mazey Chu
 * Released under the MIT License.
 */
"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e,r,o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||function(){return this}()||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},a=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!c((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f=Function.prototype.call,s=u?f.bind(f):function(){return f.apply(f,arguments)},l={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,d=p&&!l.call({1:2},1)?function(t){var n=p(this,t);return!!n&&n.enumerable}:l,h={f:d},v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},y=Function.prototype,g=y.call,m=u&&y.bind.bind(g,g),b=u?m:function(t){return function(){return g.apply(t,arguments)}},w=b({}.toString),S=b("".slice),O=function(t){return S(w(t),8,-1)},j=Object,P=b("".split),A=c((function(){return!j("z").propertyIsEnumerable(0)}))?function(t){return"String"==O(t)?P(t,""):j(t)}:j,E=function(t){return null==t},T=TypeError,L=function(t){if(E(t))throw T("Can't call method on "+t);return t},_=function(t){return A(L(t))},x="object"==typeof document&&document.all,C={all:x,IS_HTMLDDA:void 0===x&&void 0!==x},I=C.all,R=C.IS_HTMLDDA?function(t){return"function"==typeof t||t===I}:function(t){return"function"==typeof t},N=C.all,k=C.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:R(t)||t===N}:function(t){return"object"==typeof t?null!==t:R(t)},D=function(t,n){return arguments.length<2?(e=i[t],R(e)?e:void 0):i[t]&&i[t][n];var e},M=b({}.isPrototypeOf),U="undefined"!=typeof navigator&&String(navigator.userAgent)||"",F=i.process,W=i.Deno,B=F&&F.versions||W&&W.version,z=B&&B.v8;z&&(r=(e=z.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!r&&U&&(!(e=U.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=U.match(/Chrome\/(\d+)/))&&(r=+e[1]);var H=r,G=!!Object.getOwnPropertySymbols&&!c((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&H&&H<41})),V=G&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=Object,q=V?function(t){return"symbol"==typeof t}:function(t){var n=D("Symbol");return R(n)&&M(n.prototype,X(t))},K=String,Y=function(t){try{return K(t)}catch(t){return"Object"}},J=TypeError,Q=function(t){if(R(t))return t;throw J(Y(t)+" is not a function")},$=function(t,n){var e=t[n];return E(e)?void 0:Q(e)},Z=TypeError,tt=Object.defineProperty,nt=function(t,n){try{tt(i,t,{value:n,configurable:!0,writable:!0})}catch(e){i[t]=n}return n},et="__core-js_shared__",rt=i[et]||nt(et,{}),ot=n((function(t){(t.exports=function(t,n){return rt[t]||(rt[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),it=Object,ct=function(t){return it(L(t))},at=b({}.hasOwnProperty),ut=Object.hasOwn||function(t,n){return at(ct(t),n)},ft=0,st=Math.random(),lt=b(1..toString),pt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+lt(++ft+st,36)},dt=i.Symbol,ht=ot("wks"),vt=V?dt.for||dt:dt&&dt.withoutSetter||pt,yt=function(t){return ut(ht,t)||(ht[t]=G&&ut(dt,t)?dt[t]:vt("Symbol."+t)),ht[t]},gt=TypeError,mt=yt("toPrimitive"),bt=function(t,n){if(!k(t)||q(t))return t;var e,r=$(t,mt);if(r){if(void 0===n&&(n="default"),e=s(r,t,n),!k(e)||q(e))return e;throw gt("Can't convert object to primitive value")}return void 0===n&&(n="number"),function(t,n){var e,r;if("string"===n&&R(e=t.toString)&&!k(r=s(e,t)))return r;if(R(e=t.valueOf)&&!k(r=s(e,t)))return r;if("string"!==n&&R(e=t.toString)&&!k(r=s(e,t)))return r;throw Z("Can't convert object to primitive value")}(t,n)},wt=function(t){var n=bt(t,"string");return q(n)?n:n+""},St=i.document,Ot=k(St)&&k(St.createElement),jt=function(t){return Ot?St.createElement(t):{}},Pt=!a&&!c((function(){return 7!=Object.defineProperty(jt("div"),"a",{get:function(){return 7}}).a})),At=Object.getOwnPropertyDescriptor,Et={f:a?At:function(t,n){if(t=_(t),n=wt(n),Pt)try{return At(t,n)}catch(t){}if(ut(t,n))return v(!s(h.f,t,n),t[n])}},Tt=a&&c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Lt=String,_t=TypeError,xt=function(t){if(k(t))return t;throw _t(Lt(t)+" is not an object")},Ct=TypeError,It=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,Nt="enumerable",kt="configurable",Dt="writable",Mt={f:a?Tt?function(t,n,e){if(xt(t),n=wt(n),xt(e),"function"==typeof t&&"prototype"===n&&"value"in e&&Dt in e&&!e[Dt]){var r=Rt(t,n);r&&r[Dt]&&(t[n]=e.value,e={configurable:kt in e?e[kt]:r[kt],enumerable:Nt in e?e[Nt]:r[Nt],writable:!1})}return It(t,n,e)}:It:function(t,n,e){if(xt(t),n=wt(n),xt(e),Pt)try{return It(t,n,e)}catch(t){}if("get"in e||"set"in e)throw Ct("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},Ut=a?function(t,n,e){return Mt.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},Ft=Function.prototype,Wt=a&&Object.getOwnPropertyDescriptor,Bt=ut(Ft,"name"),zt={EXISTS:Bt,PROPER:Bt&&"something"===function(){}.name,CONFIGURABLE:Bt&&(!a||a&&Wt(Ft,"name").configurable)},Ht=b(Function.toString);R(rt.inspectSource)||(rt.inspectSource=function(t){return Ht(t)});var Gt,Vt,Xt,qt=rt.inspectSource,Kt=i.WeakMap,Yt=R(Kt)&&/native code/.test(String(Kt)),Jt=ot("keys"),Qt=function(t){return Jt[t]||(Jt[t]=pt(t))},$t={},Zt="Object already initialized",tn=i.TypeError,nn=i.WeakMap;if(Yt||rt.state){var en=rt.state||(rt.state=new nn);en.get=en.get,en.has=en.has,en.set=en.set,Gt=function(t,n){if(en.has(t))throw tn(Zt);return n.facade=t,en.set(t,n),n},Vt=function(t){return en.get(t)||{}},Xt=function(t){return en.has(t)}}else{var rn=Qt("state");$t[rn]=!0,Gt=function(t,n){if(ut(t,rn))throw tn(Zt);return n.facade=t,Ut(t,rn,n),n},Vt=function(t){return ut(t,rn)?t[rn]:{}},Xt=function(t){return ut(t,rn)}}var on={set:Gt,get:Vt,has:Xt,enforce:function(t){return Xt(t)?Vt(t):Gt(t,{})},getterFor:function(t){return function(n){var e;if(!k(n)||(e=Vt(n)).type!==t)throw tn("Incompatible receiver, "+t+" required");return e}}},cn=n((function(t){var n=zt.CONFIGURABLE,e=on.enforce,r=on.get,o=String,i=Object.defineProperty,u=b("".slice),f=b("".replace),s=b([].join),l=a&&!c((function(){return 8!==i((function(){}),"length",{value:8}).length})),p=String(String).split("String"),d=t.exports=function(t,r,c){"Symbol("===u(o(r),0,7)&&(r="["+f(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),c&&c.getter&&(r="get "+r),c&&c.setter&&(r="set "+r),(!ut(t,"name")||n&&t.name!==r)&&(a?i(t,"name",{value:r,configurable:!0}):t.name=r),l&&c&&ut(c,"arity")&&t.length!==c.arity&&i(t,"length",{value:c.arity});try{c&&ut(c,"constructor")&&c.constructor?a&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var d=e(t);return ut(d,"source")||(d.source=s(p,"string"==typeof r?r:"")),t};Function.prototype.toString=d((function(){return R(this)&&r(this).source||qt(this)}),"toString")})),an=function(t,n,e,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:n;if(R(e)&&cn(e,i,r),r.global)o?t[n]=e:nt(n,e);else{try{r.unsafe?t[n]&&(o=!0):delete t[n]}catch(t){}o?t[n]=e:Mt.f(t,n,{value:e,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},un=Math.ceil,fn=Math.floor,sn=Math.trunc||function(t){var n=+t;return(n>0?fn:un)(n)},ln=function(t){var n=+t;return n!=n||0===n?0:sn(n)},pn=Math.max,dn=Math.min,hn=Math.min,vn=function(t){return(n=t.length)>0?hn(ln(n),9007199254740991):0;var n},yn=function(t){return function(n,e,r){var o,i=_(n),c=vn(i),a=function(t,n){var e=ln(t);return e<0?pn(e+n,0):dn(e,n)}(r,c);if(t&&e!=e){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},gn={includes:yn(!0),indexOf:yn(!1)}.indexOf,mn=b([].push),bn=function(t,n){var e,r=_(t),o=0,i=[];for(e in r)!ut($t,e)&&ut(r,e)&&mn(i,e);for(;n.length>o;)ut(r,e=n[o++])&&(~gn(i,e)||mn(i,e));return i},wn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sn=wn.concat("length","prototype"),On={f:Object.getOwnPropertyNames||function(t){return bn(t,Sn)}},jn={f:Object.getOwnPropertySymbols},Pn=b([].concat),An=D("Reflect","ownKeys")||function(t){var n=On.f(xt(t)),e=jn.f;return e?Pn(n,e(t)):n},En=function(t,n,e){for(var r=An(n),o=Mt.f,i=Et.f,c=0;c<r.length;c++){var a=r[c];ut(t,a)||e&&ut(e,a)||o(t,a,i(n,a))}},Tn=/#|\.prototype\./,Ln=function(t,n){var e=xn[_n(t)];return e==In||e!=Cn&&(R(n)?c(n):!!n)},_n=Ln.normalize=function(t){return String(t).replace(Tn,".").toLowerCase()},xn=Ln.data={},Cn=Ln.NATIVE="N",In=Ln.POLYFILL="P",Rn=Ln,Nn=Et.f,kn=function(t,n){var e,r,o,c,a,u=t.target,f=t.global,s=t.stat;if(e=f?i:s?i[u]||nt(u,{}):(i[u]||{}).prototype)for(r in n){if(c=n[r],o=t.dontCallGetSet?(a=Nn(e,r))&&a.value:e[r],!Rn(f?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof c==typeof o)continue;En(c,o)}(t.sham||o&&o.sham)&&Ut(c,"sham",!0),an(e,r,c,t)}},Dn=Object.keys||function(t){return bn(t,wn)},Mn=Object.assign,Un=Object.defineProperty,Fn=b([].concat),Wn=!Mn||c((function(){if(a&&1!==Mn({b:1},Mn(Un({},"a",{enumerable:!0,get:function(){Un(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=Mn({},t)[e]||Dn(Mn({},n)).join("")!=r}))?function(t,n){for(var e=ct(t),r=arguments.length,o=1,i=jn.f,c=h.f;r>o;)for(var u,f=A(arguments[o++]),l=i?Fn(Dn(f),i(f)):Dn(f),p=l.length,d=0;p>d;)u=l[d++],a&&!s(c,f,u)||(e[u]=f[u]);return e}:Mn;kn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Wn},{assign:Wn});var Bn=Array.isArray||function(t){return"Array"==O(t)},zn=TypeError,Hn=function(t){if(t>9007199254740991)throw zn("Maximum allowed index exceeded");return t},Gn=function(t,n,e){var r=wt(n);r in t?Mt.f(t,r,v(0,e)):t[r]=e},Vn={};Vn[yt("toStringTag")]="z";var Xn="[object z]"===String(Vn),qn=yt("toStringTag"),Kn=Object,Yn="Arguments"==O(function(){return arguments}()),Jn=Xn?O:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Kn(t),qn))?e:Yn?O(n):"Object"==(r=O(n))&&R(n.callee)?"Arguments":r},Qn=function(){},$n=[],Zn=D("Reflect","construct"),te=/^\s*(?:class|function)\b/,ne=b(te.exec),ee=!te.exec(Qn),re=function(t){if(!R(t))return!1;try{return Zn(Qn,$n,t),!0}catch(t){return!1}},oe=function(t){if(!R(t))return!1;switch(Jn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ee||!!ne(te,qt(t))}catch(t){return!0}};oe.sham=!0;var ie,ce=!Zn||c((function(){var t;return re(re.call)||!re(Object)||!re((function(){t=!0}))||t}))?oe:re,ae=yt("species"),ue=Array,fe=function(t,n){return new(function(t){var n;return Bn(t)&&(n=t.constructor,(ce(n)&&(n===ue||Bn(n.prototype))||k(n)&&null===(n=n[ae]))&&(n=void 0)),void 0===n?ue:n}(t))(0===n?0:n)},se=yt("species"),le=yt("isConcatSpreadable"),pe=H>=51||!c((function(){var t=[];return t[le]=!1,t.concat()[0]!==t})),de=function(t){if(!k(t))return!1;var n=t[le];return void 0!==n?!!n:Bn(t)},he=!(pe&&(ie="concat",H>=51||!c((function(){var t=[];return(t.constructor={})[se]=function(){return{foo:1}},1!==t[ie](Boolean).foo}))));kn({target:"Array",proto:!0,arity:1,forced:he},{concat:function(t){var n,e,r,o,i,c=ct(this),a=fe(c,0),u=0;for(n=-1,r=arguments.length;n<r;n++)if(de(i=-1===n?c:arguments[n]))for(o=vn(i),Hn(u+o),e=0;e<o;e++,u++)e in i&&Gn(a,u,i[e]);else Hn(u+1),Gn(a,u++,i);return a.length=u,a}});var ve,ye=a&&!Tt?Object.defineProperties:function(t,n){xt(t);for(var e,r=_(n),o=Dn(n),i=o.length,c=0;i>c;)Mt.f(t,e=o[c++],r[e]);return t},ge={f:ye},me=D("document","documentElement"),be="prototype",we="script",Se=Qt("IE_PROTO"),Oe=function(){},je=function(t){return"<"+we+">"+t+"</"+we+">"},Pe=function(t){t.write(je("")),t.close();var n=t.parentWindow.Object;return t=null,n},Ae=function(){try{ve=new ActiveXObject("htmlfile")}catch(t){}var t,n,e;Ae="undefined"!=typeof document?document.domain&&ve?Pe(ve):(n=jt("iframe"),e="java"+we+":",n.style.display="none",me.appendChild(n),n.src=String(e),(t=n.contentWindow.document).open(),t.write(je("document.F=Object")),t.close(),t.F):Pe(ve);for(var r=wn.length;r--;)delete Ae[be][wn[r]];return Ae()};$t[Se]=!0;var Ee=Object.create||function(t,n){var e;return null!==t?(Oe[be]=xt(t),e=new Oe,Oe[be]=null,e[Se]=t):e=Ae(),void 0===n?e:ge.f(e,n)},Te=Mt.f,Le=yt("unscopables"),_e=Array.prototype;null==_e[Le]&&Te(_e,Le,{configurable:!0,value:Ee(null)});var xe,Ce,Ie,Re=function(t){_e[Le][t]=!0},Ne={},ke=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),De=Qt("IE_PROTO"),Me=Object,Ue=Me.prototype,Fe=ke?Me.getPrototypeOf:function(t){var n=ct(t);if(ut(n,De))return n[De];var e=n.constructor;return R(e)&&n instanceof e?e.prototype:n instanceof Me?Ue:null},We=yt("iterator"),Be=!1;[].keys&&("next"in(Ie=[].keys())?(Ce=Fe(Fe(Ie)))!==Object.prototype&&(xe=Ce):Be=!0);var ze=!k(xe)||c((function(){var t={};return xe[We].call(t)!==t}));ze&&(xe={}),R(xe[We])||an(xe,We,(function(){return this}));var He={IteratorPrototype:xe,BUGGY_SAFARI_ITERATORS:Be},Ge=Mt.f,Ve=yt("toStringTag"),Xe=function(t,n,e){t&&!e&&(t=t.prototype),t&&!ut(t,Ve)&&Ge(t,Ve,{configurable:!0,value:n})},qe=He.IteratorPrototype,Ke=function(){return this},Ye=String,Je=TypeError,Qe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{t=function(t,n,e){try{return b(Q(Object.getOwnPropertyDescriptor(t,n)[e]))}catch(t){}}(Object.prototype,"__proto__","set"),t(e,[]),n=e instanceof Array}catch(t){}return function(e,r){return xt(e),function(t){if("object"==typeof t||R(t))return t;throw Je("Can't set "+Ye(t)+" as a prototype")}(r),n?t(e,r):e.__proto__=r,e}}():void 0),$e=zt.PROPER,Ze=zt.CONFIGURABLE,tr=He.IteratorPrototype,nr=He.BUGGY_SAFARI_ITERATORS,er=yt("iterator"),rr="keys",or="values",ir="entries",cr=function(){return this},ar=function(t,n,e,r,o,i,c){!function(t,n,e,r){var o=n+" Iterator";t.prototype=Ee(qe,{next:v(+!r,e)}),Xe(t,o,!1),Ne[o]=Ke}(e,n,r);var a,u,f,l=function(t){if(t===o&&g)return g;if(!nr&&t in h)return h[t];switch(t){case rr:case or:case ir:return function(){return new e(this,t)}}return function(){return new e(this)}},p=n+" Iterator",d=!1,h=t.prototype,y=h[er]||h["@@iterator"]||o&&h[o],g=!nr&&y||l(o),m="Array"==n&&h.entries||y;if(m&&(a=Fe(m.call(new t)))!==Object.prototype&&a.next&&(Fe(a)!==tr&&(Qe?Qe(a,tr):R(a[er])||an(a,er,cr)),Xe(a,p,!0)),$e&&o==or&&y&&y.name!==or&&(Ze?Ut(h,"name",or):(d=!0,g=function(){return s(y,this)})),o)if(u={values:l(or),keys:i?g:l(rr),entries:l(ir)},c)for(f in u)(nr||d||!(f in h))&&an(h,f,u[f]);else kn({target:n,proto:!0,forced:nr||d},u);return h[er]!==g&&an(h,er,g,{name:o}),Ne[n]=g,u},ur=function(t,n){return{value:t,done:n}},fr=Mt.f,sr="Array Iterator",lr=on.set,pr=on.getterFor(sr),dr=ar(Array,"Array",(function(t,n){lr(this,{type:sr,target:_(t),index:0,kind:n})}),(function(){var t=pr(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,ur(void 0,!0)):ur("keys"==e?r:"values"==e?n[r]:[r,n[r]],!1)}),"values"),hr=Ne.Arguments=Ne.Array;if(Re("keys"),Re("values"),Re("entries"),a&&"values"!==hr.name)try{fr(hr,"name",{value:"values"})}catch(t){}var vr=Xn?{}.toString:function(){return"[object "+Jn(this)+"]"};Xn||an(Object.prototype,"toString",vr,{unsafe:!0});var yr,gr,mr,br,wr="undefined"!=typeof process&&"process"==O(process),Sr=yt("species"),Or=TypeError,jr=TypeError,Pr=yt("species"),Ar=function(t,n){var e,r=xt(t).constructor;return void 0===r||E(e=xt(r)[Pr])?n:function(t){if(ce(t))return t;throw jr(Y(t)+" is not a constructor")}(e)},Er=Function.prototype,Tr=Er.apply,Lr=Er.call,_r="object"==typeof Reflect&&Reflect.apply||(u?Lr.bind(Tr):function(){return Lr.apply(Tr,arguments)}),xr=function(t){if("Function"===O(t))return b(t)},Cr=xr(xr.bind),Ir=function(t,n){return Q(t),void 0===n?t:u?Cr(t,n):function(){return t.apply(n,arguments)}},Rr=b([].slice),Nr=TypeError,kr=/(?:ipad|iphone|ipod).*applewebkit/i.test(U),Dr=i.setImmediate,Mr=i.clearImmediate,Ur=i.process,Fr=i.Dispatch,Wr=i.Function,Br=i.MessageChannel,zr=i.String,Hr=0,Gr={},Vr="onreadystatechange";c((function(){yr=i.location}));var Xr=function(t){if(ut(Gr,t)){var n=Gr[t];delete Gr[t],n()}},qr=function(t){return function(){Xr(t)}},Kr=function(t){Xr(t.data)},Yr=function(t){i.postMessage(zr(t),yr.protocol+"//"+yr.host)};Dr&&Mr||(Dr=function(t){!function(t,n){if(t<n)throw Nr("Not enough arguments")}(arguments.length,1);var n=R(t)?t:Wr(t),e=Rr(arguments,1);return Gr[++Hr]=function(){_r(n,void 0,e)},gr(Hr),Hr},Mr=function(t){delete Gr[t]},wr?gr=function(t){Ur.nextTick(qr(t))}:Fr&&Fr.now?gr=function(t){Fr.now(qr(t))}:Br&&!kr?(br=(mr=new Br).port2,mr.port1.onmessage=Kr,gr=Ir(br.postMessage,br)):i.addEventListener&&R(i.postMessage)&&!i.importScripts&&yr&&"file:"!==yr.protocol&&!c(Yr)?(gr=Yr,i.addEventListener("message",Kr,!1)):gr=Vr in jt("script")?function(t){me.appendChild(jt("script"))[Vr]=function(){me.removeChild(this),Xr(t)}}:function(t){setTimeout(qr(t),0)});var Jr={set:Dr,clear:Mr},Qr=function(){this.head=null,this.tail=null};Qr.prototype={add:function(t){var n={item:t,next:null},e=this.tail;e?e.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var $r,Zr,to,no,eo,ro=Qr,oo=/ipad|iphone|ipod/i.test(U)&&"undefined"!=typeof Pebble,io=/web0s(?!.*chrome)/i.test(U),co=Et.f,ao=Jr.set,uo=i.MutationObserver||i.WebKitMutationObserver,fo=i.document,so=i.process,lo=i.Promise,po=co(i,"queueMicrotask"),ho=po&&po.value;if(!ho){var vo=new ro,yo=function(){var t,n;for(wr&&(t=so.domain)&&t.exit();n=vo.get();)try{n()}catch(t){throw vo.head&&$r(),t}t&&t.enter()};kr||wr||io||!uo||!fo?!oo&&lo&&lo.resolve?((no=lo.resolve(void 0)).constructor=lo,eo=Ir(no.then,no),$r=function(){eo(yo)}):wr?$r=function(){so.nextTick(yo)}:(ao=Ir(ao,i),$r=function(){ao(yo)}):(Zr=!0,to=fo.createTextNode(""),new uo(yo).observe(to,{characterData:!0}),$r=function(){to.data=Zr=!Zr}),ho=function(t){vo.head||$r(),vo.add(t)}}var go=ho,mo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},bo=i.Promise,wo="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,So=!wo&&!wr&&"object"==typeof window&&"object"==typeof document;bo&&bo.prototype;var Oo,jo,Po,Ao,Eo,To,Lo,_o=yt("species"),xo=!1,Co=R(i.PromiseRejectionEvent),Io=Rn("Promise",(function(){var t=qt(bo),n=t!==String(bo);if(!n&&66===H)return!0;if(!H||H<51||!/native code/.test(t)){var e=new bo((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((e.constructor={})[_o]=r,!(xo=e.then((function(){}))instanceof r))return!0}return!n&&(So||wo)&&!Co})),Ro={CONSTRUCTOR:Io,REJECTION_EVENT:Co,SUBCLASSING:xo},No=TypeError,ko=function(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw No("Bad Promise constructor");n=t,e=r})),this.resolve=Q(n),this.reject=Q(e)},Do={f:function(t){return new ko(t)}},Mo=Jr.set,Uo="Promise",Fo=Ro.CONSTRUCTOR,Wo=Ro.REJECTION_EVENT,Bo=Ro.SUBCLASSING,zo=on.getterFor(Uo),Ho=on.set,Go=bo&&bo.prototype,Vo=bo,Xo=Go,qo=i.TypeError,Ko=i.document,Yo=i.process,Jo=Do.f,Qo=Jo,$o=!!(Ko&&Ko.createEvent&&i.dispatchEvent),Zo="unhandledrejection",ti=function(t){var n;return!(!k(t)||!R(n=t.then))&&n},ni=function(t,n){var e,r,o,i=n.value,c=1==n.state,a=c?t.ok:t.fail,u=t.resolve,f=t.reject,l=t.domain;try{a?(c||(2===n.rejection&&ci(n),n.rejection=1),!0===a?e=i:(l&&l.enter(),e=a(i),l&&(l.exit(),o=!0)),e===t.promise?f(qo("Promise-chain cycle")):(r=ti(e))?s(r,e,u,f):u(e)):f(i)}catch(t){l&&!o&&l.exit(),f(t)}},ei=function(t,n){t.notified||(t.notified=!0,go((function(){for(var e,r=t.reactions;e=r.get();)ni(e,t);t.notified=!1,n&&!t.rejection&&oi(t)})))},ri=function(t,n,e){var r,o;$o?((r=Ko.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:n,reason:e},!Wo&&(o=i["on"+t])?o(r):t===Zo&&function(t,n){try{1==arguments.length?console.error(t):console.error(t,n)}catch(t){}}("Unhandled promise rejection",e)},oi=function(t){s(Mo,i,(function(){var n,e=t.facade,r=t.value;if(ii(t)&&(n=mo((function(){wr?Yo.emit("unhandledRejection",r,e):ri(Zo,e,r)})),t.rejection=wr||ii(t)?2:1,n.error))throw n.value}))},ii=function(t){return 1!==t.rejection&&!t.parent},ci=function(t){s(Mo,i,(function(){var n=t.facade;wr?Yo.emit("rejectionHandled",n):ri("rejectionhandled",n,t.value)}))},ai=function(t,n,e){return function(r){t(n,r,e)}},ui=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,ei(t,!0))},fi=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw qo("Promise can't be resolved itself");var r=ti(n);r?go((function(){var e={done:!1};try{s(r,n,ai(fi,e,t),ai(ui,e,t))}catch(n){ui(e,n,t)}})):(t.value=n,t.state=1,ei(t,!1))}catch(n){ui({done:!1},n,t)}}};if(Fo&&(Xo=(Vo=function(t){!function(t,n){if(M(n,t))return t;throw Or("Incorrect invocation")}(this,Xo),Q(t),s(Oo,this);var n=zo(this);try{t(ai(fi,n),ai(ui,n))}catch(t){ui(n,t)}}).prototype,(Oo=function(t){Ho(this,{type:Uo,done:!1,notified:!1,parent:!1,reactions:new ro,rejection:!1,state:0,value:void 0})}).prototype=an(Xo,"then",(function(t,n){var e=zo(this),r=Jo(Ar(this,Vo));return e.parent=!0,r.ok=!R(t)||t,r.fail=R(n)&&n,r.domain=wr?Yo.domain:void 0,0==e.state?e.reactions.add(r):go((function(){ni(r,e)})),r.promise})),jo=function(){var t=new Oo,n=zo(t);this.promise=t,this.resolve=ai(fi,n),this.reject=ai(ui,n)},Do.f=Jo=function(t){return t===Vo||undefined===t?new jo(t):Qo(t)},R(bo)&&Go!==Object.prototype)){Po=Go.then,Bo||an(Go,"then",(function(t,n){var e=this;return new Vo((function(t,n){s(Po,e,t,n)})).then(t,n)}),{unsafe:!0});try{delete Go.constructor}catch(t){}Qe&&Qe(Go,Xo)}kn({global:!0,constructor:!0,wrap:!0,forced:Fo},{Promise:Vo}),Xe(Vo,Uo,!1),Lo=D(Uo),a&&Lo&&!Lo[Sr]&&(Ao=Lo,Eo=Sr,(To={configurable:!0,get:function(){return this}}).get&&cn(To.get,Eo,{getter:!0}),To.set&&cn(To.set,Eo,{setter:!0}),Mt.f(Ao,Eo,To));var si=yt("iterator"),li=Array.prototype,pi=yt("iterator"),di=function(t){if(!E(t))return $(t,pi)||$(t,"@@iterator")||Ne[Jn(t)]},hi=TypeError,vi=function(t,n,e){var r,o;xt(t);try{if(!(r=$(t,"return"))){if("throw"===n)throw e;return e}r=s(r,t)}catch(t){o=!0,r=t}if("throw"===n)throw e;if(o)throw r;return xt(r),e},yi=TypeError,gi=function(t,n){this.stopped=t,this.result=n},mi=gi.prototype,bi=function(t,n,e){var r,o,i,c,a,u,f,l,p=e&&e.that,d=!(!e||!e.AS_ENTRIES),h=!(!e||!e.IS_RECORD),v=!(!e||!e.IS_ITERATOR),y=!(!e||!e.INTERRUPTED),g=Ir(n,p),m=function(t){return r&&vi(r,"normal",t),new gi(!0,t)},b=function(t){return d?(xt(t),y?g(t[0],t[1],m):g(t[0],t[1])):y?g(t,m):g(t)};if(h)r=t.iterator;else if(v)r=t;else{if(!(o=di(t)))throw yi(Y(t)+" is not iterable");if(void 0!==(l=o)&&(Ne.Array===l||li[si]===l)){for(i=0,c=vn(t);c>i;i++)if((a=b(t[i]))&&M(mi,a))return a;return new gi(!1)}r=function(t,n){var e=arguments.length<2?di(t):n;if(Q(e))return xt(s(e,t));throw hi(Y(t)+" is not iterable")}(t,o)}for(u=h?t.next:r.next;!(f=s(u,r)).done;){try{a=b(f.value)}catch(t){vi(r,"throw",t)}if("object"==typeof a&&a&&M(mi,a))return a}return new gi(!1)},wi=yt("iterator"),Si=!1;try{var Oi=0,ji={next:function(){return{done:!!Oi++}},return:function(){Si=!0}};ji[wi]=function(){return this},Array.from(ji,(function(){throw 2}))}catch(t){}var Pi=Ro.CONSTRUCTOR||!function(t,n){if(!n&&!Si)return!1;var e=!1;try{var r={};r[wi]=function(){return{next:function(){return{done:e=!0}}}},t(r)}catch(t){}return e}((function(t){bo.all(t).then(void 0,(function(){}))}));kn({target:"Promise",stat:!0,forced:Pi},{all:function(t){var n=this,e=Do.f(n),r=e.resolve,o=e.reject,i=mo((function(){var e=Q(n.resolve),i=[],c=0,a=1;bi(t,(function(t){var u=c++,f=!1;a++,s(e,n,t).then((function(t){f||(f=!0,i[u]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),e.promise}});var Ai=Ro.CONSTRUCTOR,Ei=bo&&bo.prototype;if(kn({target:"Promise",proto:!0,forced:Ai,real:!0},{catch:function(t){return this.then(void 0,t)}}),R(bo)){var Ti=D("Promise").prototype.catch;Ei.catch!==Ti&&an(Ei,"catch",Ti,{unsafe:!0})}kn({target:"Promise",stat:!0,forced:Pi},{race:function(t){var n=this,e=Do.f(n),r=e.reject,o=mo((function(){var o=Q(n.resolve);bi(t,(function(t){s(o,n,t).then(e.resolve,r)}))}));return o.error&&r(o.value),e.promise}}),kn({target:"Promise",stat:!0,forced:Ro.CONSTRUCTOR},{reject:function(t){var n=Do.f(this);return s(n.reject,void 0,t),n.promise}});var Li=Ro.CONSTRUCTOR;D("Promise"),kn({target:"Promise",stat:!0,forced:Li},{resolve:function(t){return function(t,n){if(xt(t),k(n)&&n.constructor===t)return n;var e=Do.f(t);return(0,e.resolve)(n),e.promise}(this,t)}});var _i=String,xi=function(t){if("Symbol"===Jn(t))throw TypeError("Cannot convert a Symbol value to a string");return _i(t)},Ci=b("".charAt),Ii=b("".charCodeAt),Ri=b("".slice),Ni=function(t){return function(n,e){var r,o,i=xi(L(n)),c=ln(e),a=i.length;return c<0||c>=a?t?"":void 0:(r=Ii(i,c))<55296||r>56319||c+1===a||(o=Ii(i,c+1))<56320||o>57343?t?Ci(i,c):r:t?Ri(i,c,c+2):o-56320+(r-55296<<10)+65536}},ki={codeAt:Ni(!1),charAt:Ni(!0)}.charAt,Di="String Iterator",Mi=on.set,Ui=on.getterFor(Di);ar(String,"String",(function(t){Mi(this,{type:Di,string:xi(t),index:0})}),(function(){var t,n=Ui(this),e=n.string,r=n.index;return r>=e.length?ur(void 0,!0):(t=ki(e,r),n.index+=t.length,ur(t,!1))}));var Fi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wi=jt("span").classList,Bi=Wi&&Wi.constructor&&Wi.constructor.prototype,zi=Bi===Object.prototype?void 0:Bi,Hi=yt("iterator"),Gi=yt("toStringTag"),Vi=dr.values,Xi=function(t,n){if(t){if(t[Hi]!==Vi)try{Ut(t,Hi,Vi)}catch(n){t[Hi]=Vi}if(t[Gi]||Ut(t,Gi,n),Fi[n])for(var e in dr)if(t[e]!==dr[e])try{Ut(t,e,dr[e])}catch(n){t[e]=dr[e]}}};for(var qi in Fi)Xi(i[qi]&&i[qi].prototype,qi);Xi(zi,"DOMTokenList");var Ki={launchContainerQuery:"",jqSelector:"",launchInBrowserClassName:"",genTagPrefixStr:"",launchShowWeixinToBrowserImgUrl:"",launchShowWeixinToBrowserClassName:"",launchBtnClassName:"",schemeUrl:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",isConClosed:!0,isWxDebug:!1,canLaunchApp:function(){return!1},canOpenAppFromWeixin:function(){return!0}};module.exports=function(t){void 0===t&&(t=Ki);var n=Object.assign(Ki,t),e=n.launchContainerQuery,r=n.jqSelector,o=n.launchInBrowserClassName,i=n.genTagPrefixStr,c=n.launchShowWeixinToBrowserImgUrl,a=n.launchShowWeixinToBrowserClassName,u=n.launchBtnClassName,f=n.schemeUrl,s=n.wexinServiceAccountAppId,l=n.openPlatformMobileAppId,p=n.isConClosed,d=n.isWxDebug,h=n.canLaunchApp,v=n.canOpenAppFromWeixin,y=window.mazey,g=window.sha1,m=window.wx,b=window.$,w=y.genCustomConsole("LaunchCon:",{isClosed:p});function S(t,n,c){void 0===t&&(t=""),void 0===n&&(n=""),void 0===c&&(c=!1),w.log("renderWXOpenLaunchApp");var a=function(){b(r).click()},s=function(){0===b(".".concat(o)).length&&b("body").append("<div id=".concat(o,"' class='").concat(o,"'>")+"<button style='position: fixed;bottom: 0;left: 0;opacity: 0;width: 100%;height: 50px;height: 1.44rem;z-index: 9993;border: none;box-sizing: border-box;'>LaunchApp</button></div>");var t=document.getElementById("".concat(o));t&&t.addEventListener("click",(function(){O(),a()}))};return c?(s(),"success:launch_in_browser"):Promise.all([Promise.resolve(window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET),Promise.resolve(g)]).then((function(r){w.log("allRes",r);var o=r[0],c=r[1],l=y.generateRndNum(7),p=o,h=(new Date).getTime(),v=c("jsapi_ticket="+p+"&noncestr="+l+"&timestamp="+h+"&url="+location.href);return m.config({debug:d,appId:t,timestamp:h,nonceStr:l,signature:v,jsApiList:["showOptionMenu"],openTagList:["wx-open-launch-app"]}),m.ready((function(){var t=b(e);w.log("containers",e,t,t.length),t.length>0&&t.each((function(t,e){var r="mazey-launch-app-tag-".concat(t);0===b(".".concat(r," wx-open-launch-app")).length&&(b(e).addClass(r),w.log("success:",r),function(t){var e=i,r=e+t,o="<style>.".concat(u," {")+"opacity: 0;width: 375px;height: 60px;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;}</style>"+'<button class="'.concat(u,'">')+"Unknown New App</button>",c="<wx-open-launch-app id='"+r+"' appid='"+n+"' extinfo='".concat(f)+"' style='z-index: 99; position: absolute; width: 100%; height: 100%; opacity: 1; background: transparent; overflow: hidden; left: 0;'><script type='text/wxtag-template'>"+o+"<\/script></wx-open-launch-app>";b("."+t+":eq(0)").append(c);var l=document.getElementById(r);l&&(l.addEventListener("ready",(function(){})),l.addEventListener("launch",(function(){})),l.addEventListener("error",(function(n){w.error("fail:",n.detail),b("[id^='"+e+"']").hide(),s(),b("."+t+":eq(0)").click(),O()})),l.addEventListener("click",(function(t){a()})))}(r))}))})),m.error((function(t){w.error("fail",t)})),"success:launch_app"})).catch((function(t){w.error("fail:launch_app",t)}))}function O(){y.addStyle("\n        .mazey-launch-app-mask {\n          position: fixed;\n          top: 0; right: 0; bottom: 0; left: 0;\n          background-color: rgba(0, 0, 0, .5);\n          text-align: right;\n          font-size: 0;\n          white-space: nowrap;\n          overflow: auto;\n          z-index: 999;\n        }\n        .mazey-launch-app-img {\n          display: inline-block;\n          vertical-align: middle;\n          text-align: left;\n          font-size: 14px;\n          white-space: normal;\n          width: 50vw;\n          margin: 0.5rem 0.5rem 0 0;\n        }\n        .mazey-launch-app-img:after {\n          content: '';\n          display: inline-block;\n          height: 100%;\n          vertical-align: middle;\n        }\n      ",{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){b(".mazey-launch-app-mask").hide()}),0===b(".mazey-launch-app-mask").length?b("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'>"+"<img\n            class='mazey-launch-app-img ".concat(a,"'\n            src='").concat(c,"'\n            alt='Launch App'\n          />")+"</div>"):b(".mazey-launch-app-mask").show()}w.log("Launch APP"),window.LAUNCH_APP_UPDATE=function(t){w.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&h(t)&&(v()&&(w.log("renderWeixinLaunchTemplate"),S(s,l,!1)),window.LAUNCH_APP_LOAD=!0)},window.LAUNCH_APP_BEFORE_DESTROY=function t(){w.log("appBeforeDestroy",t),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null},window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=O};
