/*!
 * mazey-wechat-launch-app v2.3.3-mini.0 https://www.npmjs.com/package/mazey-wechat-launch-app
 * (c) 2018-2025 Cheng
 * Released under the MIT License.
 */
"use strict";var t=require("mazey"),e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,o,i=function(t){return t&&t.Math==Math&&t},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},u=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f=!c((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),s=Function.prototype.call,l=f?s.bind(s):function(){return s.apply(s,arguments)},p={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h=d&&!p.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:p,v={f:h},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g=Function.prototype,m=g.call,b=f&&g.bind.bind(m,m),w=f?b:function(t){return function(){return m.apply(t,arguments)}},S=w({}.toString),A=w("".slice),O=function(t){return A(S(t),8,-1)},E=Object,P=w("".split),T=c((function(){return!E("z").propertyIsEnumerable(0)}))?function(t){return"String"==O(t)?P(t,""):E(t)}:E,_=function(t){return null==t},L=TypeError,j=function(t){if(_(t))throw L("Can't call method on "+t);return t},x=function(t){return T(j(t))},C="object"==typeof document&&document.all,I={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},k=I.all,R=I.IS_HTMLDDA?function(t){return"function"==typeof t||t===k}:function(t){return"function"==typeof t},N=I.all,M=I.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:R(t)||t===N}:function(t){return"object"==typeof t?null!==t:R(t)},U=function(t,e){return arguments.length<2?(n=a[t],R(n)?n:void 0):a[t]&&a[t][e];var n},D=w({}.isPrototypeOf),H="undefined"!=typeof navigator&&String(navigator.userAgent)||"",B=a.process,W=a.Deno,F=B&&B.versions||W&&W.version,z=F&&F.v8;z&&(o=(r=z.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&H&&(!(r=H.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=H.match(/Chrome\/(\d+)/))&&(o=+r[1]);var G=o,q=!!Object.getOwnPropertySymbols&&!c((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&G&&G<41})),V=q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=Object,J=V?function(t){return"symbol"==typeof t}:function(t){var e=U("Symbol");return R(e)&&D(e.prototype,X(t))},Y=String,K=function(t){try{return Y(t)}catch(t){return"Object"}},Q=TypeError,$=function(t){if(R(t))return t;throw Q(K(t)+" is not a function")},Z=function(t,e){var n=t[e];return _(n)?void 0:$(n)},tt=TypeError,et=Object.defineProperty,nt=function(t,e){try{et(a,t,{value:e,configurable:!0,writable:!0})}catch(n){a[t]=e}return e},rt="__core-js_shared__",ot=a[rt]||nt(rt,{}),it=n((function(t){(t.exports=function(t,e){return ot[t]||(ot[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),at=Object,ct=function(t){return at(j(t))},ut=w({}.hasOwnProperty),ft=Object.hasOwn||function(t,e){return ut(ct(t),e)},st=0,lt=Math.random(),pt=w(1..toString),dt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+pt(++st+lt,36)},ht=a.Symbol,vt=it("wks"),yt=V?ht.for||ht:ht&&ht.withoutSetter||dt,gt=function(t){return ft(vt,t)||(vt[t]=q&&ft(ht,t)?ht[t]:yt("Symbol."+t)),vt[t]},mt=TypeError,bt=gt("toPrimitive"),wt=function(t,e){if(!M(t)||J(t))return t;var n,r=Z(t,bt);if(r){if(void 0===e&&(e="default"),n=l(r,t,e),!M(n)||J(n))return n;throw mt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&R(n=t.toString)&&!M(r=l(n,t)))return r;if(R(n=t.valueOf)&&!M(r=l(n,t)))return r;if("string"!==e&&R(n=t.toString)&&!M(r=l(n,t)))return r;throw tt("Can't convert object to primitive value")}(t,e)},St=function(t){var e=wt(t,"string");return J(e)?e:e+""},At=a.document,Ot=M(At)&&M(At.createElement),Et=function(t){return Ot?At.createElement(t):{}},Pt=!u&&!c((function(){return 7!=Object.defineProperty(Et("div"),"a",{get:function(){return 7}}).a})),Tt=Object.getOwnPropertyDescriptor,_t={f:u?Tt:function(t,e){if(t=x(t),e=St(e),Pt)try{return Tt(t,e)}catch(t){}if(ft(t,e))return y(!l(v.f,t,e),t[e])}},Lt=u&&c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),jt=String,xt=TypeError,Ct=function(t){if(M(t))return t;throw xt(jt(t)+" is not an object")},It=TypeError,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,Nt="enumerable",Mt="configurable",Ut="writable",Dt={f:u?Lt?function(t,e,n){if(Ct(t),e=St(e),Ct(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ut in n&&!n[Ut]){var r=Rt(t,e);r&&r[Ut]&&(t[e]=n.value,n={configurable:Mt in n?n[Mt]:r[Mt],enumerable:Nt in n?n[Nt]:r[Nt],writable:!1})}return kt(t,e,n)}:kt:function(t,e,n){if(Ct(t),e=St(e),Ct(n),Pt)try{return kt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw It("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ht=u?function(t,e,n){return Dt.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},Bt=Function.prototype,Wt=u&&Object.getOwnPropertyDescriptor,Ft=ft(Bt,"name"),zt={EXISTS:Ft,PROPER:Ft&&"something"===function(){}.name,CONFIGURABLE:Ft&&(!u||u&&Wt(Bt,"name").configurable)},Gt=w(Function.toString);R(ot.inspectSource)||(ot.inspectSource=function(t){return Gt(t)});var qt,Vt,Xt,Jt=ot.inspectSource,Yt=a.WeakMap,Kt=R(Yt)&&/native code/.test(String(Yt)),Qt=it("keys"),$t=function(t){return Qt[t]||(Qt[t]=dt(t))},Zt={},te="Object already initialized",ee=a.TypeError,ne=a.WeakMap;if(Kt||ot.state){var re=ot.state||(ot.state=new ne);re.get=re.get,re.has=re.has,re.set=re.set,qt=function(t,e){if(re.has(t))throw ee(te);return e.facade=t,re.set(t,e),e},Vt=function(t){return re.get(t)||{}},Xt=function(t){return re.has(t)}}else{var oe=$t("state");Zt[oe]=!0,qt=function(t,e){if(ft(t,oe))throw ee(te);return e.facade=t,Ht(t,oe,e),e},Vt=function(t){return ft(t,oe)?t[oe]:{}},Xt=function(t){return ft(t,oe)}}var ie={set:qt,get:Vt,has:Xt,enforce:function(t){return Xt(t)?Vt(t):qt(t,{})},getterFor:function(t){return function(e){var n;if(!M(e)||(n=Vt(e)).type!==t)throw ee("Incompatible receiver, "+t+" required");return n}}},ae=n((function(t){var e=zt.CONFIGURABLE,n=ie.enforce,r=ie.get,o=String,i=Object.defineProperty,a=w("".slice),f=w("".replace),s=w([].join),l=u&&!c((function(){return 8!==i((function(){}),"length",{value:8}).length})),p=String(String).split("String"),d=t.exports=function(t,r,c){"Symbol("===a(o(r),0,7)&&(r="["+f(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),c&&c.getter&&(r="get "+r),c&&c.setter&&(r="set "+r),(!ft(t,"name")||e&&t.name!==r)&&(u?i(t,"name",{value:r,configurable:!0}):t.name=r),l&&c&&ft(c,"arity")&&t.length!==c.arity&&i(t,"length",{value:c.arity});try{c&&ft(c,"constructor")&&c.constructor?u&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var d=n(t);return ft(d,"source")||(d.source=s(p,"string"==typeof r?r:"")),t};Function.prototype.toString=d((function(){return R(this)&&r(this).source||Jt(this)}),"toString")})),ce=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(R(n)&&ae(n,i,r),r.global)o?t[e]=n:nt(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:Dt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},ue=Math.ceil,fe=Math.floor,se=Math.trunc||function(t){var e=+t;return(e>0?fe:ue)(e)},le=function(t){var e=+t;return e!=e||0===e?0:se(e)},pe=Math.max,de=Math.min,he=Math.min,ve=function(t){return(e=t.length)>0?he(le(e),9007199254740991):0;var e},ye=function(t){return function(e,n,r){var o,i=x(e),a=ve(i),c=function(t,e){var n=le(t);return n<0?pe(n+e,0):de(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},ge={includes:ye(!0),indexOf:ye(!1)}.indexOf,me=w([].push),be=function(t,e){var n,r=x(t),o=0,i=[];for(n in r)!ft(Zt,n)&&ft(r,n)&&me(i,n);for(;e.length>o;)ft(r,n=e[o++])&&(~ge(i,n)||me(i,n));return i},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Se=we.concat("length","prototype"),Ae={f:Object.getOwnPropertyNames||function(t){return be(t,Se)}},Oe={f:Object.getOwnPropertySymbols},Ee=w([].concat),Pe=U("Reflect","ownKeys")||function(t){var e=Ae.f(Ct(t)),n=Oe.f;return n?Ee(e,n(t)):e},Te=function(t,e,n){for(var r=Pe(e),o=Dt.f,i=_t.f,a=0;a<r.length;a++){var c=r[a];ft(t,c)||n&&ft(n,c)||o(t,c,i(e,c))}},_e=/#|\.prototype\./,Le=function(t,e){var n=xe[je(t)];return n==Ie||n!=Ce&&(R(e)?c(e):!!e)},je=Le.normalize=function(t){return String(t).replace(_e,".").toLowerCase()},xe=Le.data={},Ce=Le.NATIVE="N",Ie=Le.POLYFILL="P",ke=Le,Re=_t.f,Ne=function(t,e){var n,r,o,i,c,u=t.target,f=t.global,s=t.stat;if(n=f?a:s?a[u]||nt(u,{}):(a[u]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(c=Re(n,r))&&c.value:n[r],!ke(f?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Te(i,o)}(t.sham||o&&o.sham)&&Ht(i,"sham",!0),ce(n,r,i,t)}},Me=Object.keys||function(t){return be(t,we)},Ue=Object.assign,De=Object.defineProperty,He=w([].concat),Be=!Ue||c((function(){if(u&&1!==Ue({b:1},Ue(De({},"a",{enumerable:!0,get:function(){De(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ue({},t)[n]||Me(Ue({},e)).join("")!=r}))?function(t,e){for(var n=ct(t),r=arguments.length,o=1,i=Oe.f,a=v.f;r>o;)for(var c,f=T(arguments[o++]),s=i?He(Me(f),i(f)):Me(f),p=s.length,d=0;p>d;)c=s[d++],u&&!l(a,f,c)||(n[c]=f[c]);return n}:Ue;Ne({target:"Object",stat:!0,arity:2,forced:Object.assign!==Be},{assign:Be});var We=Array.isArray||function(t){return"Array"==O(t)},Fe=TypeError,ze=function(t){if(t>9007199254740991)throw Fe("Maximum allowed index exceeded");return t},Ge=function(t,e,n){var r=St(e);r in t?Dt.f(t,r,y(0,n)):t[r]=n},qe={};qe[gt("toStringTag")]="z";var Ve="[object z]"===String(qe),Xe=gt("toStringTag"),Je=Object,Ye="Arguments"==O(function(){return arguments}()),Ke=Ve?O:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Je(t),Xe))?n:Ye?O(e):"Object"==(r=O(e))&&R(e.callee)?"Arguments":r},Qe=function(){},$e=[],Ze=U("Reflect","construct"),tn=/^\s*(?:class|function)\b/,en=w(tn.exec),nn=!tn.exec(Qe),rn=function(t){if(!R(t))return!1;try{return Ze(Qe,$e,t),!0}catch(t){return!1}},on=function(t){if(!R(t))return!1;switch(Ke(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return nn||!!en(tn,Jt(t))}catch(t){return!0}};on.sham=!0;var an,cn=!Ze||c((function(){var t;return rn(rn.call)||!rn(Object)||!rn((function(){t=!0}))||t}))?on:rn,un=gt("species"),fn=Array,sn=function(t,e){return new(function(t){var e;return We(t)&&(e=t.constructor,(cn(e)&&(e===fn||We(e.prototype))||M(e)&&null===(e=e[un]))&&(e=void 0)),void 0===e?fn:e}(t))(0===e?0:e)},ln=gt("species"),pn=gt("isConcatSpreadable"),dn=G>=51||!c((function(){var t=[];return t[pn]=!1,t.concat()[0]!==t})),hn=function(t){if(!M(t))return!1;var e=t[pn];return void 0!==e?!!e:We(t)},vn=!(dn&&(an="concat",G>=51||!c((function(){var t=[];return(t.constructor={})[ln]=function(){return{foo:1}},1!==t[an](Boolean).foo}))));Ne({target:"Array",proto:!0,arity:1,forced:vn},{concat:function(t){var e,n,r,o,i,a=ct(this),c=sn(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(hn(i=-1===e?a:arguments[e]))for(o=ve(i),ze(u+o),n=0;n<o;n++,u++)n in i&&Ge(c,u,i[n]);else ze(u+1),Ge(c,u++,i);return c.length=u,c}});var yn,gn=u&&!Lt?Object.defineProperties:function(t,e){Ct(t);for(var n,r=x(e),o=Me(e),i=o.length,a=0;i>a;)Dt.f(t,n=o[a++],r[n]);return t},mn={f:gn},bn=U("document","documentElement"),wn="prototype",Sn="script",An=$t("IE_PROTO"),On=function(){},En=function(t){return"<"+Sn+">"+t+"</"+Sn+">"},Pn=function(t){t.write(En("")),t.close();var e=t.parentWindow.Object;return t=null,e},Tn=function(){try{yn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Tn="undefined"!=typeof document?document.domain&&yn?Pn(yn):(e=Et("iframe"),n="java"+Sn+":",e.style.display="none",bn.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(En("document.F=Object")),t.close(),t.F):Pn(yn);for(var r=we.length;r--;)delete Tn[wn][we[r]];return Tn()};Zt[An]=!0;var _n=Object.create||function(t,e){var n;return null!==t?(On[wn]=Ct(t),n=new On,On[wn]=null,n[An]=t):n=Tn(),void 0===e?n:mn.f(n,e)},Ln=Dt.f,jn=gt("unscopables"),xn=Array.prototype;null==xn[jn]&&Ln(xn,jn,{configurable:!0,value:_n(null)});var Cn,In,kn,Rn=function(t){xn[jn][t]=!0},Nn={},Mn=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Un=$t("IE_PROTO"),Dn=Object,Hn=Dn.prototype,Bn=Mn?Dn.getPrototypeOf:function(t){var e=ct(t);if(ft(e,Un))return e[Un];var n=e.constructor;return R(n)&&e instanceof n?n.prototype:e instanceof Dn?Hn:null},Wn=gt("iterator"),Fn=!1;[].keys&&("next"in(kn=[].keys())?(In=Bn(Bn(kn)))!==Object.prototype&&(Cn=In):Fn=!0);var zn=!M(Cn)||c((function(){var t={};return Cn[Wn].call(t)!==t}));zn&&(Cn={}),R(Cn[Wn])||ce(Cn,Wn,(function(){return this}));var Gn={IteratorPrototype:Cn,BUGGY_SAFARI_ITERATORS:Fn},qn=Dt.f,Vn=gt("toStringTag"),Xn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!ft(t,Vn)&&qn(t,Vn,{configurable:!0,value:e})},Jn=Gn.IteratorPrototype,Yn=function(){return this},Kn=String,Qn=TypeError,$n=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=function(t,e,n){try{return w($(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Ct(n),function(t){if("object"==typeof t||R(t))return t;throw Qn("Can't set "+Kn(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),Zn=zt.PROPER,tr=zt.CONFIGURABLE,er=Gn.IteratorPrototype,nr=Gn.BUGGY_SAFARI_ITERATORS,rr=gt("iterator"),or="keys",ir="values",ar="entries",cr=function(){return this},ur=function(t,e,n,r,o,i,a){!function(t,e,n,r){var o=e+" Iterator";t.prototype=_n(Jn,{next:y(+!r,n)}),Xn(t,o,!1),Nn[o]=Yn}(n,e,r);var c,u,f,s=function(t){if(t===o&&g)return g;if(!nr&&t in h)return h[t];switch(t){case or:case ir:case ar:return function(){return new n(this,t)}}return function(){return new n(this)}},p=e+" Iterator",d=!1,h=t.prototype,v=h[rr]||h["@@iterator"]||o&&h[o],g=!nr&&v||s(o),m="Array"==e&&h.entries||v;if(m&&(c=Bn(m.call(new t)))!==Object.prototype&&c.next&&(Bn(c)!==er&&($n?$n(c,er):R(c[rr])||ce(c,rr,cr)),Xn(c,p,!0)),Zn&&o==ir&&v&&v.name!==ir&&(tr?Ht(h,"name",ir):(d=!0,g=function(){return l(v,this)})),o)if(u={values:s(ir),keys:i?g:s(or),entries:s(ar)},a)for(f in u)(nr||d||!(f in h))&&ce(h,f,u[f]);else Ne({target:e,proto:!0,forced:nr||d},u);return h[rr]!==g&&ce(h,rr,g,{name:o}),Nn[e]=g,u},fr=function(t,e){return{value:t,done:e}},sr=Dt.f,lr="Array Iterator",pr=ie.set,dr=ie.getterFor(lr),hr=ur(Array,"Array",(function(t,e){pr(this,{type:lr,target:x(t),index:0,kind:e})}),(function(){var t=dr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,fr(void 0,!0)):fr("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),vr=Nn.Arguments=Nn.Array;if(Rn("keys"),Rn("values"),Rn("entries"),u&&"values"!==vr.name)try{sr(vr,"name",{value:"values"})}catch(t){}var yr=Ve?{}.toString:function(){return"[object "+Ke(this)+"]"};Ve||ce(Object.prototype,"toString",yr,{unsafe:!0});var gr,mr,br,wr,Sr="undefined"!=typeof process&&"process"==O(process),Ar=gt("species"),Or=TypeError,Er=TypeError,Pr=gt("species"),Tr=function(t,e){var n,r=Ct(t).constructor;return void 0===r||_(n=Ct(r)[Pr])?e:function(t){if(cn(t))return t;throw Er(K(t)+" is not a constructor")}(n)},_r=Function.prototype,Lr=_r.apply,jr=_r.call,xr="object"==typeof Reflect&&Reflect.apply||(f?jr.bind(Lr):function(){return jr.apply(Lr,arguments)}),Cr=function(t){if("Function"===O(t))return w(t)},Ir=Cr(Cr.bind),kr=function(t,e){return $(t),void 0===e?t:f?Ir(t,e):function(){return t.apply(e,arguments)}},Rr=w([].slice),Nr=TypeError,Mr=/(?:ipad|iphone|ipod).*applewebkit/i.test(H),Ur=a.setImmediate,Dr=a.clearImmediate,Hr=a.process,Br=a.Dispatch,Wr=a.Function,Fr=a.MessageChannel,zr=a.String,Gr=0,qr={},Vr="onreadystatechange";c((function(){gr=a.location}));var Xr=function(t){if(ft(qr,t)){var e=qr[t];delete qr[t],e()}},Jr=function(t){return function(){Xr(t)}},Yr=function(t){Xr(t.data)},Kr=function(t){a.postMessage(zr(t),gr.protocol+"//"+gr.host)};Ur&&Dr||(Ur=function(t){!function(t,e){if(t<e)throw Nr("Not enough arguments")}(arguments.length,1);var e=R(t)?t:Wr(t),n=Rr(arguments,1);return qr[++Gr]=function(){xr(e,void 0,n)},mr(Gr),Gr},Dr=function(t){delete qr[t]},Sr?mr=function(t){Hr.nextTick(Jr(t))}:Br&&Br.now?mr=function(t){Br.now(Jr(t))}:Fr&&!Mr?(wr=(br=new Fr).port2,br.port1.onmessage=Yr,mr=kr(wr.postMessage,wr)):a.addEventListener&&R(a.postMessage)&&!a.importScripts&&gr&&"file:"!==gr.protocol&&!c(Kr)?(mr=Kr,a.addEventListener("message",Yr,!1)):mr=Vr in Et("script")?function(t){bn.appendChild(Et("script"))[Vr]=function(){bn.removeChild(this),Xr(t)}}:function(t){setTimeout(Jr(t),0)});var Qr={set:Ur,clear:Dr},$r=function(){this.head=null,this.tail=null};$r.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Zr,to,eo,no,ro,oo=$r,io=/ipad|iphone|ipod/i.test(H)&&"undefined"!=typeof Pebble,ao=/web0s(?!.*chrome)/i.test(H),co=_t.f,uo=Qr.set,fo=a.MutationObserver||a.WebKitMutationObserver,so=a.document,lo=a.process,po=a.Promise,ho=co(a,"queueMicrotask"),vo=ho&&ho.value;if(!vo){var yo=new oo,go=function(){var t,e;for(Sr&&(t=lo.domain)&&t.exit();e=yo.get();)try{e()}catch(t){throw yo.head&&Zr(),t}t&&t.enter()};Mr||Sr||ao||!fo||!so?!io&&po&&po.resolve?((no=po.resolve(void 0)).constructor=po,ro=kr(no.then,no),Zr=function(){ro(go)}):Sr?Zr=function(){lo.nextTick(go)}:(uo=kr(uo,a),Zr=function(){uo(go)}):(to=!0,eo=so.createTextNode(""),new fo(go).observe(eo,{characterData:!0}),Zr=function(){eo.data=to=!to}),vo=function(t){yo.head||Zr(),yo.add(t)}}var mo=vo,bo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},wo=a.Promise,So="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ao=!So&&!Sr&&"object"==typeof window&&"object"==typeof document;wo&&wo.prototype;var Oo,Eo,Po,To,_o,Lo,jo,xo=gt("species"),Co=!1,Io=R(a.PromiseRejectionEvent),ko=ke("Promise",(function(){var t=Jt(wo),e=t!==String(wo);if(!e&&66===G)return!0;if(!G||G<51||!/native code/.test(t)){var n=new wo((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[xo]=r,!(Co=n.then((function(){}))instanceof r))return!0}return!e&&(Ao||So)&&!Io})),Ro={CONSTRUCTOR:ko,REJECTION_EVENT:Io,SUBCLASSING:Co},No=TypeError,Mo=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw No("Bad Promise constructor");e=t,n=r})),this.resolve=$(e),this.reject=$(n)},Uo={f:function(t){return new Mo(t)}},Do=Qr.set,Ho="Promise",Bo=Ro.CONSTRUCTOR,Wo=Ro.REJECTION_EVENT,Fo=Ro.SUBCLASSING,zo=ie.getterFor(Ho),Go=ie.set,qo=wo&&wo.prototype,Vo=wo,Xo=qo,Jo=a.TypeError,Yo=a.document,Ko=a.process,Qo=Uo.f,$o=Qo,Zo=!!(Yo&&Yo.createEvent&&a.dispatchEvent),ti="unhandledrejection",ei=function(t){var e;return!(!M(t)||!R(e=t.then))&&e},ni=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,s=t.domain;try{c?(a||(2===e.rejection&&ci(e),e.rejection=1),!0===c?n=i:(s&&s.enter(),n=c(i),s&&(s.exit(),o=!0)),n===t.promise?f(Jo("Promise-chain cycle")):(r=ei(n))?l(r,n,u,f):u(n)):f(i)}catch(t){s&&!o&&s.exit(),f(t)}},ri=function(t,e){t.notified||(t.notified=!0,mo((function(){for(var n,r=t.reactions;n=r.get();)ni(n,t);t.notified=!1,e&&!t.rejection&&ii(t)})))},oi=function(t,e,n){var r,o;Zo?((r=Yo.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),a.dispatchEvent(r)):r={promise:e,reason:n},!Wo&&(o=a["on"+t])?o(r):t===ti&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},ii=function(t){l(Do,a,(function(){var e,n=t.facade,r=t.value;if(ai(t)&&(e=bo((function(){Sr?Ko.emit("unhandledRejection",r,n):oi(ti,n,r)})),t.rejection=Sr||ai(t)?2:1,e.error))throw e.value}))},ai=function(t){return 1!==t.rejection&&!t.parent},ci=function(t){l(Do,a,(function(){var e=t.facade;Sr?Ko.emit("rejectionHandled",e):oi("rejectionhandled",e,t.value)}))},ui=function(t,e,n){return function(r){t(e,r,n)}},fi=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ri(t,!0))},si=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Jo("Promise can't be resolved itself");var r=ei(e);r?mo((function(){var n={done:!1};try{l(r,e,ui(si,n,t),ui(fi,n,t))}catch(e){fi(n,e,t)}})):(t.value=e,t.state=1,ri(t,!1))}catch(e){fi({done:!1},e,t)}}};if(Bo&&(Xo=(Vo=function(t){!function(t,e){if(D(e,t))return t;throw Or("Incorrect invocation")}(this,Xo),$(t),l(Oo,this);var e=zo(this);try{t(ui(si,e),ui(fi,e))}catch(t){fi(e,t)}}).prototype,(Oo=function(t){Go(this,{type:Ho,done:!1,notified:!1,parent:!1,reactions:new oo,rejection:!1,state:0,value:void 0})}).prototype=ce(Xo,"then",(function(t,e){var n=zo(this),r=Qo(Tr(this,Vo));return n.parent=!0,r.ok=!R(t)||t,r.fail=R(e)&&e,r.domain=Sr?Ko.domain:void 0,0==n.state?n.reactions.add(r):mo((function(){ni(r,n)})),r.promise})),Eo=function(){var t=new Oo,e=zo(t);this.promise=t,this.resolve=ui(si,e),this.reject=ui(fi,e)},Uo.f=Qo=function(t){return t===Vo||undefined===t?new Eo(t):$o(t)},R(wo)&&qo!==Object.prototype)){Po=qo.then,Fo||ce(qo,"then",(function(t,e){var n=this;return new Vo((function(t,e){l(Po,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete qo.constructor}catch(t){}$n&&$n(qo,Xo)}Ne({global:!0,constructor:!0,wrap:!0,forced:Bo},{Promise:Vo}),Xn(Vo,Ho,!1),jo=U(Ho),u&&jo&&!jo[Ar]&&(To=jo,_o=Ar,(Lo={configurable:!0,get:function(){return this}}).get&&ae(Lo.get,_o,{getter:!0}),Lo.set&&ae(Lo.set,_o,{setter:!0}),Dt.f(To,_o,Lo));var li=gt("iterator"),pi=Array.prototype,di=gt("iterator"),hi=function(t){if(!_(t))return Z(t,di)||Z(t,"@@iterator")||Nn[Ke(t)]},vi=TypeError,yi=function(t,e,n){var r,o;Ct(t);try{if(!(r=Z(t,"return"))){if("throw"===e)throw n;return n}r=l(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Ct(r),n},gi=TypeError,mi=function(t,e){this.stopped=t,this.result=e},bi=mi.prototype,wi=function(t,e,n){var r,o,i,a,c,u,f,s,p=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),v=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=kr(e,p),m=function(t){return r&&yi(r,"normal",t),new mi(!0,t)},b=function(t){return d?(Ct(t),y?g(t[0],t[1],m):g(t[0],t[1])):y?g(t,m):g(t)};if(h)r=t.iterator;else if(v)r=t;else{if(!(o=hi(t)))throw gi(K(t)+" is not iterable");if(void 0!==(s=o)&&(Nn.Array===s||pi[li]===s)){for(i=0,a=ve(t);a>i;i++)if((c=b(t[i]))&&D(bi,c))return c;return new mi(!1)}r=function(t,e){var n=arguments.length<2?hi(t):e;if($(n))return Ct(l(n,t));throw vi(K(t)+" is not iterable")}(t,o)}for(u=h?t.next:r.next;!(f=l(u,r)).done;){try{c=b(f.value)}catch(t){yi(r,"throw",t)}if("object"==typeof c&&c&&D(bi,c))return c}return new mi(!1)},Si=gt("iterator"),Ai=!1;try{var Oi=0,Ei={next:function(){return{done:!!Oi++}},return:function(){Ai=!0}};Ei[Si]=function(){return this},Array.from(Ei,(function(){throw 2}))}catch(t){}var Pi=Ro.CONSTRUCTOR||!function(t,e){if(!e&&!Ai)return!1;var n=!1;try{var r={};r[Si]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){wo.all(t).then(void 0,(function(){}))}));Ne({target:"Promise",stat:!0,forced:Pi},{all:function(t){var e=this,n=Uo.f(e),r=n.resolve,o=n.reject,i=bo((function(){var n=$(e.resolve),i=[],a=0,c=1;wi(t,(function(t){var u=a++,f=!1;c++,l(n,e,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var Ti=Ro.CONSTRUCTOR,_i=wo&&wo.prototype;if(Ne({target:"Promise",proto:!0,forced:Ti,real:!0},{catch:function(t){return this.then(void 0,t)}}),R(wo)){var Li=U("Promise").prototype.catch;_i.catch!==Li&&ce(_i,"catch",Li,{unsafe:!0})}Ne({target:"Promise",stat:!0,forced:Pi},{race:function(t){var e=this,n=Uo.f(e),r=n.reject,o=bo((function(){var o=$(e.resolve);wi(t,(function(t){l(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Ne({target:"Promise",stat:!0,forced:Ro.CONSTRUCTOR},{reject:function(t){var e=Uo.f(this);return l(e.reject,void 0,t),e.promise}});var ji=Ro.CONSTRUCTOR;U("Promise"),Ne({target:"Promise",stat:!0,forced:ji},{resolve:function(t){return function(t,e){if(Ct(t),M(e)&&e.constructor===t)return e;var n=Uo.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var xi=String,Ci=function(t){if("Symbol"===Ke(t))throw TypeError("Cannot convert a Symbol value to a string");return xi(t)},Ii=w("".charAt),ki=w("".charCodeAt),Ri=w("".slice),Ni=function(t){return function(e,n){var r,o,i=Ci(j(e)),a=le(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=ki(i,a))<55296||r>56319||a+1===c||(o=ki(i,a+1))<56320||o>57343?t?Ii(i,a):r:t?Ri(i,a,a+2):o-56320+(r-55296<<10)+65536}},Mi={codeAt:Ni(!1),charAt:Ni(!0)}.charAt,Ui="String Iterator",Di=ie.set,Hi=ie.getterFor(Ui);ur(String,"String",(function(t){Di(this,{type:Ui,string:Ci(t),index:0})}),(function(){var t,e=Hi(this),n=e.string,r=e.index;return r>=n.length?fr(void 0,!0):(t=Mi(n,r),e.index+=t.length,fr(t,!1))}));var Bi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wi=Et("span").classList,Fi=Wi&&Wi.constructor&&Wi.constructor.prototype,zi=Fi===Object.prototype?void 0:Fi,Gi=gt("iterator"),qi=gt("toStringTag"),Vi=hr.values,Xi=function(t,e){if(t){if(t[Gi]!==Vi)try{Ht(t,Gi,Vi)}catch(e){t[Gi]=Vi}if(t[qi]||Ht(t,qi,e),Bi[e])for(var n in hr)if(t[n]!==hr[n])try{Ht(t,n,hr[n])}catch(e){t[n]=hr[n]}}};for(var Ji in Bi)Xi(a[Ji]&&a[Ji].prototype,Ji);Xi(zi,"DOMTokenList");var Yi=function(){return Yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Yi.apply(this,arguments)},Ki={weixinJsSdkTicket:"",launchContainerQuery:".mazey-launch-app-selector",launchShowWeixinToBrowserImgUrl:"",canShowWeixinToBrowser:!1,extInfo:"",serviceAccountAppId:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App <br /><br /><br />",launchErrorLink:"",canContinuousUpdating:!1,onMenuShareTimelineOptions:void 0,onMenuShareAppMessageOptions:void 0,isConClosed:!0,isWxDebug:!1,openTagList:["wx-open-launch-app"],canLaunchApp:function(){return!0},canFireErrorLinkDirectly:function(){return!1},launchBtnClick:function(){},launchReady:function(){}};module.exports=function(e){void 0===e&&(e=Ki);var n=Object.assign(Ki,e),r=n.weixinJsSdkTicket,o=n.launchContainerQuery,i=n.genTagPrefixStr,a=n.launchShowWeixinToBrowserImgUrl,c=n.canShowWeixinToBrowser,u=n.launchShowWeixinToBrowserClassName,f=n.launchBtnClassName,s=n.launchBtnStyle,l=n.launchBtnText,p=n.launchErrorLink,d=n.wexinServiceAccountAppId,h=n.openPlatformMobileAppId,v=n.canContinuousUpdating,y=n.onMenuShareTimelineOptions,g=n.onMenuShareAppMessageOptions,m=n.isConClosed,b=n.isWxDebug,w=n.openTagList,S=n.canLaunchApp,A=n.canFireErrorLinkDirectly,O=n.launchBtnClick,E=n.launchReady,P=n.serviceAccountAppId,T=n.extInfo,_=t.genCustomConsole("LaunchCon:",{isClosed:m}),L=window.wx;L||console.error("Launch App: wx is not found");var j=window.$||window.jQuery;j||console.error("Launch App: $ is not found");var x=window.sha1;x||console.error("Launch App: sha1 is not found");var C=function(){};_.log("Launch App");var I={title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}},k={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},R={title:document.title,link:location.href};I=Yi(Yi({},I),R),k=Yi(Yi({},k),R);var N=function(t,e,n){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="button"),"<style>.".concat(f,"{")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+s+e+"}</style>"+"<".concat(n,' class="').concat(f,'"')+(t&&"button"===n?' onclick="'.concat(t,'"'):"")+(t&&"a"===n?' target="_self" href="'.concat(t,'"'):"")+">"+l+"</".concat(n,">")},M=N();function U(){t.addStyle('.mazey-launch-app-mask{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, .5);text-align:right;font-size:0;white-space:nowrap;overflow:auto;z-index:999;}.mazey-launch-app-img{display:inline-block;vertical-align:middle;text-align:left;font-size:14px;white-space:normal;width:50vw;margin:0.5rem 0.5rem 0 0;}.mazey-launch-app-img:after{content:"";display:inline-block;height:100%;vertical-align:middle;}',{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){j(".mazey-launch-app-mask").hide()}),0===j(".mazey-launch-app-mask").length?j("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'><img "+"class='mazey-launch-app-img ".concat(u,"' ")+"src='".concat(a,"' ")+"alt='Launch App' /></div>"):j(".mazey-launch-app-mask").show()}function D(){_.log("renderWeixinLaunchTemplate"),!P&&d&&(console.warn("wexinServiceAccountAppId will be deprecated, use serviceAccountAppId instead."),P=d),function(e,n){void 0===e&&(e=""),void 0===n&&(n=""),_.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(r||window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET||t.getQueryParam("weixinJsSdkTicket")||""),Promise.resolve(x)]).then((function(r){_.log("allRes",r);var a=r[0];if(a){var u=r[1];if(u){var f=t.generateRndNum(7),s=a,l=(new Date).getTime(),d=u("jsapi_ticket="+s+"&noncestr="+f+"&timestamp="+l+"&url="+location.href);return L.config({debug:b,appId:e,timestamp:l,nonceStr:f,signature:d,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"],openTagList:w}),L.ready((function(){if(g&&(_.log("onMenuShareAppMessageOptions",g),L.onMenuShareAppMessage(g)),window.LAUNCH_APP_SHARE_APP_MESSAGE=function(t){t=Yi(Yi({},k),t),_.log("window LAUNCH_APP_SHARE_APP_MESSAGE",t),L.onMenuShareAppMessage(t)},y&&(_.log("onMenuShareTimelineOptions",y),L.onMenuShareTimeline(y)),window.LAUNCH_APP_SHARE_TIMELINE=function(t){t=Yi(Yi({},I),t),_.log("window LAUNCH_APP_SHARE_TIMELINE",t),L.onMenuShareTimeline(t)},n){window.LAUNCH_APP_READY=!0,E&&E();var t=function(){var t=j(o);_.log("containers",o,t,t.length),t.length>0&&t.each((function(t,e){var r=j(e).attr("data-launch-app-key");if(!r){var o=j(e).parents("[data-launch-app-key]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-key"),_.log("keyEle",o,r))}r||(r=String(t));var a="mazey-launch-app-tag-".concat(r),u=j(".".concat(a," wx-open-launch-app")),f=j(e).attr("data-launch-app-ext-info");if(!f){var s=j(e).parents("[data-launch-app-ext-info]:eq(0)");s.length>0&&(f=s.attr("data-launch-app-ext-info"),_.log("eleExtInfoEle parents",s,f))}f&&(T=f);var l=j(e).attr("data-launch-app-error-link");if(!l){var d=j(e).parents("[data-launch-app-error-link]:eq(0)");d.length>0&&(l=d.attr("data-launch-app-error-link"),_.log("eleErrorLinkEle parents",d,l))}var h=p;l&&(h=l),0===u.length&&(j(e).addClass(a),_.log("success:",a),function(t){var e=i,r=e+t,o="<wx-open-launch-app id='"+r+"' appid='"+n+"' extinfo='".concat(T)+"' style='z-index:99;position:absolute;width:100%;height:100%;opacity:1;background:transparent;overflow:hidden;left:0;'><script type='text/wxtag-template'>"+M+"<\/script></wx-open-launch-app>";j("."+t+":eq(0)").append(o);var a=document.getElementById(r);a&&(a.addEventListener("ready",(function(t){_.log("ready event",t)})),a.addEventListener("launch",(function(t){_.log("launch event",t),t.detail&&t.detail.extInfo&&_.log("launch extInfo",t.detail.extInfo)})),a.addEventListener("error",(function(t){_.error(t.detail),j("[id^='"+e+"']").hide(),c&&U(),h&&(_.log("realErrorLink",h),location.href=h)})),a.addEventListener("click",(function(t){_.log("click event",t),O&&O()})))}(a))}))};t(),C=t}else _.log("openPlatformMobileAppId is required for weixin launch app")})),L.error((function(t){_.error(t)})),"success:launch_app"}_.error("sha1 is required")}else _.error("weixinJsSdkTicket is required")})).catch((function(t){_.error(t)}))}(P,h)}function H(t){if(_.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&S(t)&&(D(),window.LAUNCH_APP_LOAD=!0),v&&window.LAUNCH_APP_LOAD&&S(t)&&C(),A()){var e=j(o);e.length>0&&e.each((function(t,e){var n=j(e).children("."+f);if(!n||!n.length){var r=j(e).attr("data-launch-app-error-link");if(!r){var o=j(e).parents("[data-launch-app-error-link]:eq(0)");o.length>0&&(r=o.attr("data-launch-app-error-link"))}if(r&&"string"==typeof r&&r.length){var i=N(r,"position:absolute;left:0;z-index:999;","a");j(e).append(i)}}}))}}function B(){_.log("appBeforeDestroy",B),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return window.LAUNCH_APP_UPDATE=H,window.LAUNCH_APP_BEFORE_DESTROY=B,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=U,{LAUNCH_APP_UPDATE:H,LAUNCH_APP_BEFORE_DESTROY:B,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:U,LAUNCH_APP_SHARE_TIMELINE:function(t){_.log("opt",t)},LAUNCH_APP_SHARE_APP_MESSAGE:function(t){_.log("opt",t)},start:H,update:H,destroy:B}};
