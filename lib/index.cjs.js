/*!
 * mazey-wechat-launch-app v1.0.0
 * (c) 2018-2023 Mazey Chu
 * Released under the MIT License.
 */
"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e,r,o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||function(){return this}()||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},c=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f=Function.prototype.call,s=u?f.bind(f):function(){return f.apply(f,arguments)},l={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,d=p&&!l.call({1:2},1)?function(t){var n=p(this,t);return!!n&&n.enumerable}:l,h={f:d},v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},y=Function.prototype,g=y.call,m=u&&y.bind.bind(g,g),b=u?m:function(t){return function(){return g.apply(t,arguments)}},w=b({}.toString),S=b("".slice),O=function(t){return S(w(t),8,-1)},P=Object,A=b("".split),E=a((function(){return!P("z").propertyIsEnumerable(0)}))?function(t){return"String"==O(t)?A(t,""):P(t)}:P,T=function(t){return null==t},j=TypeError,_=function(t){if(T(t))throw j("Can't call method on "+t);return t},x=function(t){return E(_(t))},C="object"==typeof document&&document.all,L={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},I=L.all,R=L.IS_HTMLDDA?function(t){return"function"==typeof t||t===I}:function(t){return"function"==typeof t},N=L.all,k=L.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:R(t)||t===N}:function(t){return"object"==typeof t?null!==t:R(t)},D=function(t,n){return arguments.length<2?(e=i[t],R(e)?e:void 0):i[t]&&i[t][n];var e},U=b({}.isPrototypeOf),M="undefined"!=typeof navigator&&String(navigator.userAgent)||"",B=i.process,H=i.Deno,W=B&&B.versions||H&&H.version,F=W&&W.v8;F&&(r=(e=F.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!r&&M&&(!(e=M.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=M.match(/Chrome\/(\d+)/))&&(r=+e[1]);var z=r,G=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&z&&z<41})),V=G&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=Object,q=V?function(t){return"symbol"==typeof t}:function(t){var n=D("Symbol");return R(n)&&U(n.prototype,X(t))},Y=String,K=function(t){try{return Y(t)}catch(t){return"Object"}},J=TypeError,Q=function(t){if(R(t))return t;throw J(K(t)+" is not a function")},$=function(t,n){var e=t[n];return T(e)?void 0:Q(e)},Z=TypeError,tt=Object.defineProperty,nt=function(t,n){try{tt(i,t,{value:n,configurable:!0,writable:!0})}catch(e){i[t]=n}return n},et="__core-js_shared__",rt=i[et]||nt(et,{}),ot=n((function(t){(t.exports=function(t,n){return rt[t]||(rt[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),it=Object,at=function(t){return it(_(t))},ct=b({}.hasOwnProperty),ut=Object.hasOwn||function(t,n){return ct(at(t),n)},ft=0,st=Math.random(),lt=b(1..toString),pt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+lt(++ft+st,36)},dt=i.Symbol,ht=ot("wks"),vt=V?dt.for||dt:dt&&dt.withoutSetter||pt,yt=function(t){return ut(ht,t)||(ht[t]=G&&ut(dt,t)?dt[t]:vt("Symbol."+t)),ht[t]},gt=TypeError,mt=yt("toPrimitive"),bt=function(t,n){if(!k(t)||q(t))return t;var e,r=$(t,mt);if(r){if(void 0===n&&(n="default"),e=s(r,t,n),!k(e)||q(e))return e;throw gt("Can't convert object to primitive value")}return void 0===n&&(n="number"),function(t,n){var e,r;if("string"===n&&R(e=t.toString)&&!k(r=s(e,t)))return r;if(R(e=t.valueOf)&&!k(r=s(e,t)))return r;if("string"!==n&&R(e=t.toString)&&!k(r=s(e,t)))return r;throw Z("Can't convert object to primitive value")}(t,n)},wt=function(t){var n=bt(t,"string");return q(n)?n:n+""},St=i.document,Ot=k(St)&&k(St.createElement),Pt=function(t){return Ot?St.createElement(t):{}},At=!c&&!a((function(){return 7!=Object.defineProperty(Pt("div"),"a",{get:function(){return 7}}).a})),Et=Object.getOwnPropertyDescriptor,Tt={f:c?Et:function(t,n){if(t=x(t),n=wt(n),At)try{return Et(t,n)}catch(t){}if(ut(t,n))return v(!s(h.f,t,n),t[n])}},jt=c&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),_t=String,xt=TypeError,Ct=function(t){if(k(t))return t;throw xt(_t(t)+" is not an object")},Lt=TypeError,It=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,Nt="enumerable",kt="configurable",Dt="writable",Ut={f:c?jt?function(t,n,e){if(Ct(t),n=wt(n),Ct(e),"function"==typeof t&&"prototype"===n&&"value"in e&&Dt in e&&!e[Dt]){var r=Rt(t,n);r&&r[Dt]&&(t[n]=e.value,e={configurable:kt in e?e[kt]:r[kt],enumerable:Nt in e?e[Nt]:r[Nt],writable:!1})}return It(t,n,e)}:It:function(t,n,e){if(Ct(t),n=wt(n),Ct(e),At)try{return It(t,n,e)}catch(t){}if("get"in e||"set"in e)throw Lt("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},Mt=c?function(t,n,e){return Ut.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},Bt=Function.prototype,Ht=c&&Object.getOwnPropertyDescriptor,Wt=ut(Bt,"name"),Ft={EXISTS:Wt,PROPER:Wt&&"something"===function(){}.name,CONFIGURABLE:Wt&&(!c||c&&Ht(Bt,"name").configurable)},zt=b(Function.toString);R(rt.inspectSource)||(rt.inspectSource=function(t){return zt(t)});var Gt,Vt,Xt,qt=rt.inspectSource,Yt=i.WeakMap,Kt=R(Yt)&&/native code/.test(String(Yt)),Jt=ot("keys"),Qt=function(t){return Jt[t]||(Jt[t]=pt(t))},$t={},Zt="Object already initialized",tn=i.TypeError,nn=i.WeakMap;if(Kt||rt.state){var en=rt.state||(rt.state=new nn);en.get=en.get,en.has=en.has,en.set=en.set,Gt=function(t,n){if(en.has(t))throw tn(Zt);return n.facade=t,en.set(t,n),n},Vt=function(t){return en.get(t)||{}},Xt=function(t){return en.has(t)}}else{var rn=Qt("state");$t[rn]=!0,Gt=function(t,n){if(ut(t,rn))throw tn(Zt);return n.facade=t,Mt(t,rn,n),n},Vt=function(t){return ut(t,rn)?t[rn]:{}},Xt=function(t){return ut(t,rn)}}var on={set:Gt,get:Vt,has:Xt,enforce:function(t){return Xt(t)?Vt(t):Gt(t,{})},getterFor:function(t){return function(n){var e;if(!k(n)||(e=Vt(n)).type!==t)throw tn("Incompatible receiver, "+t+" required");return e}}},an=n((function(t){var n=Ft.CONFIGURABLE,e=on.enforce,r=on.get,o=String,i=Object.defineProperty,u=b("".slice),f=b("".replace),s=b([].join),l=c&&!a((function(){return 8!==i((function(){}),"length",{value:8}).length})),p=String(String).split("String"),d=t.exports=function(t,r,a){"Symbol("===u(o(r),0,7)&&(r="["+f(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(r="get "+r),a&&a.setter&&(r="set "+r),(!ut(t,"name")||n&&t.name!==r)&&(c?i(t,"name",{value:r,configurable:!0}):t.name=r),l&&a&&ut(a,"arity")&&t.length!==a.arity&&i(t,"length",{value:a.arity});try{a&&ut(a,"constructor")&&a.constructor?c&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var d=e(t);return ut(d,"source")||(d.source=s(p,"string"==typeof r?r:"")),t};Function.prototype.toString=d((function(){return R(this)&&r(this).source||qt(this)}),"toString")})),cn=function(t,n,e,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:n;if(R(e)&&an(e,i,r),r.global)o?t[n]=e:nt(n,e);else{try{r.unsafe?t[n]&&(o=!0):delete t[n]}catch(t){}o?t[n]=e:Ut.f(t,n,{value:e,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},un=Math.ceil,fn=Math.floor,sn=Math.trunc||function(t){var n=+t;return(n>0?fn:un)(n)},ln=function(t){var n=+t;return n!=n||0===n?0:sn(n)},pn=Math.max,dn=Math.min,hn=Math.min,vn=function(t){return(n=t.length)>0?hn(ln(n),9007199254740991):0;var n},yn=function(t){return function(n,e,r){var o,i=x(n),a=vn(i),c=function(t,n){var e=ln(t);return e<0?pn(e+n,0):dn(e,n)}(r,a);if(t&&e!=e){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===e)return t||c||0;return!t&&-1}},gn={includes:yn(!0),indexOf:yn(!1)}.indexOf,mn=b([].push),bn=function(t,n){var e,r=x(t),o=0,i=[];for(e in r)!ut($t,e)&&ut(r,e)&&mn(i,e);for(;n.length>o;)ut(r,e=n[o++])&&(~gn(i,e)||mn(i,e));return i},wn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sn=wn.concat("length","prototype"),On={f:Object.getOwnPropertyNames||function(t){return bn(t,Sn)}},Pn={f:Object.getOwnPropertySymbols},An=b([].concat),En=D("Reflect","ownKeys")||function(t){var n=On.f(Ct(t)),e=Pn.f;return e?An(n,e(t)):n},Tn=function(t,n,e){for(var r=En(n),o=Ut.f,i=Tt.f,a=0;a<r.length;a++){var c=r[a];ut(t,c)||e&&ut(e,c)||o(t,c,i(n,c))}},jn=/#|\.prototype\./,_n=function(t,n){var e=Cn[xn(t)];return e==In||e!=Ln&&(R(n)?a(n):!!n)},xn=_n.normalize=function(t){return String(t).replace(jn,".").toLowerCase()},Cn=_n.data={},Ln=_n.NATIVE="N",In=_n.POLYFILL="P",Rn=_n,Nn=Tt.f,kn=function(t,n){var e,r,o,a,c,u=t.target,f=t.global,s=t.stat;if(e=f?i:s?i[u]||nt(u,{}):(i[u]||{}).prototype)for(r in n){if(a=n[r],o=t.dontCallGetSet?(c=Nn(e,r))&&c.value:e[r],!Rn(f?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;Tn(a,o)}(t.sham||o&&o.sham)&&Mt(a,"sham",!0),cn(e,r,a,t)}},Dn=Object.keys||function(t){return bn(t,wn)},Un=Object.assign,Mn=Object.defineProperty,Bn=b([].concat),Hn=!Un||a((function(){if(c&&1!==Un({b:1},Un(Mn({},"a",{enumerable:!0,get:function(){Mn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=Un({},t)[e]||Dn(Un({},n)).join("")!=r}))?function(t,n){for(var e=at(t),r=arguments.length,o=1,i=Pn.f,a=h.f;r>o;)for(var u,f=E(arguments[o++]),l=i?Bn(Dn(f),i(f)):Dn(f),p=l.length,d=0;p>d;)u=l[d++],c&&!s(a,f,u)||(e[u]=f[u]);return e}:Un;kn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Hn},{assign:Hn});var Wn,Fn=c&&!jt?Object.defineProperties:function(t,n){Ct(t);for(var e,r=x(n),o=Dn(n),i=o.length,a=0;i>a;)Ut.f(t,e=o[a++],r[e]);return t},zn={f:Fn},Gn=D("document","documentElement"),Vn="prototype",Xn="script",qn=Qt("IE_PROTO"),Yn=function(){},Kn=function(t){return"<"+Xn+">"+t+"</"+Xn+">"},Jn=function(t){t.write(Kn("")),t.close();var n=t.parentWindow.Object;return t=null,n},Qn=function(){try{Wn=new ActiveXObject("htmlfile")}catch(t){}var t,n,e;Qn="undefined"!=typeof document?document.domain&&Wn?Jn(Wn):(n=Pt("iframe"),e="java"+Xn+":",n.style.display="none",Gn.appendChild(n),n.src=String(e),(t=n.contentWindow.document).open(),t.write(Kn("document.F=Object")),t.close(),t.F):Jn(Wn);for(var r=wn.length;r--;)delete Qn[Vn][wn[r]];return Qn()};$t[qn]=!0;var $n=Object.create||function(t,n){var e;return null!==t?(Yn[Vn]=Ct(t),e=new Yn,Yn[Vn]=null,e[qn]=t):e=Qn(),void 0===n?e:zn.f(e,n)},Zn=Ut.f,te=yt("unscopables"),ne=Array.prototype;null==ne[te]&&Zn(ne,te,{configurable:!0,value:$n(null)});var ee,re,oe,ie=function(t){ne[te][t]=!0},ae={},ce=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ue=Qt("IE_PROTO"),fe=Object,se=fe.prototype,le=ce?fe.getPrototypeOf:function(t){var n=at(t);if(ut(n,ue))return n[ue];var e=n.constructor;return R(e)&&n instanceof e?e.prototype:n instanceof fe?se:null},pe=yt("iterator"),de=!1;[].keys&&("next"in(oe=[].keys())?(re=le(le(oe)))!==Object.prototype&&(ee=re):de=!0);var he=!k(ee)||a((function(){var t={};return ee[pe].call(t)!==t}));he&&(ee={}),R(ee[pe])||cn(ee,pe,(function(){return this}));var ve={IteratorPrototype:ee,BUGGY_SAFARI_ITERATORS:de},ye=Ut.f,ge=yt("toStringTag"),me=function(t,n,e){t&&!e&&(t=t.prototype),t&&!ut(t,ge)&&ye(t,ge,{configurable:!0,value:n})},be=ve.IteratorPrototype,we=function(){return this},Se=String,Oe=TypeError,Pe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{t=function(t,n,e){try{return b(Q(Object.getOwnPropertyDescriptor(t,n)[e]))}catch(t){}}(Object.prototype,"__proto__","set"),t(e,[]),n=e instanceof Array}catch(t){}return function(e,r){return Ct(e),function(t){if("object"==typeof t||R(t))return t;throw Oe("Can't set "+Se(t)+" as a prototype")}(r),n?t(e,r):e.__proto__=r,e}}():void 0),Ae=Ft.PROPER,Ee=Ft.CONFIGURABLE,Te=ve.IteratorPrototype,je=ve.BUGGY_SAFARI_ITERATORS,_e=yt("iterator"),xe="keys",Ce="values",Le="entries",Ie=function(){return this},Re=function(t,n,e,r,o,i,a){!function(t,n,e,r){var o=n+" Iterator";t.prototype=$n(be,{next:v(+!r,e)}),me(t,o,!1),ae[o]=we}(e,n,r);var c,u,f,l=function(t){if(t===o&&g)return g;if(!je&&t in h)return h[t];switch(t){case xe:case Ce:case Le:return function(){return new e(this,t)}}return function(){return new e(this)}},p=n+" Iterator",d=!1,h=t.prototype,y=h[_e]||h["@@iterator"]||o&&h[o],g=!je&&y||l(o),m="Array"==n&&h.entries||y;if(m&&(c=le(m.call(new t)))!==Object.prototype&&c.next&&(le(c)!==Te&&(Pe?Pe(c,Te):R(c[_e])||cn(c,_e,Ie)),me(c,p,!0)),Ae&&o==Ce&&y&&y.name!==Ce&&(Ee?Mt(h,"name",Ce):(d=!0,g=function(){return s(y,this)})),o)if(u={values:l(Ce),keys:i?g:l(xe),entries:l(Le)},a)for(f in u)(je||d||!(f in h))&&cn(h,f,u[f]);else kn({target:n,proto:!0,forced:je||d},u);return h[_e]!==g&&cn(h,_e,g,{name:o}),ae[n]=g,u},Ne=function(t,n){return{value:t,done:n}},ke=Ut.f,De="Array Iterator",Ue=on.set,Me=on.getterFor(De),Be=Re(Array,"Array",(function(t,n){Ue(this,{type:De,target:x(t),index:0,kind:n})}),(function(){var t=Me(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,Ne(void 0,!0)):Ne("keys"==e?r:"values"==e?n[r]:[r,n[r]],!1)}),"values"),He=ae.Arguments=ae.Array;if(ie("keys"),ie("values"),ie("entries"),c&&"values"!==He.name)try{ke(He,"name",{value:"values"})}catch(t){}var We={};We[yt("toStringTag")]="z";var Fe="[object z]"===String(We),ze=yt("toStringTag"),Ge=Object,Ve="Arguments"==O(function(){return arguments}()),Xe=Fe?O:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Ge(t),ze))?e:Ve?O(n):"Object"==(r=O(n))&&R(n.callee)?"Arguments":r},qe=Fe?{}.toString:function(){return"[object "+Xe(this)+"]"};Fe||cn(Object.prototype,"toString",qe,{unsafe:!0});var Ye="undefined"!=typeof process&&"process"==O(process),Ke=yt("species"),Je=TypeError,Qe=function(){},$e=[],Ze=D("Reflect","construct"),tr=/^\s*(?:class|function)\b/,nr=b(tr.exec),er=!tr.exec(Qe),rr=function(t){if(!R(t))return!1;try{return Ze(Qe,$e,t),!0}catch(t){return!1}},or=function(t){if(!R(t))return!1;switch(Xe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return er||!!nr(tr,qt(t))}catch(t){return!0}};or.sham=!0;var ir,ar,cr,ur,fr=!Ze||a((function(){var t;return rr(rr.call)||!rr(Object)||!rr((function(){t=!0}))||t}))?or:rr,sr=TypeError,lr=yt("species"),pr=function(t,n){var e,r=Ct(t).constructor;return void 0===r||T(e=Ct(r)[lr])?n:function(t){if(fr(t))return t;throw sr(K(t)+" is not a constructor")}(e)},dr=Function.prototype,hr=dr.apply,vr=dr.call,yr="object"==typeof Reflect&&Reflect.apply||(u?vr.bind(hr):function(){return vr.apply(hr,arguments)}),gr=function(t){if("Function"===O(t))return b(t)},mr=gr(gr.bind),br=function(t,n){return Q(t),void 0===n?t:u?mr(t,n):function(){return t.apply(n,arguments)}},wr=b([].slice),Sr=TypeError,Or=/(?:ipad|iphone|ipod).*applewebkit/i.test(M),Pr=i.setImmediate,Ar=i.clearImmediate,Er=i.process,Tr=i.Dispatch,jr=i.Function,_r=i.MessageChannel,xr=i.String,Cr=0,Lr={},Ir="onreadystatechange";a((function(){ir=i.location}));var Rr=function(t){if(ut(Lr,t)){var n=Lr[t];delete Lr[t],n()}},Nr=function(t){return function(){Rr(t)}},kr=function(t){Rr(t.data)},Dr=function(t){i.postMessage(xr(t),ir.protocol+"//"+ir.host)};Pr&&Ar||(Pr=function(t){!function(t,n){if(t<n)throw Sr("Not enough arguments")}(arguments.length,1);var n=R(t)?t:jr(t),e=wr(arguments,1);return Lr[++Cr]=function(){yr(n,void 0,e)},ar(Cr),Cr},Ar=function(t){delete Lr[t]},Ye?ar=function(t){Er.nextTick(Nr(t))}:Tr&&Tr.now?ar=function(t){Tr.now(Nr(t))}:_r&&!Or?(ur=(cr=new _r).port2,cr.port1.onmessage=kr,ar=br(ur.postMessage,ur)):i.addEventListener&&R(i.postMessage)&&!i.importScripts&&ir&&"file:"!==ir.protocol&&!a(Dr)?(ar=Dr,i.addEventListener("message",kr,!1)):ar=Ir in Pt("script")?function(t){Gn.appendChild(Pt("script"))[Ir]=function(){Gn.removeChild(this),Rr(t)}}:function(t){setTimeout(Nr(t),0)});var Ur={set:Pr,clear:Ar},Mr=function(){this.head=null,this.tail=null};Mr.prototype={add:function(t){var n={item:t,next:null},e=this.tail;e?e.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Br,Hr,Wr,Fr,zr,Gr=Mr,Vr=/ipad|iphone|ipod/i.test(M)&&"undefined"!=typeof Pebble,Xr=/web0s(?!.*chrome)/i.test(M),qr=Tt.f,Yr=Ur.set,Kr=i.MutationObserver||i.WebKitMutationObserver,Jr=i.document,Qr=i.process,$r=i.Promise,Zr=qr(i,"queueMicrotask"),to=Zr&&Zr.value;if(!to){var no=new Gr,eo=function(){var t,n;for(Ye&&(t=Qr.domain)&&t.exit();n=no.get();)try{n()}catch(t){throw no.head&&Br(),t}t&&t.enter()};Or||Ye||Xr||!Kr||!Jr?!Vr&&$r&&$r.resolve?((Fr=$r.resolve(void 0)).constructor=$r,zr=br(Fr.then,Fr),Br=function(){zr(eo)}):Ye?Br=function(){Qr.nextTick(eo)}:(Yr=br(Yr,i),Br=function(){Yr(eo)}):(Hr=!0,Wr=Jr.createTextNode(""),new Kr(eo).observe(Wr,{characterData:!0}),Br=function(){Wr.data=Hr=!Hr}),to=function(t){no.head||Br(),no.add(t)}}var ro=to,oo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},io=i.Promise,ao="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,co=!ao&&!Ye&&"object"==typeof window&&"object"==typeof document;io&&io.prototype;var uo,fo,so,lo,po,ho,vo,yo=yt("species"),go=!1,mo=R(i.PromiseRejectionEvent),bo=Rn("Promise",(function(){var t=qt(io),n=t!==String(io);if(!n&&66===z)return!0;if(!z||z<51||!/native code/.test(t)){var e=new io((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((e.constructor={})[yo]=r,!(go=e.then((function(){}))instanceof r))return!0}return!n&&(co||ao)&&!mo})),wo={CONSTRUCTOR:bo,REJECTION_EVENT:mo,SUBCLASSING:go},So=TypeError,Oo=function(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw So("Bad Promise constructor");n=t,e=r})),this.resolve=Q(n),this.reject=Q(e)},Po={f:function(t){return new Oo(t)}},Ao=Ur.set,Eo="Promise",To=wo.CONSTRUCTOR,jo=wo.REJECTION_EVENT,_o=wo.SUBCLASSING,xo=on.getterFor(Eo),Co=on.set,Lo=io&&io.prototype,Io=io,Ro=Lo,No=i.TypeError,ko=i.document,Do=i.process,Uo=Po.f,Mo=Uo,Bo=!!(ko&&ko.createEvent&&i.dispatchEvent),Ho="unhandledrejection",Wo=function(t){var n;return!(!k(t)||!R(n=t.then))&&n},Fo=function(t,n){var e,r,o,i=n.value,a=1==n.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,l=t.domain;try{c?(a||(2===n.rejection&&qo(n),n.rejection=1),!0===c?e=i:(l&&l.enter(),e=c(i),l&&(l.exit(),o=!0)),e===t.promise?f(No("Promise-chain cycle")):(r=Wo(e))?s(r,e,u,f):u(e)):f(i)}catch(t){l&&!o&&l.exit(),f(t)}},zo=function(t,n){t.notified||(t.notified=!0,ro((function(){for(var e,r=t.reactions;e=r.get();)Fo(e,t);t.notified=!1,n&&!t.rejection&&Vo(t)})))},Go=function(t,n,e){var r,o;Bo?((r=ko.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:n,reason:e},!jo&&(o=i["on"+t])?o(r):t===Ho&&function(t,n){try{1==arguments.length?console.error(t):console.error(t,n)}catch(t){}}("Unhandled promise rejection",e)},Vo=function(t){s(Ao,i,(function(){var n,e=t.facade,r=t.value;if(Xo(t)&&(n=oo((function(){Ye?Do.emit("unhandledRejection",r,e):Go(Ho,e,r)})),t.rejection=Ye||Xo(t)?2:1,n.error))throw n.value}))},Xo=function(t){return 1!==t.rejection&&!t.parent},qo=function(t){s(Ao,i,(function(){var n=t.facade;Ye?Do.emit("rejectionHandled",n):Go("rejectionhandled",n,t.value)}))},Yo=function(t,n,e){return function(r){t(n,r,e)}},Ko=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,zo(t,!0))},Jo=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw No("Promise can't be resolved itself");var r=Wo(n);r?ro((function(){var e={done:!1};try{s(r,n,Yo(Jo,e,t),Yo(Ko,e,t))}catch(n){Ko(e,n,t)}})):(t.value=n,t.state=1,zo(t,!1))}catch(n){Ko({done:!1},n,t)}}};if(To&&(Ro=(Io=function(t){!function(t,n){if(U(n,t))return t;throw Je("Incorrect invocation")}(this,Ro),Q(t),s(uo,this);var n=xo(this);try{t(Yo(Jo,n),Yo(Ko,n))}catch(t){Ko(n,t)}}).prototype,(uo=function(t){Co(this,{type:Eo,done:!1,notified:!1,parent:!1,reactions:new Gr,rejection:!1,state:0,value:void 0})}).prototype=cn(Ro,"then",(function(t,n){var e=xo(this),r=Uo(pr(this,Io));return e.parent=!0,r.ok=!R(t)||t,r.fail=R(n)&&n,r.domain=Ye?Do.domain:void 0,0==e.state?e.reactions.add(r):ro((function(){Fo(r,e)})),r.promise})),fo=function(){var t=new uo,n=xo(t);this.promise=t,this.resolve=Yo(Jo,n),this.reject=Yo(Ko,n)},Po.f=Uo=function(t){return t===Io||undefined===t?new fo(t):Mo(t)},R(io)&&Lo!==Object.prototype)){so=Lo.then,_o||cn(Lo,"then",(function(t,n){var e=this;return new Io((function(t,n){s(so,e,t,n)})).then(t,n)}),{unsafe:!0});try{delete Lo.constructor}catch(t){}Pe&&Pe(Lo,Ro)}kn({global:!0,constructor:!0,wrap:!0,forced:To},{Promise:Io}),me(Io,Eo,!1),vo=D(Eo),c&&vo&&!vo[Ke]&&(lo=vo,po=Ke,(ho={configurable:!0,get:function(){return this}}).get&&an(ho.get,po,{getter:!0}),ho.set&&an(ho.set,po,{setter:!0}),Ut.f(lo,po,ho));var Qo=yt("iterator"),$o=Array.prototype,Zo=yt("iterator"),ti=function(t){if(!T(t))return $(t,Zo)||$(t,"@@iterator")||ae[Xe(t)]},ni=TypeError,ei=function(t,n,e){var r,o;Ct(t);try{if(!(r=$(t,"return"))){if("throw"===n)throw e;return e}r=s(r,t)}catch(t){o=!0,r=t}if("throw"===n)throw e;if(o)throw r;return Ct(r),e},ri=TypeError,oi=function(t,n){this.stopped=t,this.result=n},ii=oi.prototype,ai=function(t,n,e){var r,o,i,a,c,u,f,l,p=e&&e.that,d=!(!e||!e.AS_ENTRIES),h=!(!e||!e.IS_RECORD),v=!(!e||!e.IS_ITERATOR),y=!(!e||!e.INTERRUPTED),g=br(n,p),m=function(t){return r&&ei(r,"normal",t),new oi(!0,t)},b=function(t){return d?(Ct(t),y?g(t[0],t[1],m):g(t[0],t[1])):y?g(t,m):g(t)};if(h)r=t.iterator;else if(v)r=t;else{if(!(o=ti(t)))throw ri(K(t)+" is not iterable");if(void 0!==(l=o)&&(ae.Array===l||$o[Qo]===l)){for(i=0,a=vn(t);a>i;i++)if((c=b(t[i]))&&U(ii,c))return c;return new oi(!1)}r=function(t,n){var e=arguments.length<2?ti(t):n;if(Q(e))return Ct(s(e,t));throw ni(K(t)+" is not iterable")}(t,o)}for(u=h?t.next:r.next;!(f=s(u,r)).done;){try{c=b(f.value)}catch(t){ei(r,"throw",t)}if("object"==typeof c&&c&&U(ii,c))return c}return new oi(!1)},ci=yt("iterator"),ui=!1;try{var fi=0,si={next:function(){return{done:!!fi++}},return:function(){ui=!0}};si[ci]=function(){return this},Array.from(si,(function(){throw 2}))}catch(t){}var li=wo.CONSTRUCTOR||!function(t,n){if(!n&&!ui)return!1;var e=!1;try{var r={};r[ci]=function(){return{next:function(){return{done:e=!0}}}},t(r)}catch(t){}return e}((function(t){io.all(t).then(void 0,(function(){}))}));kn({target:"Promise",stat:!0,forced:li},{all:function(t){var n=this,e=Po.f(n),r=e.resolve,o=e.reject,i=oo((function(){var e=Q(n.resolve),i=[],a=0,c=1;ai(t,(function(t){var u=a++,f=!1;c++,s(e,n,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),e.promise}});var pi=wo.CONSTRUCTOR,di=io&&io.prototype;if(kn({target:"Promise",proto:!0,forced:pi,real:!0},{catch:function(t){return this.then(void 0,t)}}),R(io)){var hi=D("Promise").prototype.catch;di.catch!==hi&&cn(di,"catch",hi,{unsafe:!0})}kn({target:"Promise",stat:!0,forced:li},{race:function(t){var n=this,e=Po.f(n),r=e.reject,o=oo((function(){var o=Q(n.resolve);ai(t,(function(t){s(o,n,t).then(e.resolve,r)}))}));return o.error&&r(o.value),e.promise}}),kn({target:"Promise",stat:!0,forced:wo.CONSTRUCTOR},{reject:function(t){var n=Po.f(this);return s(n.reject,void 0,t),n.promise}});var vi=wo.CONSTRUCTOR;D("Promise"),kn({target:"Promise",stat:!0,forced:vi},{resolve:function(t){return function(t,n){if(Ct(t),k(n)&&n.constructor===t)return n;var e=Po.f(t);return(0,e.resolve)(n),e.promise}(this,t)}});var yi=String,gi=function(t){if("Symbol"===Xe(t))throw TypeError("Cannot convert a Symbol value to a string");return yi(t)},mi=b("".charAt),bi=b("".charCodeAt),wi=b("".slice),Si=function(t){return function(n,e){var r,o,i=gi(_(n)),a=ln(e),c=i.length;return a<0||a>=c?t?"":void 0:(r=bi(i,a))<55296||r>56319||a+1===c||(o=bi(i,a+1))<56320||o>57343?t?mi(i,a):r:t?wi(i,a,a+2):o-56320+(r-55296<<10)+65536}},Oi={codeAt:Si(!1),charAt:Si(!0)}.charAt,Pi="String Iterator",Ai=on.set,Ei=on.getterFor(Pi);Re(String,"String",(function(t){Ai(this,{type:Pi,string:gi(t),index:0})}),(function(){var t,n=Ei(this),e=n.string,r=n.index;return r>=e.length?Ne(void 0,!0):(t=Oi(e,r),n.index+=t.length,Ne(t,!1))}));var Ti={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ji=Pt("span").classList,_i=ji&&ji.constructor&&ji.constructor.prototype,xi=_i===Object.prototype?void 0:_i,Ci=yt("iterator"),Li=yt("toStringTag"),Ii=Be.values,Ri=function(t,n){if(t){if(t[Ci]!==Ii)try{Mt(t,Ci,Ii)}catch(n){t[Ci]=Ii}if(t[Li]||Mt(t,Li,n),Ti[n])for(var e in Be)if(t[e]!==Be[e])try{Mt(t,e,Be[e])}catch(n){t[e]=Be[e]}}};for(var Ni in Ti)Ri(i[Ni]&&i[Ni].prototype,Ni);Ri(xi,"DOMTokenList");var ki,Di=Array.isArray||function(t){return"Array"==O(t)},Ui=TypeError,Mi=function(t){if(t>9007199254740991)throw Ui("Maximum allowed index exceeded");return t},Bi=function(t,n,e){var r=wt(n);r in t?Ut.f(t,r,v(0,e)):t[r]=e},Hi=yt("species"),Wi=Array,Fi=function(t,n){return new(function(t){var n;return Di(t)&&(n=t.constructor,(fr(n)&&(n===Wi||Di(n.prototype))||k(n)&&null===(n=n[Hi]))&&(n=void 0)),void 0===n?Wi:n}(t))(0===n?0:n)},zi=yt("species"),Gi=yt("isConcatSpreadable"),Vi=z>=51||!a((function(){var t=[];return t[Gi]=!1,t.concat()[0]!==t})),Xi=function(t){if(!k(t))return!1;var n=t[Gi];return void 0!==n?!!n:Di(t)},qi=!(Vi&&(ki="concat",z>=51||!a((function(){var t=[];return(t.constructor={})[zi]=function(){return{foo:1}},1!==t[ki](Boolean).foo}))));kn({target:"Array",proto:!0,arity:1,forced:qi},{concat:function(t){var n,e,r,o,i,a=at(this),c=Fi(a,0),u=0;for(n=-1,r=arguments.length;n<r;n++)if(Xi(i=-1===n?a:arguments[n]))for(o=vn(i),Mi(u+o),e=0;e<o;e++,u++)e in i&&Bi(c,u,i[e]);else Mi(u+1),Bi(c,u++,i);return c.length=u,c}});var Yi={launchContainerQuery:"",launchShowWeixinToBrowserImgUrl:"",extInfo:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App ;-)",canContinuousUpdating:!1,isConClosed:!0,isWxDebug:!1,canLaunchApp:function(){return!0},launchBtnClick:function(){}};module.exports=function(t){void 0===t&&(t=Yi);var n=Object.assign(Yi,t),e=n.launchContainerQuery,r=n.genTagPrefixStr,o=n.launchShowWeixinToBrowserImgUrl,i=n.launchShowWeixinToBrowserClassName,a=n.launchBtnClassName,c=n.launchBtnStyle,u=n.launchBtnText,f=n.wexinServiceAccountAppId,s=n.openPlatformMobileAppId,l=n.canContinuousUpdating,p=n.isConClosed,d=n.isWxDebug,h=n.canLaunchApp,v=n.launchBtnClick,y=n.extInfo,g=window.mazey,m=window.sha1,b=window.wx,w=window.$,S=function(){},O=g.genCustomConsole("LaunchCon:",{isClosed:p});function P(){g.addStyle("\n      .mazey-launch-app-mask {\n        position: fixed;\n        top: 0; right: 0; bottom: 0; left: 0;\n        background-color: rgba(0, 0, 0, .5);\n        text-align: right;\n        font-size: 0;\n        white-space: nowrap;\n        overflow: auto;\n        z-index: 999;\n      }\n      .mazey-launch-app-img {\n        display: inline-block;\n        vertical-align: middle;\n        text-align: left;\n        font-size: 14px;\n        white-space: normal;\n        width: 50vw;\n        margin: 0.5rem 0.5rem 0 0;\n      }\n      .mazey-launch-app-img:after {\n        content: '';\n        display: inline-block;\n        height: 100%;\n        vertical-align: middle;\n      }\n    ",{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){w(".mazey-launch-app-mask").hide()}),0===w(".mazey-launch-app-mask").length?w("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'>"+"<img\n            class='mazey-launch-app-img ".concat(i,"'\n            src='").concat(o,"'\n            alt='Launch App'\n          />")+"</div>"):w(".mazey-launch-app-mask").show()}function A(){O.log("renderWeixinLaunchTemplate"),function(t,n){void 0===t&&(t=""),void 0===n&&(n=""),O.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET),Promise.resolve(m)]).then((function(o){O.log("allRes",o);var i=o[0],f=o[1],s=g.generateRndNum(7),l=i,p=(new Date).getTime(),h=f("jsapi_ticket="+l+"&noncestr="+s+"&timestamp="+p+"&url="+location.href);return b.config({debug:d,appId:t,timestamp:p,nonceStr:s,signature:h,jsApiList:["showOptionMenu"],openTagList:["wx-open-launch-app"]}),b.ready((function(){var t=function(){var t=w(e);O.log("containers",e,t,t.length),t.length>0&&t.each((function(t,e){var o=w(e).attr("data-launch-app-key");if(!o){var i=w(e).parents("[data-launch-app-key]:eq(0)");i.length>0&&(o=i.attr("data-launch-app-key"),O.log("keyEle",i,o))}o||(o=t);var f="mazey-launch-app-tag-".concat(o),s=w(".".concat(f," wx-open-launch-app")),l=w(e).attr("data-launch-app-ext-info");if(!l){var p=w(e).parents("[data-launch-app-ext-info]:eq(0)");p.length>0&&(l=p.attr("data-launch-app-ext-info"),O.log("eleExtInfoEle parents",p,l))}l&&(y=l),0===s.length&&(w(e).addClass(f),O.log("success:",f),function(t){var e=r,o=e+t,i="<style>.".concat(a," {")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+c+"}</style>"+'<button class="'.concat(a,'">')+u+"</button>",f="<wx-open-launch-app id='"+o+"' appid='"+n+"' extinfo='".concat(y)+"' style='z-index: 99; position: absolute; width: 100%; height: 100%; opacity: 1; background: transparent; overflow: hidden; left: 0;'><script type='text/wxtag-template'>"+i+"<\/script></wx-open-launch-app>";w("."+t+":eq(0)").append(f);var s=document.getElementById(o);s&&(s.addEventListener("ready",(function(t){O.log("ready event",t)})),s.addEventListener("launch",(function(t){O.log("launch event",t),t.detail&&t.detail.extInfo&&O.log("launch extInfo",t.detail.extInfo)})),s.addEventListener("error",(function(n){O.error("fail:",n.detail),w("[id^='"+e+"']").hide(),w("."+t+":eq(0)").click(),P()})),s.addEventListener("click",(function(t){O.log("click event",t),v()})))}(f))}))};t(),S=t})),b.error((function(t){O.error("fail",t)})),"success:launch_app"})).catch((function(t){O.error("fail:launch_app",t)}))}(f,s)}function E(t){O.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&h(t)&&(A(),window.LAUNCH_APP_LOAD=!0),l&&window.LAUNCH_APP_LOAD&&h(t)&&S()}function T(){O.log("appBeforeDestroy",T),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return O.log("Launch App"),window.LAUNCH_APP_UPDATE=E,window.LAUNCH_APP_BEFORE_DESTROY=T,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=P,{LAUNCH_APP_UPDATE:E,LAUNCH_APP_BEFORE_DESTROY:T,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:P}};
