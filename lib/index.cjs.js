/*!
 * mazey-wechat-launch-app v2.2.5 https://www.npmjs.com/package/mazey-wechat-launch-app
 * (c) 2018-2023 Cheng
 * Released under the MIT License.
 */
"use strict";var t=require("mazey"),e=require("jquery"),n=require("js-sha1");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(e),i=r(n),a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e){return t(e={exports:{}},e.exports),e.exports}var u,f,l=function(t){return t&&t.Math==Math&&t},s=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof a&&a)||function(){return this}()||Function("return this")(),p=function(t){try{return!!t()}catch(t){return!0}},d=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=!p((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),v=Function.prototype.call,y=h?v.bind(v):function(){return v.apply(v,arguments)},g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,b=m&&!g.call({1:2},1)?function(t){var e=m(this,t);return!!e&&e.enumerable}:g,w={f:b},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=Function.prototype,O=A.call,E=h&&A.bind.bind(O,O),P=h?E:function(t){return function(){return O.apply(t,arguments)}},T=P({}.toString),_=P("".slice),j=function(t){return _(T(t),8,-1)},L=Object,x=P("".split),C=p((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==j(t)?x(t,""):L(t)}:L,I=function(t){return null==t},R=TypeError,k=function(t){if(I(t))throw R("Can't call method on "+t);return t},N=function(t){return C(k(t))},M="object"==typeof document&&document.all,U={all:M,IS_HTMLDDA:void 0===M&&void 0!==M},D=U.all,H=U.IS_HTMLDDA?function(t){return"function"==typeof t||t===D}:function(t){return"function"==typeof t},B=U.all,W=U.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:H(t)||t===B}:function(t){return"object"==typeof t?null!==t:H(t)},F=function(t,e){return arguments.length<2?(n=s[t],H(n)?n:void 0):s[t]&&s[t][e];var n},z=P({}.isPrototypeOf),G="undefined"!=typeof navigator&&String(navigator.userAgent)||"",q=s.process,V=s.Deno,X=q&&q.versions||V&&V.version,Y=X&&X.v8;Y&&(f=(u=Y.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!f&&G&&(!(u=G.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=G.match(/Chrome\/(\d+)/))&&(f=+u[1]);var J=f,K=!!Object.getOwnPropertySymbols&&!p((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&J&&J<41})),Q=K&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$=Object,Z=Q?function(t){return"symbol"==typeof t}:function(t){var e=F("Symbol");return H(e)&&z(e.prototype,$(t))},tt=String,et=function(t){try{return tt(t)}catch(t){return"Object"}},nt=TypeError,rt=function(t){if(H(t))return t;throw nt(et(t)+" is not a function")},ot=function(t,e){var n=t[e];return I(n)?void 0:rt(n)},it=TypeError,at=Object.defineProperty,ct=function(t,e){try{at(s,t,{value:e,configurable:!0,writable:!0})}catch(n){s[t]=e}return e},ut="__core-js_shared__",ft=s[ut]||ct(ut,{}),lt=c((function(t){(t.exports=function(t,e){return ft[t]||(ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),st=Object,pt=function(t){return st(k(t))},dt=P({}.hasOwnProperty),ht=Object.hasOwn||function(t,e){return dt(pt(t),e)},vt=0,yt=Math.random(),gt=P(1..toString),mt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+gt(++vt+yt,36)},bt=s.Symbol,wt=lt("wks"),St=Q?bt.for||bt:bt&&bt.withoutSetter||mt,At=function(t){return ht(wt,t)||(wt[t]=K&&ht(bt,t)?bt[t]:St("Symbol."+t)),wt[t]},Ot=TypeError,Et=At("toPrimitive"),Pt=function(t,e){if(!W(t)||Z(t))return t;var n,r=ot(t,Et);if(r){if(void 0===e&&(e="default"),n=y(r,t,e),!W(n)||Z(n))return n;throw Ot("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&H(n=t.toString)&&!W(r=y(n,t)))return r;if(H(n=t.valueOf)&&!W(r=y(n,t)))return r;if("string"!==e&&H(n=t.toString)&&!W(r=y(n,t)))return r;throw it("Can't convert object to primitive value")}(t,e)},Tt=function(t){var e=Pt(t,"string");return Z(e)?e:e+""},_t=s.document,jt=W(_t)&&W(_t.createElement),Lt=function(t){return jt?_t.createElement(t):{}},xt=!d&&!p((function(){return 7!=Object.defineProperty(Lt("div"),"a",{get:function(){return 7}}).a})),Ct=Object.getOwnPropertyDescriptor,It={f:d?Ct:function(t,e){if(t=N(t),e=Tt(e),xt)try{return Ct(t,e)}catch(t){}if(ht(t,e))return S(!y(w.f,t,e),t[e])}},Rt=d&&p((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),kt=String,Nt=TypeError,Mt=function(t){if(W(t))return t;throw Nt(kt(t)+" is not an object")},Ut=TypeError,Dt=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,Bt="enumerable",Wt="configurable",Ft="writable",zt={f:d?Rt?function(t,e,n){if(Mt(t),e=Tt(e),Mt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ft in n&&!n[Ft]){var r=Ht(t,e);r&&r[Ft]&&(t[e]=n.value,n={configurable:Wt in n?n[Wt]:r[Wt],enumerable:Bt in n?n[Bt]:r[Bt],writable:!1})}return Dt(t,e,n)}:Dt:function(t,e,n){if(Mt(t),e=Tt(e),Mt(n),xt)try{return Dt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ut("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Gt=d?function(t,e,n){return zt.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},qt=Function.prototype,Vt=d&&Object.getOwnPropertyDescriptor,Xt=ht(qt,"name"),Yt={EXISTS:Xt,PROPER:Xt&&"something"===function(){}.name,CONFIGURABLE:Xt&&(!d||d&&Vt(qt,"name").configurable)},Jt=P(Function.toString);H(ft.inspectSource)||(ft.inspectSource=function(t){return Jt(t)});var Kt,Qt,$t,Zt=ft.inspectSource,te=s.WeakMap,ee=H(te)&&/native code/.test(String(te)),ne=lt("keys"),re=function(t){return ne[t]||(ne[t]=mt(t))},oe={},ie="Object already initialized",ae=s.TypeError,ce=s.WeakMap;if(ee||ft.state){var ue=ft.state||(ft.state=new ce);ue.get=ue.get,ue.has=ue.has,ue.set=ue.set,Kt=function(t,e){if(ue.has(t))throw ae(ie);return e.facade=t,ue.set(t,e),e},Qt=function(t){return ue.get(t)||{}},$t=function(t){return ue.has(t)}}else{var fe=re("state");oe[fe]=!0,Kt=function(t,e){if(ht(t,fe))throw ae(ie);return e.facade=t,Gt(t,fe,e),e},Qt=function(t){return ht(t,fe)?t[fe]:{}},$t=function(t){return ht(t,fe)}}var le={set:Kt,get:Qt,has:$t,enforce:function(t){return $t(t)?Qt(t):Kt(t,{})},getterFor:function(t){return function(e){var n;if(!W(e)||(n=Qt(e)).type!==t)throw ae("Incompatible receiver, "+t+" required");return n}}},se=c((function(t){var e=Yt.CONFIGURABLE,n=le.enforce,r=le.get,o=String,i=Object.defineProperty,a=P("".slice),c=P("".replace),u=P([].join),f=d&&!p((function(){return 8!==i((function(){}),"length",{value:8}).length})),l=String(String).split("String"),s=t.exports=function(t,r,s){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(r="get "+r),s&&s.setter&&(r="set "+r),(!ht(t,"name")||e&&t.name!==r)&&(d?i(t,"name",{value:r,configurable:!0}):t.name=r),f&&s&&ht(s,"arity")&&t.length!==s.arity&&i(t,"length",{value:s.arity});try{s&&ht(s,"constructor")&&s.constructor?d&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var p=n(t);return ht(p,"source")||(p.source=u(l,"string"==typeof r?r:"")),t};Function.prototype.toString=s((function(){return H(this)&&r(this).source||Zt(this)}),"toString")})),pe=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(H(n)&&se(n,i,r),r.global)o?t[e]=n:ct(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:zt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},de=Math.ceil,he=Math.floor,ve=Math.trunc||function(t){var e=+t;return(e>0?he:de)(e)},ye=function(t){var e=+t;return e!=e||0===e?0:ve(e)},ge=Math.max,me=Math.min,be=Math.min,we=function(t){return(e=t.length)>0?be(ye(e),9007199254740991):0;var e},Se=function(t){return function(e,n,r){var o,i=N(e),a=we(i),c=function(t,e){var n=ye(t);return n<0?ge(n+e,0):me(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},Ae={includes:Se(!0),indexOf:Se(!1)}.indexOf,Oe=P([].push),Ee=function(t,e){var n,r=N(t),o=0,i=[];for(n in r)!ht(oe,n)&&ht(r,n)&&Oe(i,n);for(;e.length>o;)ht(r,n=e[o++])&&(~Ae(i,n)||Oe(i,n));return i},Pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Te=Pe.concat("length","prototype"),_e={f:Object.getOwnPropertyNames||function(t){return Ee(t,Te)}},je={f:Object.getOwnPropertySymbols},Le=P([].concat),xe=F("Reflect","ownKeys")||function(t){var e=_e.f(Mt(t)),n=je.f;return n?Le(e,n(t)):e},Ce=function(t,e,n){for(var r=xe(e),o=zt.f,i=It.f,a=0;a<r.length;a++){var c=r[a];ht(t,c)||n&&ht(n,c)||o(t,c,i(e,c))}},Ie=/#|\.prototype\./,Re=function(t,e){var n=Ne[ke(t)];return n==Ue||n!=Me&&(H(e)?p(e):!!e)},ke=Re.normalize=function(t){return String(t).replace(Ie,".").toLowerCase()},Ne=Re.data={},Me=Re.NATIVE="N",Ue=Re.POLYFILL="P",De=Re,He=It.f,Be=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,f=t.stat;if(n=u?s:f?s[c]||ct(c,{}):(s[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=He(n,r))&&a.value:n[r],!De(u?r:c+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ce(i,o)}(t.sham||o&&o.sham)&&Gt(i,"sham",!0),pe(n,r,i,t)}},We=Object.keys||function(t){return Ee(t,Pe)},Fe=Object.assign,ze=Object.defineProperty,Ge=P([].concat),qe=!Fe||p((function(){if(d&&1!==Fe({b:1},Fe(ze({},"a",{enumerable:!0,get:function(){ze(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Fe({},t)[n]||We(Fe({},e)).join("")!=r}))?function(t,e){for(var n=pt(t),r=arguments.length,o=1,i=je.f,a=w.f;r>o;)for(var c,u=C(arguments[o++]),f=i?Ge(We(u),i(u)):We(u),l=f.length,s=0;l>s;)c=f[s++],d&&!y(a,u,c)||(n[c]=u[c]);return n}:Fe;Be({target:"Object",stat:!0,arity:2,forced:Object.assign!==qe},{assign:qe});var Ve=Array.isArray||function(t){return"Array"==j(t)},Xe=TypeError,Ye=function(t){if(t>9007199254740991)throw Xe("Maximum allowed index exceeded");return t},Je=function(t,e,n){var r=Tt(e);r in t?zt.f(t,r,S(0,n)):t[r]=n},Ke={};Ke[At("toStringTag")]="z";var Qe="[object z]"===String(Ke),$e=At("toStringTag"),Ze=Object,tn="Arguments"==j(function(){return arguments}()),en=Qe?j:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ze(t),$e))?n:tn?j(e):"Object"==(r=j(e))&&H(e.callee)?"Arguments":r},nn=function(){},rn=[],on=F("Reflect","construct"),an=/^\s*(?:class|function)\b/,cn=P(an.exec),un=!an.exec(nn),fn=function(t){if(!H(t))return!1;try{return on(nn,rn,t),!0}catch(t){return!1}},ln=function(t){if(!H(t))return!1;switch(en(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return un||!!cn(an,Zt(t))}catch(t){return!0}};ln.sham=!0;var sn,pn=!on||p((function(){var t;return fn(fn.call)||!fn(Object)||!fn((function(){t=!0}))||t}))?ln:fn,dn=At("species"),hn=Array,vn=function(t,e){return new(function(t){var e;return Ve(t)&&(e=t.constructor,(pn(e)&&(e===hn||Ve(e.prototype))||W(e)&&null===(e=e[dn]))&&(e=void 0)),void 0===e?hn:e}(t))(0===e?0:e)},yn=At("species"),gn=At("isConcatSpreadable"),mn=J>=51||!p((function(){var t=[];return t[gn]=!1,t.concat()[0]!==t})),bn=function(t){if(!W(t))return!1;var e=t[gn];return void 0!==e?!!e:Ve(t)},wn=!(mn&&(sn="concat",J>=51||!p((function(){var t=[];return(t.constructor={})[yn]=function(){return{foo:1}},1!==t[sn](Boolean).foo}))));Be({target:"Array",proto:!0,arity:1,forced:wn},{concat:function(t){var e,n,r,o,i,a=pt(this),c=vn(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(bn(i=-1===e?a:arguments[e]))for(o=we(i),Ye(u+o),n=0;n<o;n++,u++)n in i&&Je(c,u,i[n]);else Ye(u+1),Je(c,u++,i);return c.length=u,c}});var Sn,An=d&&!Rt?Object.defineProperties:function(t,e){Mt(t);for(var n,r=N(e),o=We(e),i=o.length,a=0;i>a;)zt.f(t,n=o[a++],r[n]);return t},On={f:An},En=F("document","documentElement"),Pn="prototype",Tn="script",_n=re("IE_PROTO"),jn=function(){},Ln=function(t){return"<"+Tn+">"+t+"</"+Tn+">"},xn=function(t){t.write(Ln("")),t.close();var e=t.parentWindow.Object;return t=null,e},Cn=function(){try{Sn=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Cn="undefined"!=typeof document?document.domain&&Sn?xn(Sn):(e=Lt("iframe"),n="java"+Tn+":",e.style.display="none",En.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ln("document.F=Object")),t.close(),t.F):xn(Sn);for(var r=Pe.length;r--;)delete Cn[Pn][Pe[r]];return Cn()};oe[_n]=!0;var In=Object.create||function(t,e){var n;return null!==t?(jn[Pn]=Mt(t),n=new jn,jn[Pn]=null,n[_n]=t):n=Cn(),void 0===e?n:On.f(n,e)},Rn=zt.f,kn=At("unscopables"),Nn=Array.prototype;null==Nn[kn]&&Rn(Nn,kn,{configurable:!0,value:In(null)});var Mn,Un,Dn,Hn=function(t){Nn[kn][t]=!0},Bn={},Wn=!p((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Fn=re("IE_PROTO"),zn=Object,Gn=zn.prototype,qn=Wn?zn.getPrototypeOf:function(t){var e=pt(t);if(ht(e,Fn))return e[Fn];var n=e.constructor;return H(n)&&e instanceof n?n.prototype:e instanceof zn?Gn:null},Vn=At("iterator"),Xn=!1;[].keys&&("next"in(Dn=[].keys())?(Un=qn(qn(Dn)))!==Object.prototype&&(Mn=Un):Xn=!0);var Yn=!W(Mn)||p((function(){var t={};return Mn[Vn].call(t)!==t}));Yn&&(Mn={}),H(Mn[Vn])||pe(Mn,Vn,(function(){return this}));var Jn={IteratorPrototype:Mn,BUGGY_SAFARI_ITERATORS:Xn},Kn=zt.f,Qn=At("toStringTag"),$n=function(t,e,n){t&&!n&&(t=t.prototype),t&&!ht(t,Qn)&&Kn(t,Qn,{configurable:!0,value:e})},Zn=Jn.IteratorPrototype,tr=function(){return this},er=String,nr=TypeError,rr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=function(t,e,n){try{return P(rt(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Mt(n),function(t){if("object"==typeof t||H(t))return t;throw nr("Can't set "+er(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),or=Yt.PROPER,ir=Yt.CONFIGURABLE,ar=Jn.IteratorPrototype,cr=Jn.BUGGY_SAFARI_ITERATORS,ur=At("iterator"),fr="keys",lr="values",sr="entries",pr=function(){return this},dr=function(t,e,n,r,o,i,a){!function(t,e,n,r){var o=e+" Iterator";t.prototype=In(Zn,{next:S(+!r,n)}),$n(t,o,!1),Bn[o]=tr}(n,e,r);var c,u,f,l=function(t){if(t===o&&v)return v;if(!cr&&t in d)return d[t];switch(t){case fr:case lr:case sr:return function(){return new n(this,t)}}return function(){return new n(this)}},s=e+" Iterator",p=!1,d=t.prototype,h=d[ur]||d["@@iterator"]||o&&d[o],v=!cr&&h||l(o),g="Array"==e&&d.entries||h;if(g&&(c=qn(g.call(new t)))!==Object.prototype&&c.next&&(qn(c)!==ar&&(rr?rr(c,ar):H(c[ur])||pe(c,ur,pr)),$n(c,s,!0)),or&&o==lr&&h&&h.name!==lr&&(ir?Gt(d,"name",lr):(p=!0,v=function(){return y(h,this)})),o)if(u={values:l(lr),keys:i?v:l(fr),entries:l(sr)},a)for(f in u)(cr||p||!(f in d))&&pe(d,f,u[f]);else Be({target:e,proto:!0,forced:cr||p},u);return d[ur]!==v&&pe(d,ur,v,{name:o}),Bn[e]=v,u},hr=function(t,e){return{value:t,done:e}},vr=zt.f,yr="Array Iterator",gr=le.set,mr=le.getterFor(yr),br=dr(Array,"Array",(function(t,e){gr(this,{type:yr,target:N(t),index:0,kind:e})}),(function(){var t=mr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,hr(void 0,!0)):hr("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),wr=Bn.Arguments=Bn.Array;if(Hn("keys"),Hn("values"),Hn("entries"),d&&"values"!==wr.name)try{vr(wr,"name",{value:"values"})}catch(t){}var Sr=Qe?{}.toString:function(){return"[object "+en(this)+"]"};Qe||pe(Object.prototype,"toString",Sr,{unsafe:!0});var Ar,Or,Er,Pr,Tr="undefined"!=typeof process&&"process"==j(process),_r=At("species"),jr=TypeError,Lr=TypeError,xr=At("species"),Cr=function(t,e){var n,r=Mt(t).constructor;return void 0===r||I(n=Mt(r)[xr])?e:function(t){if(pn(t))return t;throw Lr(et(t)+" is not a constructor")}(n)},Ir=Function.prototype,Rr=Ir.apply,kr=Ir.call,Nr="object"==typeof Reflect&&Reflect.apply||(h?kr.bind(Rr):function(){return kr.apply(Rr,arguments)}),Mr=function(t){if("Function"===j(t))return P(t)},Ur=Mr(Mr.bind),Dr=function(t,e){return rt(t),void 0===e?t:h?Ur(t,e):function(){return t.apply(e,arguments)}},Hr=P([].slice),Br=TypeError,Wr=/(?:ipad|iphone|ipod).*applewebkit/i.test(G),Fr=s.setImmediate,zr=s.clearImmediate,Gr=s.process,qr=s.Dispatch,Vr=s.Function,Xr=s.MessageChannel,Yr=s.String,Jr=0,Kr={},Qr="onreadystatechange";p((function(){Ar=s.location}));var $r=function(t){if(ht(Kr,t)){var e=Kr[t];delete Kr[t],e()}},Zr=function(t){return function(){$r(t)}},to=function(t){$r(t.data)},eo=function(t){s.postMessage(Yr(t),Ar.protocol+"//"+Ar.host)};Fr&&zr||(Fr=function(t){!function(t,e){if(t<e)throw Br("Not enough arguments")}(arguments.length,1);var e=H(t)?t:Vr(t),n=Hr(arguments,1);return Kr[++Jr]=function(){Nr(e,void 0,n)},Or(Jr),Jr},zr=function(t){delete Kr[t]},Tr?Or=function(t){Gr.nextTick(Zr(t))}:qr&&qr.now?Or=function(t){qr.now(Zr(t))}:Xr&&!Wr?(Pr=(Er=new Xr).port2,Er.port1.onmessage=to,Or=Dr(Pr.postMessage,Pr)):s.addEventListener&&H(s.postMessage)&&!s.importScripts&&Ar&&"file:"!==Ar.protocol&&!p(eo)?(Or=eo,s.addEventListener("message",to,!1)):Or=Qr in Lt("script")?function(t){En.appendChild(Lt("script"))[Qr]=function(){En.removeChild(this),$r(t)}}:function(t){setTimeout(Zr(t),0)});var no={set:Fr,clear:zr},ro=function(){this.head=null,this.tail=null};ro.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var oo,io,ao,co,uo,fo=ro,lo=/ipad|iphone|ipod/i.test(G)&&"undefined"!=typeof Pebble,so=/web0s(?!.*chrome)/i.test(G),po=It.f,ho=no.set,vo=s.MutationObserver||s.WebKitMutationObserver,yo=s.document,go=s.process,mo=s.Promise,bo=po(s,"queueMicrotask"),wo=bo&&bo.value;if(!wo){var So=new fo,Ao=function(){var t,e;for(Tr&&(t=go.domain)&&t.exit();e=So.get();)try{e()}catch(t){throw So.head&&oo(),t}t&&t.enter()};Wr||Tr||so||!vo||!yo?!lo&&mo&&mo.resolve?((co=mo.resolve(void 0)).constructor=mo,uo=Dr(co.then,co),oo=function(){uo(Ao)}):Tr?oo=function(){go.nextTick(Ao)}:(ho=Dr(ho,s),oo=function(){ho(Ao)}):(io=!0,ao=yo.createTextNode(""),new vo(Ao).observe(ao,{characterData:!0}),oo=function(){ao.data=io=!io}),wo=function(t){So.head||oo(),So.add(t)}}var Oo=wo,Eo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Po=s.Promise,To="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,_o=!To&&!Tr&&"object"==typeof window&&"object"==typeof document;Po&&Po.prototype;var jo,Lo,xo,Co,Io,Ro,ko,No=At("species"),Mo=!1,Uo=H(s.PromiseRejectionEvent),Do=De("Promise",(function(){var t=Zt(Po),e=t!==String(Po);if(!e&&66===J)return!0;if(!J||J<51||!/native code/.test(t)){var n=new Po((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[No]=r,!(Mo=n.then((function(){}))instanceof r))return!0}return!e&&(_o||To)&&!Uo})),Ho={CONSTRUCTOR:Do,REJECTION_EVENT:Uo,SUBCLASSING:Mo},Bo=TypeError,Wo=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Bo("Bad Promise constructor");e=t,n=r})),this.resolve=rt(e),this.reject=rt(n)},Fo={f:function(t){return new Wo(t)}},zo=no.set,Go="Promise",qo=Ho.CONSTRUCTOR,Vo=Ho.REJECTION_EVENT,Xo=Ho.SUBCLASSING,Yo=le.getterFor(Go),Jo=le.set,Ko=Po&&Po.prototype,Qo=Po,$o=Ko,Zo=s.TypeError,ti=s.document,ei=s.process,ni=Fo.f,ri=ni,oi=!!(ti&&ti.createEvent&&s.dispatchEvent),ii="unhandledrejection",ai=function(t){var e;return!(!W(t)||!H(e=t.then))&&e},ci=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,f=t.reject,l=t.domain;try{c?(a||(2===e.rejection&&pi(e),e.rejection=1),!0===c?n=i:(l&&l.enter(),n=c(i),l&&(l.exit(),o=!0)),n===t.promise?f(Zo("Promise-chain cycle")):(r=ai(n))?y(r,n,u,f):u(n)):f(i)}catch(t){l&&!o&&l.exit(),f(t)}},ui=function(t,e){t.notified||(t.notified=!0,Oo((function(){for(var n,r=t.reactions;n=r.get();)ci(n,t);t.notified=!1,e&&!t.rejection&&li(t)})))},fi=function(t,e,n){var r,o;oi?((r=ti.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!Vo&&(o=s["on"+t])?o(r):t===ii&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},li=function(t){y(zo,s,(function(){var e,n=t.facade,r=t.value;if(si(t)&&(e=Eo((function(){Tr?ei.emit("unhandledRejection",r,n):fi(ii,n,r)})),t.rejection=Tr||si(t)?2:1,e.error))throw e.value}))},si=function(t){return 1!==t.rejection&&!t.parent},pi=function(t){y(zo,s,(function(){var e=t.facade;Tr?ei.emit("rejectionHandled",e):fi("rejectionhandled",e,t.value)}))},di=function(t,e,n){return function(r){t(e,r,n)}},hi=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ui(t,!0))},vi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Zo("Promise can't be resolved itself");var r=ai(e);r?Oo((function(){var n={done:!1};try{y(r,e,di(vi,n,t),di(hi,n,t))}catch(e){hi(n,e,t)}})):(t.value=e,t.state=1,ui(t,!1))}catch(e){hi({done:!1},e,t)}}};if(qo&&($o=(Qo=function(t){!function(t,e){if(z(e,t))return t;throw jr("Incorrect invocation")}(this,$o),rt(t),y(jo,this);var e=Yo(this);try{t(di(vi,e),di(hi,e))}catch(t){hi(e,t)}}).prototype,(jo=function(t){Jo(this,{type:Go,done:!1,notified:!1,parent:!1,reactions:new fo,rejection:!1,state:0,value:void 0})}).prototype=pe($o,"then",(function(t,e){var n=Yo(this),r=ni(Cr(this,Qo));return n.parent=!0,r.ok=!H(t)||t,r.fail=H(e)&&e,r.domain=Tr?ei.domain:void 0,0==n.state?n.reactions.add(r):Oo((function(){ci(r,n)})),r.promise})),Lo=function(){var t=new jo,e=Yo(t);this.promise=t,this.resolve=di(vi,e),this.reject=di(hi,e)},Fo.f=ni=function(t){return t===Qo||undefined===t?new Lo(t):ri(t)},H(Po)&&Ko!==Object.prototype)){xo=Ko.then,Xo||pe(Ko,"then",(function(t,e){var n=this;return new Qo((function(t,e){y(xo,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Ko.constructor}catch(t){}rr&&rr(Ko,$o)}Be({global:!0,constructor:!0,wrap:!0,forced:qo},{Promise:Qo}),$n(Qo,Go,!1),ko=F(Go),d&&ko&&!ko[_r]&&(Co=ko,Io=_r,(Ro={configurable:!0,get:function(){return this}}).get&&se(Ro.get,Io,{getter:!0}),Ro.set&&se(Ro.set,Io,{setter:!0}),zt.f(Co,Io,Ro));var yi=At("iterator"),gi=Array.prototype,mi=At("iterator"),bi=function(t){if(!I(t))return ot(t,mi)||ot(t,"@@iterator")||Bn[en(t)]},wi=TypeError,Si=function(t,e,n){var r,o;Mt(t);try{if(!(r=ot(t,"return"))){if("throw"===e)throw n;return n}r=y(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Mt(r),n},Ai=TypeError,Oi=function(t,e){this.stopped=t,this.result=e},Ei=Oi.prototype,Pi=function(t,e,n){var r,o,i,a,c,u,f,l,s=n&&n.that,p=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=Dr(e,s),m=function(t){return r&&Si(r,"normal",t),new Oi(!0,t)},b=function(t){return p?(Mt(t),v?g(t[0],t[1],m):g(t[0],t[1])):v?g(t,m):g(t)};if(d)r=t.iterator;else if(h)r=t;else{if(!(o=bi(t)))throw Ai(et(t)+" is not iterable");if(void 0!==(l=o)&&(Bn.Array===l||gi[yi]===l)){for(i=0,a=we(t);a>i;i++)if((c=b(t[i]))&&z(Ei,c))return c;return new Oi(!1)}r=function(t,e){var n=arguments.length<2?bi(t):e;if(rt(n))return Mt(y(n,t));throw wi(et(t)+" is not iterable")}(t,o)}for(u=d?t.next:r.next;!(f=y(u,r)).done;){try{c=b(f.value)}catch(t){Si(r,"throw",t)}if("object"==typeof c&&c&&z(Ei,c))return c}return new Oi(!1)},Ti=At("iterator"),_i=!1;try{var ji=0,Li={next:function(){return{done:!!ji++}},return:function(){_i=!0}};Li[Ti]=function(){return this},Array.from(Li,(function(){throw 2}))}catch(t){}var xi=Ho.CONSTRUCTOR||!function(t,e){if(!e&&!_i)return!1;var n=!1;try{var r={};r[Ti]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Po.all(t).then(void 0,(function(){}))}));Be({target:"Promise",stat:!0,forced:xi},{all:function(t){var e=this,n=Fo.f(e),r=n.resolve,o=n.reject,i=Eo((function(){var n=rt(e.resolve),i=[],a=0,c=1;Pi(t,(function(t){var u=a++,f=!1;c++,y(n,e,t).then((function(t){f||(f=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var Ci=Ho.CONSTRUCTOR,Ii=Po&&Po.prototype;if(Be({target:"Promise",proto:!0,forced:Ci,real:!0},{catch:function(t){return this.then(void 0,t)}}),H(Po)){var Ri=F("Promise").prototype.catch;Ii.catch!==Ri&&pe(Ii,"catch",Ri,{unsafe:!0})}Be({target:"Promise",stat:!0,forced:xi},{race:function(t){var e=this,n=Fo.f(e),r=n.reject,o=Eo((function(){var o=rt(e.resolve);Pi(t,(function(t){y(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Be({target:"Promise",stat:!0,forced:Ho.CONSTRUCTOR},{reject:function(t){var e=Fo.f(this);return y(e.reject,void 0,t),e.promise}});var ki=Ho.CONSTRUCTOR;F("Promise"),Be({target:"Promise",stat:!0,forced:ki},{resolve:function(t){return function(t,e){if(Mt(t),W(e)&&e.constructor===t)return e;var n=Fo.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var Ni=String,Mi=function(t){if("Symbol"===en(t))throw TypeError("Cannot convert a Symbol value to a string");return Ni(t)},Ui=P("".charAt),Di=P("".charCodeAt),Hi=P("".slice),Bi=function(t){return function(e,n){var r,o,i=Mi(k(e)),a=ye(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=Di(i,a))<55296||r>56319||a+1===c||(o=Di(i,a+1))<56320||o>57343?t?Ui(i,a):r:t?Hi(i,a,a+2):o-56320+(r-55296<<10)+65536}},Wi={codeAt:Bi(!1),charAt:Bi(!0)}.charAt,Fi="String Iterator",zi=le.set,Gi=le.getterFor(Fi);dr(String,"String",(function(t){zi(this,{type:Fi,string:Mi(t),index:0})}),(function(){var t,e=Gi(this),n=e.string,r=e.index;return r>=n.length?hr(void 0,!0):(t=Wi(n,r),e.index+=t.length,hr(t,!1))}));var qi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Vi=Lt("span").classList,Xi=Vi&&Vi.constructor&&Vi.constructor.prototype,Yi=Xi===Object.prototype?void 0:Xi,Ji=At("iterator"),Ki=At("toStringTag"),Qi=br.values,$i=function(t,e){if(t){if(t[Ji]!==Qi)try{Gt(t,Ji,Qi)}catch(e){t[Ji]=Qi}if(t[Ki]||Gt(t,Ki,e),qi[e])for(var n in br)if(t[n]!==br[n])try{Gt(t,n,br[n])}catch(e){t[n]=br[n]}}};for(var Zi in qi)$i(s[Zi]&&s[Zi].prototype,Zi);$i(Yi,"DOMTokenList");var ta=function(){return ta=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ta.apply(this,arguments)},ea={weixinJsSdkTicket:"",launchContainerQuery:".mazey-launch-app-selector",launchShowWeixinToBrowserImgUrl:"",canShowWeixinToBrowser:!1,extInfo:"",serviceAccountAppId:"",wexinServiceAccountAppId:"",openPlatformMobileAppId:"",genTagPrefixStr:"mazey-launch-app-btn-prefix-",launchShowWeixinToBrowserClassName:"mazey-launch-app-wx-to-browser",launchBtnClassName:"mazey-launch-app-inner-btn",launchBtnStyle:"",launchBtnText:"Launch App <br /><br /><br />",launchErrorLink:"",canContinuousUpdating:!1,onMenuShareTimelineOptions:void 0,onMenuShareAppMessageOptions:void 0,isConClosed:!0,isWxDebug:!1,canLaunchApp:function(){return!0},canFireErrorLinkDirectly:function(){return!1},launchBtnClick:function(){},launchReady:function(){}};module.exports=function(e){void 0===e&&(e=ea);var n=Object.assign(ea,e),r=n.weixinJsSdkTicket,a=n.launchContainerQuery,c=n.genTagPrefixStr,u=n.launchShowWeixinToBrowserImgUrl,f=n.canShowWeixinToBrowser,l=n.launchShowWeixinToBrowserClassName,s=n.launchBtnClassName,p=n.launchBtnStyle,d=n.launchBtnText,h=n.launchErrorLink,v=n.wexinServiceAccountAppId,y=n.openPlatformMobileAppId,g=n.canContinuousUpdating,m=n.onMenuShareTimelineOptions,b=n.onMenuShareAppMessageOptions,w=n.isConClosed,S=n.isWxDebug,A=n.canLaunchApp,O=n.canFireErrorLinkDirectly,E=n.launchBtnClick,P=n.launchReady,T=n.serviceAccountAppId,_=n.extInfo,j=window.wx;j||console.error("Launch App: wx is not found");var L=function(){},x=t.genCustomConsole("LaunchCon:",{isClosed:w});x.log("Launch App");var C={title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}},I={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},R={title:document.title,link:location.href};C=ta(ta({},C),R),I=ta(ta({},I),R);var k=function(t,e,n){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="button"),"<style>.".concat(s,"{")+"opacity: 0;width: 100%;height: 100%;backgroud: transparent;color: #300f54;border: none;box-sizing: border-box;text-align: center;vertical-align: middle;"+p+e+"}</style>"+"<".concat(n,' class="').concat(s,'"')+(t&&"button"===n?' onclick="'.concat(t,'"'):"")+(t&&"a"===n?' target="_self" href="'.concat(t,'"'):"")+">"+d+"</".concat(n,">")},N=k();function M(){t.addStyle('.mazey-launch-app-mask{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, .5);text-align:right;font-size:0;white-space:nowrap;overflow:auto;z-index:999;}.mazey-launch-app-img{display:inline-block;vertical-align:middle;text-align:left;font-size:14px;white-space:normal;width:50vw;margin:0.5rem 0.5rem 0 0;}.mazey-launch-app-img:after{content:"";display:inline-block;height:100%;vertical-align:middle;}',{id:"mazey-launch-app-mask-style"}),window.LAUNCH_APP_HIDE_WEIXIN_BROWSER||(window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=function(){o.default(".mazey-launch-app-mask").hide()}),0===o.default(".mazey-launch-app-mask").length?o.default("body").append("<div class='mazey-launch-app-mask' onclick='window.LAUNCH_APP_HIDE_WEIXIN_BROWSER()'><img "+"class='mazey-launch-app-img ".concat(l,"' ")+"src='".concat(u,"' ")+"alt='Launch App' /></div>"):o.default(".mazey-launch-app-mask").show()}function U(){x.log("renderWeixinLaunchTemplate"),!T&&v&&(console.warn("wexinServiceAccountAppId will be deprecated, use serviceAccountAppId instead."),T=v),function(e,n){void 0===e&&(e=""),void 0===n&&(n=""),x.log("renderWXOpenLaunchApp"),Promise.all([Promise.resolve(r||window.LAUNCH_APP_WEIXIN_JS_SDK_TICKET),Promise.resolve(i.default)]).then((function(r){x.log("allRes",r);var i=r[0],u=r[1],l=t.generateRndNum(7),s=i,p=(new Date).getTime(),d=u("jsapi_ticket="+s+"&noncestr="+l+"&timestamp="+p+"&url="+location.href);return j.config({debug:S,appId:e,timestamp:p,nonceStr:l,signature:d,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage"],openTagList:["wx-open-launch-app"]}),j.ready((function(){m&&(x.log("onMenuShareTimelineOptions",m),j.onMenuShareTimeline(m)),window.LAUNCH_APP_SHARE_TIMELINE=function(t){t=ta(ta({},C),t),x.log("window LAUNCH_APP_SHARE_TIMELINE",t),j.onMenuShareTimeline(t)},b&&(x.log("onMenuShareAppMessageOptions",b),j.onMenuShareAppMessage(b)),window.LAUNCH_APP_SHARE_APP_MESSAGE=function(t){t=ta(ta({},I),t),x.log("window LAUNCH_APP_SHARE_APP_MESSAGE",t),j.onMenuShareAppMessage(t)},window.LAUNCH_APP_READY=!0,P&&P();var t=function(){var t=o.default(a);x.log("containers",a,t,t.length),t.length>0&&t.each((function(t,e){var r=o.default(e).attr("data-launch-app-key");if(!r){var i=o.default(e).parents("[data-launch-app-key]:eq(0)");i.length>0&&(r=i.attr("data-launch-app-key"),x.log("keyEle",i,r))}r||(r=String(t));var a="mazey-launch-app-tag-".concat(r),u=o.default(".".concat(a," wx-open-launch-app")),l=o.default(e).attr("data-launch-app-ext-info");if(!l){var s=o.default(e).parents("[data-launch-app-ext-info]:eq(0)");s.length>0&&(l=s.attr("data-launch-app-ext-info"),x.log("eleExtInfoEle parents",s,l))}l&&(_=l);var p=o.default(e).attr("data-launch-app-error-link");if(!p){var d=o.default(e).parents("[data-launch-app-error-link]:eq(0)");d.length>0&&(p=d.attr("data-launch-app-error-link"),x.log("eleErrorLinkEle parents",d,p))}var v=h;p&&(v=p),0===u.length&&(o.default(e).addClass(a),x.log("success:",a),function(t){var e=c,r=e+t,i="<wx-open-launch-app id='"+r+"' appid='"+n+"' extinfo='".concat(_)+"' style='z-index:99;position:absolute;width:100%;height:100%;opacity:1;background:transparent;overflow:hidden;left:0;'><script type='text/wxtag-template'>"+N+"<\/script></wx-open-launch-app>";o.default("."+t+":eq(0)").append(i);var a=document.getElementById(r);a&&(a.addEventListener("ready",(function(t){x.log("ready event",t)})),a.addEventListener("launch",(function(t){x.log("launch event",t),t.detail&&t.detail.extInfo&&x.log("launch extInfo",t.detail.extInfo)})),a.addEventListener("error",(function(t){x.error(t.detail),o.default("[id^='"+e+"']").hide(),f&&M(),v&&(x.log("realErrorLink",v),location.href=v)})),a.addEventListener("click",(function(t){x.log("click event",t),E&&E()})))}(a))}))};t(),L=t})),j.error((function(t){x.error(t)})),"success:launch_app"})).catch((function(t){x.error(t)}))}(T,y)}function D(t){if(x.log("appUpdated",t),!window.LAUNCH_APP_LOAD&&A(t)&&(U(),window.LAUNCH_APP_LOAD=!0),g&&window.LAUNCH_APP_LOAD&&A(t)&&L(),O()){var e=o.default(a);e.length>0&&e.each((function(t,e){var n=o.default(e).children("."+s);if(!n||!n.length){var r=o.default(e).attr("data-launch-app-error-link");if(!r){var i=o.default(e).parents("[data-launch-app-error-link]:eq(0)");i.length>0&&(r=i.attr("data-launch-app-error-link"))}if(r&&"string"==typeof r&&r.length){var a=k(r,"position:absolute;left:0;z-index:999;","a");o.default(e).append(a)}}}))}}function H(){x.log("appBeforeDestroy",H),window.LAUNCH_APP_LOAD=null,window.LAUNCH_APP_HIDE_WEIXIN_BROWSER=null}return window.LAUNCH_APP_UPDATE=D,window.LAUNCH_APP_BEFORE_DESTROY=H,window.LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER=M,{LAUNCH_APP_UPDATE:D,LAUNCH_APP_BEFORE_DESTROY:H,LAUNCH_APP_SHOW_WEIXIN_TO_BROWSER:M,LAUNCH_APP_SHARE_TIMELINE:function(t){x.log("opt",t)},LAUNCH_APP_SHARE_APP_MESSAGE:function(t){x.log("opt",t)},start:D,update:D,destroy:H}};
